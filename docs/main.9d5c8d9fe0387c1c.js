(self.webpackChunkprojekti=self.webpackChunkprojekti||[]).push([[179],{9058:(ae,se,y)=>{"use strict";y.d(se,{BH:()=>W,DV:()=>ge,Dv:()=>lt,G6:()=>hn,GJ:()=>Dn,L:()=>j,LL:()=>qe,Pz:()=>k,Sg:()=>be,UG:()=>fe,UI:()=>G,US:()=>U,Wj:()=>ft,Wl:()=>Ye,Yr:()=>wn,ZB:()=>Q,ZR:()=>ze,aH:()=>M,b$:()=>Be,cI:()=>he,dS:()=>Gt,eu:()=>Ke,g5:()=>D,gK:()=>je,gQ:()=>jt,h$:()=>F,hl:()=>tt,hu:()=>I,jU:()=>Ce,lb:()=>Ft,m9:()=>ht,ne:()=>Fn,p$:()=>$,pd:()=>Qt,r3:()=>An,ru:()=>Pe,tV:()=>O,uI:()=>Re,ug:()=>dn,vZ:()=>Ee,w1:()=>Ht,w9:()=>fn,xO:()=>Tt,xb:()=>V,z$:()=>J,zd:()=>Nt});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},I=function(ie,z){if(!ie)throw D(z)},D=function(ie){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ie)},P=function(ie){const z=[];let oe=0;for(let Ne=0;Ne<ie.length;Ne++){let De=ie.charCodeAt(Ne);De<128?z[oe++]=De:De<2048?(z[oe++]=De>>6|192,z[oe++]=63&De|128):55296==(64512&De)&&Ne+1<ie.length&&56320==(64512&ie.charCodeAt(Ne+1))?(De=65536+((1023&De)<<10)+(1023&ie.charCodeAt(++Ne)),z[oe++]=De>>18|240,z[oe++]=De>>12&63|128,z[oe++]=De>>6&63|128,z[oe++]=63&De|128):(z[oe++]=De>>12|224,z[oe++]=De>>6&63|128,z[oe++]=63&De|128)}return z},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,z){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ne=[];for(let De=0;De<ie.length;De+=3){const gt=ie[De],Le=De+1<ie.length,ve=Le?ie[De+1]:0,pe=De+2<ie.length,xe=pe?ie[De+2]:0;let Dt=(15&ve)<<2|xe>>6,en=63&xe;pe||(en=64,Le||(Dt=64)),Ne.push(oe[gt>>2],oe[(3&gt)<<4|ve>>4],oe[Dt],oe[en])}return Ne.join("")},encodeString(ie,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(ie):this.encodeByteArray(P(ie),z)},decodeString(ie,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(ie):function(ie){const z=[];let oe=0,Ne=0;for(;oe<ie.length;){const De=ie[oe++];if(De<128)z[Ne++]=String.fromCharCode(De);else if(De>191&&De<224){const gt=ie[oe++];z[Ne++]=String.fromCharCode((31&De)<<6|63&gt)}else if(De>239&&De<365){const pe=((7&De)<<18|(63&ie[oe++])<<12|(63&ie[oe++])<<6|63&ie[oe++])-65536;z[Ne++]=String.fromCharCode(55296+(pe>>10)),z[Ne++]=String.fromCharCode(56320+(1023&pe))}else{const gt=ie[oe++],Le=ie[oe++];z[Ne++]=String.fromCharCode((15&De)<<12|(63&gt)<<6|63&Le)}}return z.join("")}(this.decodeStringToByteArray(ie,z))},decodeStringToByteArray(ie,z){this.init_();const oe=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ne=[];for(let De=0;De<ie.length;){const gt=oe[ie.charAt(De++)],ve=De<ie.length?oe[ie.charAt(De)]:0;++De;const xe=De<ie.length?oe[ie.charAt(De)]:64;++De;const ot=De<ie.length?oe[ie.charAt(De)]:64;if(++De,null==gt||null==ve||null==xe||null==ot)throw new S;Ne.push(gt<<2|ve>>4),64!==xe&&(Ne.push(ve<<4&240|xe>>2),64!==ot&&Ne.push(xe<<6&192|ot))}return Ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}};class S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(ie){const z=P(ie);return U.encodeByteArray(z,!0)},j=function(ie){return F(ie).replace(/\./g,"")},O=function(ie){try{return U.decodeString(ie,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function $(ie){return Q(void 0,ie)}function Q(ie,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return z}for(const oe in z)!z.hasOwnProperty(oe)||!K(oe)||(ie[oe]=Q(ie[oe],z[oe]));return ie}function K(ie){return"__proto__"!==ie}const ee=()=>{try{return function Z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=ie&&O(ie[1]);return z&&JSON.parse(z)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},M=()=>{var ie;return null===(ie=ee())||void 0===ie?void 0:ie.config},k=ie=>{var z;return null===(z=ee())||void 0===z?void 0:z[`_${ie}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,oe)=>{this.resolve=z,this.reject=oe})}wrapCallback(z){return(oe,Ne)=>{oe?this.reject(oe):this.resolve(Ne),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(oe):z(oe,Ne))}}}function be(ie,z){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ne=z||"demo-project",De=ie.iat||0,gt=ie.sub||ie.user_id;if(!gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${Ne}`,aud:Ne,iat:De,exp:De+3600,auth_time:De,sub:gt,user_id:gt,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[j(JSON.stringify({alg:"none",type:"JWT"})),j(JSON.stringify(Le)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function fe(){var ie;const z=null===(ie=ee())||void 0===ie?void 0:ie.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Pe(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ht(){const ie=J();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function wn(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function hn(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function Ke(){return new Promise((ie,z)=>{try{let oe=!0;const Ne="validate-browser-context-for-indexeddb-analytics-module",De=self.indexedDB.open(Ne);De.onsuccess=()=>{De.result.close(),oe||self.indexedDB.deleteDatabase(Ne),ie(!0)},De.onupgradeneeded=()=>{oe=!1},De.onerror=()=>{var gt;z((null===(gt=De.error)||void 0===gt?void 0:gt.message)||"")}}catch(oe){z(oe)}})}class ze extends Error{constructor(z,oe,Ne){super(oe),this.code=z,this.customData=Ne,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(z,oe,Ne){this.service=z,this.serviceName=oe,this.errors=Ne}create(z,...oe){const Ne=oe[0]||{},De=`${this.service}/${z}`,gt=this.errors[z],Le=gt?function Ct(ie,z){return ie.replace(le,(oe,Ne)=>{const De=z[Ne];return null!=De?String(De):`<${Ne}?>`})}(gt,Ne):"Error";return new ze(De,`${this.serviceName}: ${Le} (${De}).`,Ne)}}const le=/\{\$([^}]+)}/g;function he(ie){return JSON.parse(ie)}function Ye(ie){return JSON.stringify(ie)}const Fe=function(ie){let z={},oe={},Ne={},De="";try{const gt=ie.split(".");z=he(O(gt[0])||""),oe=he(O(gt[1])||""),De=gt[2],Ne=oe.d||{},delete oe.d}catch{}return{header:z,claims:oe,data:Ne,signature:De}},fn=function(ie){const oe=Fe(ie).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},Dn=function(ie){const z=Fe(ie).claims;return"object"==typeof z&&!0===z.admin};function An(ie,z){return Object.prototype.hasOwnProperty.call(ie,z)}function ge(ie,z){if(Object.prototype.hasOwnProperty.call(ie,z))return ie[z]}function V(ie){for(const z in ie)if(Object.prototype.hasOwnProperty.call(ie,z))return!1;return!0}function G(ie,z,oe){const Ne={};for(const De in ie)Object.prototype.hasOwnProperty.call(ie,De)&&(Ne[De]=z.call(oe,ie[De],De,ie));return Ne}function Ee(ie,z){if(ie===z)return!0;const oe=Object.keys(ie),Ne=Object.keys(z);for(const De of oe){if(!Ne.includes(De))return!1;const gt=ie[De],Le=z[De];if(We(gt)&&We(Le)){if(!Ee(gt,Le))return!1}else if(gt!==Le)return!1}for(const De of Ne)if(!oe.includes(De))return!1;return!0}function We(ie){return null!==ie&&"object"==typeof ie}function Tt(ie){const z=[];for(const[oe,Ne]of Object.entries(ie))Array.isArray(Ne)?Ne.forEach(De=>{z.push(encodeURIComponent(oe)+"="+encodeURIComponent(De))}):z.push(encodeURIComponent(oe)+"="+encodeURIComponent(Ne));return z.length?"&"+z.join("&"):""}function Nt(ie){const z={};return ie.replace(/^\?/,"").split("&").forEach(Ne=>{if(Ne){const[De,gt]=Ne.split("=");z[decodeURIComponent(De)]=decodeURIComponent(gt)}}),z}function Qt(ie){const z=ie.indexOf("?");if(!z)return"";const oe=ie.indexOf("#",z);return ie.substring(z,oe>0?oe:void 0)}class jt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,oe){oe||(oe=0);const Ne=this.W_;if("string"==typeof z)for(let ot=0;ot<16;ot++)Ne[ot]=z.charCodeAt(oe)<<24|z.charCodeAt(oe+1)<<16|z.charCodeAt(oe+2)<<8|z.charCodeAt(oe+3),oe+=4;else for(let ot=0;ot<16;ot++)Ne[ot]=z[oe]<<24|z[oe+1]<<16|z[oe+2]<<8|z[oe+3],oe+=4;for(let ot=16;ot<80;ot++){const Dt=Ne[ot-3]^Ne[ot-8]^Ne[ot-14]^Ne[ot-16];Ne[ot]=4294967295&(Dt<<1|Dt>>>31)}let xe,Ve,De=this.chain_[0],gt=this.chain_[1],Le=this.chain_[2],ve=this.chain_[3],pe=this.chain_[4];for(let ot=0;ot<80;ot++){ot<40?ot<20?(xe=ve^gt&(Le^ve),Ve=1518500249):(xe=gt^Le^ve,Ve=1859775393):ot<60?(xe=gt&Le|ve&(gt|Le),Ve=2400959708):(xe=gt^Le^ve,Ve=3395469782);const Dt=(De<<5|De>>>27)+xe+pe+Ve+Ne[ot]&4294967295;pe=ve,ve=Le,Le=4294967295&(gt<<30|gt>>>2),gt=De,De=Dt}this.chain_[0]=this.chain_[0]+De&4294967295,this.chain_[1]=this.chain_[1]+gt&4294967295,this.chain_[2]=this.chain_[2]+Le&4294967295,this.chain_[3]=this.chain_[3]+ve&4294967295,this.chain_[4]=this.chain_[4]+pe&4294967295}update(z,oe){if(null==z)return;void 0===oe&&(oe=z.length);const Ne=oe-this.blockSize;let De=0;const gt=this.buf_;let Le=this.inbuf_;for(;De<oe;){if(0===Le)for(;De<=Ne;)this.compress_(z,De),De+=this.blockSize;if("string"==typeof z){for(;De<oe;)if(gt[Le]=z.charCodeAt(De),++Le,++De,Le===this.blockSize){this.compress_(gt),Le=0;break}}else for(;De<oe;)if(gt[Le]=z[De],++Le,++De,Le===this.blockSize){this.compress_(gt),Le=0;break}}this.inbuf_=Le,this.total_+=oe}digest(){const z=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let De=this.blockSize-1;De>=56;De--)this.buf_[De]=255&oe,oe/=256;this.compress_(this.buf_);let Ne=0;for(let De=0;De<5;De++)for(let gt=24;gt>=0;gt-=8)z[Ne]=this.chain_[De]>>gt&255,++Ne;return z}}function Fn(ie,z){const oe=new Wn(ie,z);return oe.subscribe.bind(oe)}class Wn{constructor(z,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{z(this)}).catch(Ne=>{this.error(Ne)})}next(z){this.forEachObserver(oe=>{oe.next(z)})}error(z){this.forEachObserver(oe=>{oe.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,oe,Ne){let De;if(void 0===z&&void 0===oe&&void 0===Ne)throw new Error("Missing Observer.");De=function Ae(ie,z){if("object"!=typeof ie||null===ie)return!1;for(const oe of z)if(oe in ie&&"function"==typeof ie[oe])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:oe,complete:Ne},void 0===De.next&&(De.next=Ze),void 0===De.error&&(De.error=Ze),void 0===De.complete&&(De.complete=Ze);const gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?De.error(this.finalError):De.complete()}catch{}}),this.observers.push(De),gt}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,z)}sendOne(z,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{oe(this.observers[z])}catch(Ne){typeof console<"u"&&console.error&&console.error(Ne)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ze(){}const lt=function(ie,z,oe,Ne){let De;if(Ne<z?De="at least "+z:Ne>oe&&(De=0===oe?"none":"no more than "+oe),De)throw new Error(ie+" failed: Was called with "+Ne+(1===Ne?" argument.":" arguments.")+" Expects "+De+".")};function je(ie,z){return`${ie} failed: ${z} argument `}function ft(ie,z,oe,Ne){if((!Ne||oe)&&"function"!=typeof oe)throw new Error(je(ie,z)+"must be a valid function.")}function Ft(ie,z,oe,Ne){if((!Ne||oe)&&("object"!=typeof oe||null===oe))throw new Error(je(ie,z)+"must be a valid context object.")}const Gt=function(ie){const z=[];let oe=0;for(let Ne=0;Ne<ie.length;Ne++){let De=ie.charCodeAt(Ne);if(De>=55296&&De<=56319){const gt=De-55296;Ne++,I(Ne<ie.length,"Surrogate pair missing trail surrogate."),De=65536+(gt<<10)+(ie.charCodeAt(Ne)-56320)}De<128?z[oe++]=De:De<2048?(z[oe++]=De>>6|192,z[oe++]=63&De|128):De<65536?(z[oe++]=De>>12|224,z[oe++]=De>>6&63|128,z[oe++]=63&De|128):(z[oe++]=De>>18|240,z[oe++]=De>>12&63|128,z[oe++]=De>>6&63|128,z[oe++]=63&De|128)}return z},dn=function(ie){let z=0;for(let oe=0;oe<ie.length;oe++){const Ne=ie.charCodeAt(oe);Ne<128?z++:Ne<2048?z+=2:Ne>=55296&&Ne<=56319?(z+=4,oe++):z+=3}return z};function ht(ie){return ie&&ie._delegate?ie._delegate:ie}},4851:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>LaskinComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6814),_angular_material_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2296),_angular_material_grid_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3176);function LaskinComponent_mat_grid_tile_11_Template(ae,se){if(1&ae){const y=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"mat-grid-tile")(1,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){const D=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(y).$implicit,P=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(P.calculate(D))}),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}if(2&ae){const y=se.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(y)}}let LaskinComponent=(()=>{class LaskinComponent{constructor(){this.buttons=["7","8","9","/","4","5","6","*","1","2","3","-","C","0","+","="],this.result="",this.laskinTitle="Nelilaskin"}calculate(value){if(console.log("addValue value: "+value),"C"===value)this.result="";else if("="===value)try{return this.result=eval(this.result),parseFloat(this.result)}catch(ae){return this.result="Error",NaN}else{if("Error"===this.result&&(this.result=""),value.match(/[+\-*/]/)&&this.result[this.result.length-1].match(/[+\-*/]/))return NaN;this.result+=value}return NaN}static#_=this.\u0275fac=function ae(se){return new(se||LaskinComponent)};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:LaskinComponent,selectors:[["app-laskin"]],decls:12,vars:3,consts:[[1,"title"],[1,"container"],[1,"value-container"],["cols","1","rowHeight","100px"],[1,"buttons"],["cols","4","rowHeight","100px"],[4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"]],template:function ae(se,y){1&se&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"h1",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2,"\n> "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",1)(4,"div",2)(5,"mat-grid-list",3)(6,"mat-grid-tile",2)(7,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(9,"div",4)(10,"mat-grid-list",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(11,LaskinComponent_mat_grid_tile_11_Template,3,1,"mat-grid-tile",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()),2&se&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(y.laskinTitle),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(y.result),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",y.buttons))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.sg,_angular_material_button__WEBPACK_IMPORTED_MODULE_2__.lW,_angular_material_grid_list__WEBPACK_IMPORTED_MODULE_3__.Il,_angular_material_grid_list__WEBPACK_IMPORTED_MODULE_3__.DX],styles:["mat-grid-tile[_ngcontent-%COMP%]{background:lightblue;align-items:center}mat-grid-list[_ngcontent-%COMP%]{background:lightblue}.buttons[_ngcontent-%COMP%]{background-color:#add8e6}h1[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]{width:300px;height:100px;align-items:center}p[_ngcontent-%COMP%]{font-size:large;font-weight:bolder;text-align:center}.value-container[_ngcontent-%COMP%]{align-items:center;align-content:center}.container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:50px}.title[_ngcontent-%COMP%]{text-align:center;padding-top:50px}"]})}return LaskinComponent})()},821:(ae,se,y)=>{"use strict";var a=y(5879),I=y(6814);class D extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class P extends D{static makeCurrent(){(0,I.HT)(new P)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function U(){return L=L||document.querySelector("base"),L?L.getAttribute("href"):null}();return null==t?null:function F(n){S=S||document.createElement("a"),S.setAttribute("href",n);const e=S.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,I.Mx)(document.cookie,e)}}let S,L=null,O=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const $=new a.OlP("EventManagerPlugins");let Q=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG($),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class K{constructor(e){this._doc=e}}const Z="ng-app-id";let ce=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,I.PM)(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Z}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Z),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Z,this.appId),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const ne={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ye=/%COMP%/g,k=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function J(n,e){return e.map(t=>t.replace(ye,n))}let Re=(()=>{class n{constructor(t,i,r,s,l,h,p,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=h,this.ngZone=p,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=(0,I.PM)(h),this.defaultRenderer=new fe(t,l,p,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.ifc.ShadowDom&&(i={...i,encapsulation:a.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof St?r.applyToHost(t):r instanceof Ht&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,h=this.ngZone,p=this.eventManager,v=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(i.encapsulation){case a.ifc.Emulated:s=new St(p,v,i,this.appId,T,l,h,R);break;case a.ifc.ShadowDom:return new vt(p,v,t,i,l,h,this.nonce,R);default:s=new Ht(p,v,i,T,l,h,R)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Q),a.LFG(ce),a.LFG(a.AFp),a.LFG(k),a.LFG(I.K0),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class fe{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ne[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Be(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Be(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new a.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ne[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ne[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=(0,I.q)().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Be(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class vt extends fe{constructor(e,t,i,r,s,l,h,p){super(e,s,l,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=J(r.id,r.styles);for(const T of v){const R=document.createElement("style");h&&R.setAttribute("nonce",h),R.textContent=T,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ht extends fe{constructor(e,t,i,r,s,l,h,p){super(e,s,l,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=p?J(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class St extends Ht{constructor(e,t,i,r,s,l,h,p){const v=r+"-"+i.id;super(e,t,i,s,l,h,p,v),this.contentAttr=function W(n){return"_ngcontent-%COMP%".replace(ye,n)}(v),this.hostAttr=function be(n){return"_nghost-%COMP%".replace(ye,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let wn=(()=>{class n extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const hn=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $e=(()=>{class n extends K{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),l="code."),hn.forEach(v=>{const T=i.indexOf(v);T>-1&&(i.splice(T,1),l+=v+".")}),l+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(t,i){let r=tt[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hn.forEach(l=>{l!==r&&(0,Ke[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ut=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:I.bD},{provide:a.g9A,useValue:function le(){P.makeCurrent()},multi:!0},{provide:I.K0,useFactory:function Ye(){return(0,a.RDi)(document),document},deps:[]}]),_n=new a.OlP(""),fn=[{provide:a.rWj,useClass:class j{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new a.vHH(5103,!1);return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const h=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?(0,I.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Dn=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function he(){return new a.qLn},deps:[]},{provide:$,useClass:wn,multi:!0,deps:[I.K0,a.R0b,a.Lbi]},{provide:$,useClass:$e,multi:!0,deps:[I.K0]},Re,ce,Q,{provide:a.FYo,useExisting:Re},{provide:I.JF,useClass:O,deps:[]},[]];let An=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(_n,12))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[...Dn,...fn],imports:[I.ez,a.hGG]})}return n})(),We=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Ee(){return new We((0,a.LFG)(I.K0))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let dn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.LFG(cn),r},providedIn:"root"})}return n})(),cn=(()=>{class n extends dn{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function an(n){return new cn(n.get(I.K0))}(a.LFG(a.zs3)),r},providedIn:"root"})}return n})();y(6566),y(2722),y(242);var De=y(5592),gt=y(4674),ve=y(2459),pe=y(2096),xe=y(5619),Ve=y(2572);const Dt=(0,y(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var en=y(5211),Ln=y(4829);function Zn(n){return new De.y(e=>{(0,Ln.Xf)(n()).subscribe(e)})}var rt=y(8407);function He(n,e){const t=(0,gt.m)(n)?n:()=>n,i=r=>r.error(t());return new De.y(e?r=>e.schedule(i,0,r):i)}var ut=y(6232),nt=y(7394),ke=y(9360),Oe=y(8251);function Je(){return(0,ke.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Oe.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Yt extends De.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ke.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Oe.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.w0.EMPTY)}return e}refCount(){return Je()(this)}}var zt=y(8645),Xe=y(7398),xt=y(4664),kt=y(8180),wt=y(7921),Vt=y(2181),rn=y(1631);function vn(n){return(0,ke.e)((e,t)=>{let i=!1;e.subscribe((0,Oe.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Vn(n=Xt){return(0,ke.e)((e,t)=>{let i=!1;e.subscribe((0,Oe.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Xt(){return new Dt}var Rn=y(2737);function Nn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Vt.h)((r,s)=>n(r,s,i)):Rn.y,(0,kt.q)(1),t?vn(e):Vn(()=>new Dt))}function Xn(n,e){return(0,gt.m)(e)?(0,rn.z)(n,e,1):(0,rn.z)(n,1)}var Hn=y(9397);function Mi(n){return(0,ke.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Oe.x)(t,void 0,void 0,l=>{s=(0,Ln.Xf)(n(l,Mi(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Gn(n,e){return(0,ke.e)(function yi(n,e,t,i,r){return(s,l)=>{let h=t,p=e,v=0;s.subscribe((0,Oe.x)(l,T=>{const R=v++;p=h?n(p,T,R):(h=!0,T),i&&l.next(p)},r&&(()=>{h&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}function bi(n){return n<=0?()=>ut.E:(0,ke.e)((e,t)=>{let i=[];e.subscribe((0,Oe.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function xc(n){return(0,Xe.U)(()=>n)}function Ar(n){return(0,ke.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Vr=y(9773),Ao=y(7537);const Sn="primary",ss=Symbol("RouteTitle");class Br{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zo(n){return new Br(n)}function as(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],h=n[s];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function So(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Cu(n[r],e[r]))return!1;return!0}function Cu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function cs(n){return n.length>0?n[n.length-1]:null}function ls(n){return function Le(n){return!!n&&(n instanceof De.y||(0,gt.m)(n.lift)&&(0,gt.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,ve.D)(Promise.resolve(n)):(0,pe.of)(n)}const bl={exact:function Wi(n,e,t){if(!vi(n.segments,e.segments)||!ca(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Wi(n.children[i],e.children[i],t))return!1;return!0},subset:us},Du={exact:function ri(n,e){return So(n,e)},subset:function vr(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cu(n[t],e[t]))},ignored:()=>!0};function Ic(n,e,t){return bl[t.paths](n.root,e.root,t.matrixParams)&&Du[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function us(n,e,t){return Ur(n,e,e.segments,t)}function Ur(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!vi(r,t)||e.hasChildren()||!ca(r,t,i))}if(n.segments.length===t.length){if(!vi(n.segments,t)||!ca(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!us(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(vi(n.segments,r)&&ca(n.segments,r,i)&&n.children[Sn])&&Ur(n.children[Sn],e,s,i)}}function ca(n,e,t){return e.every((i,r)=>Du[t](n[r].parameters,i.parameters))}class $o{constructor(e=new oi([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zo(this.queryParams)),this._queryParamMap}toString(){return Qr.serialize(this)}}class oi{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ds(this)}}class Tc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zo(this.parameters)),this._parameterMap}toString(){return Au(this)}}function vi(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let kn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new fi},providedIn:"root"})}return n})();class fi{parse(e){const t=new Zo(e);return new $o(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tr(e.root,!0)}`,i=function Zi(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ri(t)}=${Ri(r)}`).join("&"):`${Ri(t)}=${Ri(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Wo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Qr=new fi;function ds(n){return n.segments.map(e=>Au(e)).join("/")}function tr(n,e){if(!n.hasChildren())return ds(n);if(e){const t=n.children[Sn]?tr(n.children[Sn],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Sn&&i.push(`${r}:${tr(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Kt(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Sn&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Sn&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Sn?[tr(n.children[Sn],!1)]:[`${r}:${tr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Sn]?`${ds(n)}/${t[0]}`:`${ds(n)}/(${t.join("//")})`}}function hs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ri(n){return hs(n).replace(/%3B/gi,";")}function ho(n){return hs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(n){return decodeURIComponent(n)}function Fs(n){return yn(n.replace(/\+/g,"%20"))}function Au(n){return`${ho(n.path)}${function jr(n){return Object.keys(n).map(e=>`;${ho(e)}=${ho(n[e])}`).join("")}(n.parameters)}`}const Na=/^[^\/()?;#]+/;function Ls(n){const e=n.match(Na);return e?e[0]:""}const fo=/^[^\/()?;=#]+/,Su=/^[^=?&#]+/,Bs=/^[^&#]+/;class Zo{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oi([],{}):new oi([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Sn]=new oi(e,t)),i}parseSegment(){const e=Ls(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new Tc(yn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Cc(n){const e=n.match(fo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ls(this.remaining);r&&(i=r,this.capture(i))}e[yn(t)]=yn(i)}parseQueryParam(e){const t=function Vs(n){const e=n.match(Su);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function fs(n){const e=n.match(Bs);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Fs(t),s=Fs(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ls(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Sn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[Sn]:new oi([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function Kn(n){return n.segments.length>0?new oi([],{[Sn]:n}):n}function mp(n){const e={};for(const i of Object.keys(n.children)){const s=mp(n.children[i]);if(i===Sn&&0===s.segments.length&&s.hasChildren())for(const[l,h]of Object.entries(s.children))e[l]=h;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function la(n){if(1===n.numberOfChildren&&n.children[Sn]){const e=n.children[Sn];return new oi(n.segments.concat(e.segments),e.children)}return n}(new oi(n.segments,e))}function qo(n){return n instanceof $o}function mo(n){let e;const r=Kn(function t(s){const l={};for(const p of s.children){const v=t(p);l[p.outlet]=v}const h=new oi(s.url,l);return s===n&&(e=h),h}(n.root));return e??r}function go(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return th(r,r,r,t,i);const s=function Us(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new br(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,v])=>{h[p]="string"==typeof v?v.split("/"):v}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new br(t,e,i)}(e);if(s.toRoot())return th(r,r,new oi([],{}),t,i);const l=function Fa(n,e,t){if(n.isAbsolute)return new ps(e,!0,0);if(!t)return new ps(e,!1,NaN);if(null===t.parent)return new ps(t,!0,0);const i=Xr(n.commands[0])?0:1;return function _o(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new ps(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=l.processChildren?Sr(l.segmentGroup,l.index,s.commands):xl(l.segmentGroup,l.index,s.commands);return th(r,l.segmentGroup,h,t,i)}function Xr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zi(n){return"object"==typeof n&&null!=n&&n.outlets}function th(n,e,t,i,r){let l,s={};i&&Object.entries(i).forEach(([p,v])=>{s[p]=Array.isArray(v)?v.map(T=>`${T}`):`${v}`}),l=n===e?t:yr(n,e,t);const h=Kn(mp(l));return new $o(h,s,r)}function yr(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:yr(s,e,t)}),new oi(n.segments,i)}class br{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Xr(i[0]))throw new a.vHH(4003,!1);const r=i.find(zi);if(r&&r!==cs(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function xl(n,e,t){if(n||(n=new oi([],{})),0===n.segments.length&&n.hasChildren())return Sr(n,e,t);const i=function y_(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],h=t[i];if(zi(h))break;const p=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!gp(p,v,l))return s;i+=2}else{if(!gp(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new oi(n.segments.slice(0,i.pathIndex),{});return s.children[Sn]=new oi(n.segments.slice(i.pathIndex),n.children),Sr(s,0,r)}return i.match&&0===r.length?new oi(n.segments,{}):i.match&&!n.hasChildren()?Mu(n,e,t):i.match?Sr(n,0,r):Mu(n,e,t)}function Sr(n,e,t){if(0===t.length)return new oi(n.segments,{});{const i=function El(n){return zi(n[0])?n[0].outlets:{[Sn]:n}}(t),r={};if(Object.keys(i).some(s=>s!==Sn)&&n.children[Sn]&&1===n.numberOfChildren&&0===n.children[Sn].segments.length){const s=Sr(n.children[Sn],e,t);return new oi(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=xl(n.children[s],e,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new oi(n.segments,r)}}function Mu(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(zi(s)){const p=Ru(s.outlets);return new oi(i,p)}if(0===r&&Xr(t[0])){i.push(new Tc(n.segments[e].path,Il(t[0]))),r++;continue}const l=zi(s)?s.outlets[Sn]:`${s}`,h=r<t.length-1?t[r+1]:null;l&&h&&Xr(h)?(i.push(new Tc(l,Il(h))),r+=2):(i.push(new Tc(l,{})),r++)}return new oi(i,{})}function Ru(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Mu(new oi([],{}),0,i))}),e}function Il(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function gp(n,e,t){return n==t.path&&So(e,t.parameters)}const Tl="imperative";class pi{constructor(e,t){this.id=e,this.url=t}}class Cl extends pi{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class js extends pi{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dc extends pi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ua extends pi{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Dl extends pi{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _p extends pi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends pi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yp extends pi{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ku extends pi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Al extends pi{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nh{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ih{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rh{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ar{}class ms{constructor(e){this.url=e}}class Pu{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new da,this.attachRef=null}}let da=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Pu,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class La{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ha(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ha(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Va(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Va(e,this._root).map(t=>t.value)}}function ha(n,e){if(n===e.value)return e;for(const t of e.children){const i=ha(n,t);if(i)return i}return null}function Va(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Va(n,t);if(i.length)return i.unshift(e),i}return[]}class gs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _s(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ou extends La{constructor(e,t){super(e),this.snapshot=t,oh(this,e)}toString(){return this.snapshot.toString()}}function Ml(n,e){const t=function wp(n,e){const l=new Gs([],{},{},"",{},Sn,e,null,{});return new Sc("",new gs(l,[]))}(0,e),i=new xe.X([new Tc("",{})]),r=new xe.X({}),s=new xe.X({}),l=new xe.X({}),h=new xe.X(""),p=new zs(i,r,l,h,s,Sn,e,t.root);return p.snapshot=t.root,new Ou(new gs(p,[]),t)}class zs{constructor(e,t,i,r,s,l,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,Xe.U)(v=>v[ss]))??(0,pe.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(e=>zo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(e=>zo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ac(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function fa(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Gs{get title(){return this.data?.[ss]}constructor(e,t,i,r,s,l,h,p,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this.routeConfig=p,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sc extends La{constructor(e,t){super(t),this.url=e,oh(this,t)}toString(){return sh(this._root)}}function oh(n,e){e.value._routerState=n,e.children.forEach(t=>oh(n,t))}function sh(n){const e=n.children.length>0?` { ${n.children.map(sh).join(", ")} } `:"";return`${n.value}${e}`}function Ep(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,So(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),So(e.params,t.params)||n.paramsSubject.next(t.params),function Go(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!So(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),So(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ah(n,e){const t=So(n.params,e.params)&&function wl(n,e){return vi(n,e)&&n.every((t,i)=>So(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ah(n.parent,e.parent))}let Rl=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sn,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(da),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(kl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new Nb(t,h,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return n})();class Nb{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===zs?this.route:e===da?this.childContexts:this.parent.get(e,t)}}const kl=new a.OlP("");let Mc=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=(0,Ve.a)([i.queryParams,i.params,i.data]).pipe((0,xt.w)(([s,l,h],p)=>(h={...s,...l,...h},0===p?(0,pe.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,a.qFp)(i.component);if(l)for(const{templateName:h}of l.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function $s(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Fb(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $s(n,i,r);return $s(n,i)})}(n,e,t);return new gs(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>$s(n,h)),l}}const i=function Rc(n){return new zs(new xe.X(n.url),new xe.X(n.params),new xe.X(n.queryParams),new xe.X(n.fragment),new xe.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>$s(n,s));return new gs(i,r)}}const ch="ngNavigationCancelingError";function C(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=qo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=re(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function re(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ch]=!0,i.cancellationCode=e,t&&(i.url=t),i}function X(n){return n&&n[ch]}let Ie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(i,r){1&i&&a._UZ(0,"router-outlet")},dependencies:[Rl],encapsulation:2})}return n})();function qi(n){const e=n.children&&n.children.map(qi),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Sn&&(t.component=Ie),t}function nr(n){return n.outlet||Sn}function Ko(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Mr{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ep(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=_s(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=_s(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=_s(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=_s(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Sl(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hs(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Ep(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),Ep(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Ko(r.snapshot);l.attachRef=null,l.route=r,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class pa{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kc{constructor(e,t){this.component=e,this.route=t}}function Pi(n,e,t){const i=n._root;return Rr(i,e?e._root:null,t,[i.value])}function Ua(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function Rr(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=_s(e);return n.children.forEach(l=>{(function Xx(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function Lb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(n.url,e.url)||!So(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ah(n,e)||!So(n.queryParams,e.queryParams);default:return!ah(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new pa(i)):(s.data=l.data,s._resolvedData=l._resolvedData),Rr(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new kc(h.outlet.component,l))}else l&&ma(e,h,r),r.canActivateChecks.push(new pa(i)),Rr(n,null,s.component?h?h.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,h])=>ma(h,t.getContext(l),r)),r}function ma(n,e,t){const i=_s(n),r=n.value;Object.entries(i).forEach(([s,l])=>{ma(l,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new kc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Hr(n){return"function"==typeof n}function Cp(n){return n instanceof Dt||"EmptyError"===n?.name}const Pl=Symbol("INITIAL_VALUE");function In(){return(0,xt.w)(n=>(0,Ve.a)(n.map(e=>e.pipe((0,kt.q)(1),(0,wt.O)(Pl)))).pipe((0,Xe.U)(e=>{for(const t of e)if(!0!==t){if(t===Pl)return Pl;if(!1===t||t instanceof $o)return t}return!0}),(0,Vt.h)(e=>e!==Pl),(0,kt.q)(1)))}function ga(n){return(0,rt.z)((0,Hn.b)(e=>{if(qo(e))throw C(0,e)}),(0,Xe.U)(e=>!0===e))}class uh{constructor(e){this.segmentGroup=e||null}}class It{constructor(e){this.urlTree=e}}function Jn(n){return He(new uh(n))}function Yi(n){return He(new It(n))}class D_{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,pe.of)(i);if(r.numberOfChildren>1||!r.children[Sn])return He(new a.vHH(4e3,!1));r=r.children[Sn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new $o(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=t[h]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([h,p])=>{l[h]=this.createSegmentGroup(e,p,i,r)}),new oi(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const _a={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ws(n,e,t,i,r){const s=Fu(n,e,t);return s.matched?(i=function st(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function jb(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,pe.of)(!0);const s=r.map(l=>{const h=Ua(l,n);return ls(function Vb(n){return n&&Hr(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,pe.of)(s).pipe(In(),ga())}(i,e,t).pipe((0,Xe.U)(l=>!0===l?s:{..._a}))):(0,pe.of)(s)}function Fu(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._a}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||as)(t,n,e);if(!r)return{..._a};const s={};Object.entries(r.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function Lu(n,e,t,i){return t.length>0&&function Sp(n,e,t){return t.some(i=>Jr(n,e,i)&&nr(i)!==Sn)}(n,t,i)?{segmentGroup:new oi(e,Ap(i,new oi(t,n.children))),slicedSegments:[]}:0===t.length&&function dr(n,e,t){return t.some(i=>Jr(n,e,i))}(n,t,i)?{segmentGroup:new oi(n.segments,Hb(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new oi(n.segments,n.children),slicedSegments:t}}function Hb(n,e,t,i,r){const s={};for(const l of i)if(Jr(n,t,l)&&!r[nr(l)]){const h=new oi([],{});s[nr(l)]=h}return{...r,...s}}function Ap(n,e){const t={};t[Sn]=e;for(const i of n)if(""===i.path&&nr(i)!==Sn){const r=new oi([],{});t[nr(i)]=r}return t}function Jr(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Mp{constructor(e,t,i,r,s,l,h){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new D_(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=Lu(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Sn).pipe(Mi(t=>{if(t instanceof It)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof uh?this.noMatchError(t):t}),(0,Xe.U)(t=>{const i=new Gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sn,this.rootComponentType,null,{}),r=new gs(i,t),s=new Sc("",r),l=function po(n,e,t=null,i=null){return go(mo(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Sn).pipe(Mi(i=>{throw i instanceof uh?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=Ac(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,ve.D)(r).pipe(Xn(s=>{const l=i.children[s],h=function Yo(n,e){const t=n.filter(i=>nr(i)===e);return t.push(...n.filter(i=>nr(i)!==e)),t}(t,s);return this.processSegmentGroup(e,h,l,s)}),Gn((s,l)=>(s.push(...l),s)),vn(null),function Ho(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,Vt.h)((r,s)=>n(r,s,i)):Rn.y,bi(1),t?vn(e):Vn(()=>new Dt))}(),(0,rn.z)(s=>{if(null===s)return Jn(i);const l=kp(s);return function S_(n){n.sort((e,t)=>e.value.outlet===Sn?-1:t.value.outlet===Sn?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,pe.of)(l)}))}processSegment(e,t,i,r,s,l){return(0,ve.D)(t).pipe(Xn(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,i,r,s,l).pipe(Mi(p=>{if(p instanceof uh)return(0,pe.of)(null);throw p}))),Nn(h=>!!h),Mi(h=>{if(Cp(h))return function Ha(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,pe.of)([]):Jn(i);throw h}))}processSegmentAgainstRoute(e,t,i,r,s,l,h){return function A_(n,e,t,i){return!!(nr(n)===i||i!==Sn&&Jr(e,t,n))&&("**"===n.path||Fu(e,n,t).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,l):Jn(r):Jn(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Yi(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,rn.z)(l=>{const h=new oi(l,{});return this.processSegment(e,t,h,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:h,consumedSegments:p,remainingSegments:v,positionalParamSegments:T}=Fu(t,r,s);if(!h)return Jn(t);const R=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,T);return r.redirectTo.startsWith("/")?Yi(R):this.applyRedirects.lineralizeSegments(r,R).pipe((0,rn.z)(q=>this.processSegment(e,i,t,q.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,l){let h;if("**"===i.path){const p=r.length>0?cs(r).parameters:{},v=new Gs(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dh(i),nr(i),i.component??i._loadedComponent??null,i,R_(i));h=(0,pe.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=Ws(t,i,r,e).pipe((0,Xe.U)(({matched:p,consumedSegments:v,remainingSegments:T,parameters:R})=>p?{snapshot:new Gs(v,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dh(i),nr(i),i.component??i._loadedComponent??null,i,R_(i)),consumedSegments:v,remainingSegments:T}:null));return h.pipe((0,xt.w)(p=>null===p?Jn(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,xt.w)(({routes:v})=>{const T=i._loadedInjector??e,{snapshot:R,consumedSegments:q,remainingSegments:me}=p,{segmentGroup:Te,slicedSegments:Me}=Lu(t,q,me,v);if(0===Me.length&&Te.hasChildren())return this.processChildren(T,v,Te).pipe((0,Xe.U)(At=>null===At?null:[new gs(R,At)]));if(0===v.length&&0===Me.length)return(0,pe.of)([new gs(R,[])]);const Ge=nr(i)===s;return this.processSegment(T,v,Te,Me,Ge?Sn:s,!0).pipe((0,Xe.U)(At=>[new gs(R,At)]))}))))}getChildConfig(e,t,i){return t.children?(0,pe.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,pe.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function eI(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,pe.of)(!0);const s=r.map(l=>{const h=Ua(l,n);return ls(function Pc(n){return n&&Hr(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,pe.of)(s).pipe(In(),ga())}(e,t,i).pipe((0,rn.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Hn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function ur(n){return He(re(!1,3))}())):(0,pe.of)({routes:[],injector:e})}}function Rp(n){const e=n.value.routeConfig;return e&&""===e.path}function kp(n){const e=[],t=new Set;for(const i of n){if(!Rp(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=kp(i.children);e.push(new gs(i.value,r))}return e.filter(i=>!t.has(i))}function dh(n){return n.data||{}}function R_(n){return n.resolve||{}}function Ol(n){return"string"==typeof n.title||null===n.title}function hh(n){return(0,xt.w)(e=>{const t=n(e);return t?(0,ve.D)(t).pipe((0,Xe.U)(()=>e)):(0,pe.of)(e)})}const Ga=new a.OlP("ROUTES");let Op=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,pe.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ls(t.loadComponent()).pipe((0,Xe.U)($a),(0,Hn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ar(()=>{this.componentLoaders.delete(t)})),r=new Yt(i,()=>new zt.x).pipe(Je());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,pe.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Np(n,e,t,i){return ls(n.loadChildren()).pipe((0,Xe.U)($a),(0,rn.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,pe.of)(r):(0,ve.D)(e.compileModuleAsync(r))),(0,Xe.U)(r=>{i&&i(n);let s,l,h=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(t).injector,l=s.get(Ga,[],{optional:!0,self:!0}).flat()),{routes:l.map(qi),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ar(()=>{this.childrenLoaders.delete(i)})),l=new Yt(s,()=>new zt.x).pipe(Je());return this.childrenLoaders.set(i,l),l}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $a(n){return function eo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Oi=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zt.x,this.transitionAbortSubject=new zt.x,this.configLoader=(0,a.f3M)(Op),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(kn),this.rootContexts=(0,a.f3M)(da),this.inputBindingEnabled=null!==(0,a.f3M)(kl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new nh(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new bp(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new xe.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tl,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Vt.h)(s=>0!==s.id),(0,Xe.U)(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),(0,xt.w)(s=>{this.currentTransition=s;let l=!1,h=!1;return(0,pe.of)(s).pipe((0,Hn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xt.w)(p=>{const v=p.currentBrowserUrl.toString(),T=!t.navigated||p.extractedUrl.toString()!==v||v!==p.currentUrlTree.toString();if(!T&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const q="";return this.events.next(new ua(p.id,this.urlSerializer.serialize(p.rawUrl),q,0)),p.resolve(null),ut.E}if(t.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return(0,pe.of)(p).pipe((0,xt.w)(q=>{const me=this.transitions?.getValue();return this.events.next(new Cl(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),me!==this.transitions?.getValue()?ut.E:Promise.resolve(q)}),function za(n,e,t,i,r,s){return(0,rn.z)(l=>function Zs(n,e,t,i,r,s,l="emptyOnly"){return new Mp(n,e,t,i,r,l,s).recognize()}(n,e,t,i,l.extractedUrl,r,s).pipe((0,Xe.U)(({state:h,tree:p})=>({...l,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Hn.b)(q=>{s.targetSnapshot=q.targetSnapshot,s.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const me=new _p(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(me)}));if(T&&t.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:q,extractedUrl:me,source:Te,restoredState:Me,extras:Ge}=p,At=new Cl(q,this.urlSerializer.serialize(me),Te,Me);this.events.next(At);const Lt=Ml(0,this.rootComponentType).snapshot;return this.currentTransition=s={...p,targetSnapshot:Lt,urlAfterRedirects:me,extras:{...Ge,skipLocationChange:!1,replaceUrl:!1}},(0,pe.of)(s)}{const q="";return this.events.next(new ua(p.id,this.urlSerializer.serialize(p.extractedUrl),q,1)),p.resolve(null),ut.E}}),(0,Hn.b)(p=>{const v=new vp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),(0,Xe.U)(p=>(this.currentTransition=s={...p,guards:Pi(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},s)),function x_(n,e){return(0,rn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,pe.of)({...t,guardsResult:!0}):function Dp(n,e,t,i){return(0,ve.D)(n).pipe((0,rn.z)(r=>function lh(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,pe.of)(!0);const l=s.map(h=>{const p=Ko(e)??r,v=Ua(h,p);return ls(function w_(n){return n&&Hr(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):p.runInContext(()=>v(n,e,t,i))).pipe(Nn())});return(0,pe.of)(l).pipe(In())}(r.component,r.route,t,e,i)),Nn(r=>!0!==r,!0))}(l,i,r,n).pipe((0,rn.z)(h=>h&&function Ip(n){return"boolean"==typeof n}(h)?function I_(n,e,t,i){return(0,ve.D)(e).pipe(Xn(r=>(0,en.z)(function Ub(n,e){return null!==n&&e&&e(new ih(n)),(0,pe.of)(!0)}(r.route.parent,i),function Bb(n,e){return null!==n&&e&&e(new vo(n)),(0,pe.of)(!0)}(r.route,i),function Nu(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function xp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Zn(()=>{const h=l.guards.map(p=>{const v=Ko(l.node)??t,T=Ua(p,v);return ls(function ja(n){return n&&Hr(n.canActivateChild)}(T)?T.canActivateChild(i,n):v.runInContext(()=>T(i,n))).pipe(Nn())});return(0,pe.of)(h).pipe(In())}));return(0,pe.of)(s).pipe(In())}(n,r.path,t),function T_(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,pe.of)(!0);const r=i.map(s=>Zn(()=>{const l=Ko(e)??t,h=Ua(s,l);return ls(function Tp(n){return n&&Hr(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(Nn())}));return(0,pe.of)(r).pipe(In())}(n,r.route,t))),Nn(r=>!0!==r,!0))}(i,s,n,e):(0,pe.of)(h)),(0,Xe.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Hn.b)(p=>{if(s.guardsResult=p.guardsResult,qo(p.guardsResult))throw C(0,p.guardsResult);const v=new yp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(v)}),(0,Vt.h)(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",3),!1)),hh(p=>{if(p.guards.canActivateChecks.length)return(0,pe.of)(p).pipe((0,Hn.b)(v=>{const T=new ku(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}),(0,xt.w)(v=>{let T=!1;return(0,pe.of)(v).pipe(function zb(n,e){return(0,rn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,pe.of)(t);let s=0;return(0,ve.D)(r).pipe(Xn(l=>function k_(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Ol(r)&&(s[ss]=r.title),function Pp(n,e,t,i){const r=function P_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,pe.of)({});const s={};return(0,ve.D)(r).pipe((0,rn.z)(l=>function O_(n,e,t,i){const r=Ko(e)??i,s=Ua(n,r);return ls(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(Nn(),(0,Hn.b)(h=>{s[l]=h}))),bi(1),xc(s),Mi(l=>Cp(l)?ut.E:He(l)))}(s,n,e,i).pipe((0,Xe.U)(l=>(n._resolvedData=l,n.data=Ac(n,t).resolve,r&&Ol(r)&&(n.data[ss]=r.title),null)))}(l.route,i,n,e)),(0,Hn.b)(()=>s++),bi(1),(0,rn.z)(l=>s===r.length?(0,pe.of)(t):ut.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Hn.b)({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(v,"",2)}}))}),(0,Hn.b)(v=>{const T=new Al(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(T)}))}),hh(p=>{const v=T=>{const R=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(T.routeConfig).pipe((0,Hn.b)(q=>{T.component=q}),(0,Xe.U)(()=>{})));for(const q of T.children)R.push(...v(q));return R};return(0,Ve.a)(v(p.targetSnapshot.root)).pipe(vn(),(0,kt.q)(1))}),hh(()=>this.afterPreactivation()),(0,Xe.U)(p=>{const v=function b_(n,e,t){const i=$s(n,e._root,t?t._root:void 0);return new Ou(i,e)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=s={...p,targetRouterState:v},s}),(0,Hn.b)(()=>{this.events.next(new ar)}),((n,e,t,i)=>(0,Xe.U)(r=>(new Mr(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),(0,kt.q)(1),(0,Hn.b)({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new js(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),t.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),(0,Vr.R)(this.transitionAbortSubject.pipe((0,Hn.b)(p=>{throw p}))),Ar(()=>{l||h||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Mi(p=>{if(h=!0,X(p))this.events.next(new Dc(s.id,this.urlSerializer.serialize(s.extractedUrl),p.message,p.cancellationCode)),function N(n){return X(n)&&qo(n.url)}(p)?this.events.next(new ms(p.url)):s.resolve(!1);else{this.events.next(new Dl(s.id,this.urlSerializer.serialize(s.extractedUrl),p,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(p))}catch(v){s.reject(v)}}return ut.E}))}))}cancelNavigationTransition(t,i,r){const s=new Dc(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fp(n){return n!==Tl}let N_=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Sn);return i}getResolvedTitleForRoute(t){return t.data[ss]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Lp)},providedIn:"root"})}return n})(),Lp=(()=>{class n extends N_{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(We))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(L_)},providedIn:"root"})}return n})();class F_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let L_=(()=>{class n extends F_{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const va=new a.OlP("",{providedIn:"root",factory:()=>({})});let Wa=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Vp)},providedIn:"root"})}return n})(),Vp=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Za=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Za||{});function Oc(n,e){n.events.pipe((0,Vt.h)(t=>t instanceof js||t instanceof Dc||t instanceof Dl||t instanceof ua),(0,Xe.U)(t=>t instanceof js||t instanceof ua?Za.COMPLETE:t instanceof Dc&&(0===t.code||1===t.code)?Za.REDIRECTING:Za.FAILED),(0,Vt.h)(t=>t!==Za.REDIRECTING),(0,kt.q)(1)).subscribe(()=>{e()})}function fh(n){throw n}function Vu(n,e,t){return e.parse("/")}const Bu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ph={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let to=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new zt.x,this.options=(0,a.f3M)(va,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||fh,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Wa),this.routeReuseStrategy=(0,a.f3M)(Gb),this.titleStrategy=(0,a.f3M)(N_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Ga,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(Oi),this.urlSerializer=(0,a.f3M)(kn),this.location=(0,a.f3M)(I.Ye),this.componentInputBindingEnabled=!!(0,a.f3M)(kl,{optional:!0}),this.eventsSubscription=new nt.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $o,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ml(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(qs(i)&&this._events.next(i));if(i instanceof Cl)Fp(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof ua)this.rawUrlTree=r.rawUrl;else if(i instanceof _p){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof ar)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Dc)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof ms){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fp(r.source)};this.scheduleNavigation(s,Tl,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Dl&&this.restoreHistory(r,!0),i instanceof js&&(this.navigated=!0),qs(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:p}=i,v=p?this.currentUrlTree.fragment:l;let R,T=null;switch(h){case"merge":T={...this.currentUrlTree.queryParams,...s};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}null!==T&&(T=this.removeEmptyProps(T));try{R=mo(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return go(R,t,T,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=qo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Tl,null,i)}navigate(t,i={skipLocationChange:!1}){return function qa(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Bu}:!1===i?{...ph}:i,qo(t))return Ic(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Ic(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let h,p,v;l?(h=l.resolve,p=l.reject,v=l.promise):v=new Promise((R,q)=>{h=R,p=q});const T=this.pendingTasks.add();return Oc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:h,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(R=>Promise.reject(R))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qs(n){return!(n instanceof ar||n instanceof ms)}let Ys=(()=>{class n{constructor(t,i,r,s,l,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new zt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof js&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(to),a.Y36(zs),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(I.S$))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&i&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return n})(),Bp=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,l){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(h=>{h instanceof js&&this.update()})}ngAfterContentInit(){(0,pe.of)(this.links.changes,(0,pe.of)(null)).pipe((0,Ao.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,ve.D)(t).pipe((0,Ao.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Up(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(to),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Ys,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&a.Suo(s,Ys,5),2&i){let l;a.iGM(l=a.CRH())&&(r.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]})}return n})();class $b{}let Wb=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe((0,Vt.h)(t=>t instanceof js),Xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,h=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,ve.D)(r).pipe((0,Ao.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,pe.of)(null);const s=r.pipe((0,rn.z)(l=>null===l?(0,pe.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,ve.D)([s,l]).pipe((0,Ao.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(to),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG($b),a.LFG(Op))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const B_=new a.OlP("");let mh=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof js?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ua&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function no(n,e){return{\u0275kind:n,\u0275providers:e}}function Nc(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(to),r=n.get(j_);1===n.get(Qo)&&i.initialNavigation(),n.get(zp,null,a.XFs.Optional)?.setUpPreloading(),n.get(B_,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const j_=new a.OlP("",{factory:()=>new zt.x}),Qo=new a.OlP("",{providedIn:"root",factory:()=>1}),zp=new a.OlP("");function Ll(n){return no(0,[{provide:zp,useExisting:Wb},{provide:$b,useExisting:n}])}const Wp=new a.OlP("ROUTER_FORROOT_GUARD"),Qb=[I.Ye,{provide:kn,useClass:fi},to,da,{provide:zs,useFactory:function U_(n){return n.routerState.root},deps:[to]},Op,[]];function Vl(){return new a.PXZ("Router",to)}let Ya=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Qb,[],{provide:Ga,multi:!0,useValue:t},{provide:Wp,useFactory:Fc,deps:[[to,new a.FiY,new a.tp0]]},{provide:va,useValue:i||{}},i?.useHash?{provide:I.S$,useClass:I.Do}:{provide:I.S$,useClass:I.b0},{provide:B_,useFactory:()=>{const n=(0,a.f3M)(I.EM),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(va),i=(0,a.f3M)(Oi),r=(0,a.f3M)(kn);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mh(r,i,n,e,t)}},i?.preloadingStrategy?Ll(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Vl},i?.initialNavigation?vh(i):[],i?.bindToComponentInputs?no(8,[Mc,{provide:kl,useExisting:Mc}]).\u0275providers:[],[{provide:Er,useFactory:Nc},{provide:a.tb,multi:!0,useExisting:Er}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ga,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Wp,8))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();function Fc(n){return"guarded"}function vh(n){return["disabled"===n.initialNavigation?no(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(to);return()=>{e.setUpLocationChangeListener()}}},{provide:Qo,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?no(2,[{provide:Qo,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(I.V_,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(to),s=e.get(j_);Oc(r,()=>{i(!0)}),e.get(Oi).afterPreactivation=()=>(i(!0),s.closed?(0,pe.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Er=new a.OlP("");var Mo=y(2296),pn=y(3680),on=y(2495),Yp=y(7453),Lc=y(9940),Kp=y(7400),e0=y(2714);function t0(...n){const e=(0,Lc.jO)(n),{args:t,keys:i}=(0,Yp.D)(n),r=new De.y(s=>{const{length:l}=t;if(!l)return void s.complete();const h=new Array(l);let p=l,v=l;for(let T=0;T<l;T++){let R=!1;(0,Ln.Xf)(t[T]).subscribe((0,Oe.x)(s,q=>{R||(R=!0,v--),h[T]=q},()=>p--,void 0,()=>{(!p||!R)&&(v||s.next(i?(0,e0.n)(i,h):h),s.complete())}))}});return e?r.pipe((0,Kp.Z)(e)):r}var Qp=y(3020);class Xp{}class Bl{}class ya{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ya;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ya?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ul{encodeKey(e){return Z_(e)}encodeValue(e){return Z_(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const r0=/%(\d[a-f0-9])/gi,hr={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z_(n){return encodeURIComponent(n).replace(r0,(e,t)=>hr[t]??e)}function Ka(n){return`${n}`}class Ks{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ul,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n0(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(l)||[];p.push(h),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Ka):[Ka(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ks({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ka(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Ka(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jl{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Hu(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Hl(n){return typeof Blob<"u"&&n instanceof Blob}function Jp(n){return typeof FormData<"u"&&n instanceof FormData}class zu{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function q_(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ya),this.context||(this.context=new jl),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Ks,this.urlWithParams=t}serializeBody(){return null===this.body?null:Hu(this.body)||Hl(this.body)||Jp(this.body)||function nI(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ks?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jp(this.body)?null:Hl(this.body)?this.body.type||null:Hu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ks?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((R,q)=>R.set(q,e.setHeaders[q]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((R,q)=>R.set(q,e.setParams[q]),v)),new zu(t,i,s,{params:v,headers:p,context:T,reportProgress:h,responseType:r,withCredentials:l})}}var Gu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gu||{});class io{constructor(e,t=200,i="OK"){this.headers=e.headers||new ya,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $u extends io{constructor(e={}){super(e),this.type=Gu.ResponseHeader}clone(e={}){return new $u({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ro extends io{constructor(e={}){super(e),this.type=Gu.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ro({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class em extends io{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function yh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zl=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof zu)s=t;else{let p,v;p=r.headers instanceof ya?r.headers:new ya(r.headers),r.params&&(v=r.params instanceof Ks?r.params:new Ks({fromObject:r.params})),s=new zu(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,pe.of)(s).pipe(Xn(p=>this.handler.handle(p)));if(t instanceof zu||"events"===r.observe)return l;const h=l.pipe((0,Vt.h)(p=>p instanceof Ro));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,Xe.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,Xe.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,Xe.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,Xe.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ks).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,yh(r,i))}post(t,i,r={}){return this.request("POST",t,yh(r,i))}put(t,i,r={}){return this.request("PUT",t,yh(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Xp))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function nm(n,e){return e(n)}function Vc(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Zu=new a.OlP(""),qu=new a.OlP(""),im=new a.OlP("");function rm(){let n=null;return(e,t)=>{null===n&&(n=((0,a.f3M)(Zu,{optional:!0})??[]).reduceRight(Vc,nm));const i=(0,a.f3M)(a.HDt),r=i.add();return n(e,t).pipe(Ar(()=>i.remove(r)))}}let Yu=(()=>{class n extends Xp{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(qu),...this.injector.get(im,[])]));this.chain=r.reduceRight((s,l)=>function K_(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(s,l,this.injector),nm)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ar(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bl),a.LFG(a.lqb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const a0=/^\)\]\}',?\n/;let Ku=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new a.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,ve.D)(i.\u0275loadImpl()):(0,pe.of)(null)).pipe((0,xt.w)(()=>new De.y(s=>{const l=i.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Me,Ge)=>l.setRequestHeader(Me,Ge.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Me=t.detectContentTypeHeader();null!==Me&&l.setRequestHeader("Content-Type",Me)}if(t.responseType){const Me=t.responseType.toLowerCase();l.responseType="json"!==Me?Me:"text"}const h=t.serializeBody();let p=null;const v=()=>{if(null!==p)return p;const Me=l.statusText||"OK",Ge=new ya(l.getAllResponseHeaders()),At=function om(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return p=new $u({headers:Ge,status:l.status,statusText:Me,url:At}),p},T=()=>{let{headers:Me,status:Ge,statusText:At,url:Lt}=v(),pt=null;204!==Ge&&(pt=typeof l.response>"u"?l.responseText:l.response),0===Ge&&(Ge=pt?200:0);let Bt=Ge>=200&&Ge<300;if("json"===t.responseType&&"string"==typeof pt){const Cn=pt;pt=pt.replace(a0,"");try{pt=""!==pt?JSON.parse(pt):null}catch(Pn){pt=Cn,Bt&&(Bt=!1,pt={error:Pn,text:pt})}}Bt?(s.next(new Ro({body:pt,headers:Me,status:Ge,statusText:At,url:Lt||void 0})),s.complete()):s.error(new em({error:pt,headers:Me,status:Ge,statusText:At,url:Lt||void 0}))},R=Me=>{const{url:Ge}=v(),At=new em({error:Me,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Ge||void 0});s.error(At)};let q=!1;const me=Me=>{q||(s.next(v()),q=!0);let Ge={type:Gu.DownloadProgress,loaded:Me.loaded};Me.lengthComputable&&(Ge.total=Me.total),"text"===t.responseType&&l.responseText&&(Ge.partialText=l.responseText),s.next(Ge)},Te=Me=>{let Ge={type:Gu.UploadProgress,loaded:Me.loaded};Me.lengthComputable&&(Ge.total=Me.total),s.next(Ge)};return l.addEventListener("load",T),l.addEventListener("error",R),l.addEventListener("timeout",R),l.addEventListener("abort",R),t.reportProgress&&(l.addEventListener("progress",me),null!==h&&l.upload&&l.upload.addEventListener("progress",Te)),l.send(h),s.next({type:Gu.Sent}),()=>{l.removeEventListener("error",R),l.removeEventListener("abort",R),l.removeEventListener("load",T),l.removeEventListener("timeout",R),t.reportProgress&&(l.removeEventListener("progress",me),null!==h&&l.upload&&l.upload.removeEventListener("progress",Te)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.JF))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const xh=new a.OlP("XSRF_ENABLED"),am=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cm=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class c0{}let l0=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,I.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0),a.LFG(a.Lbi),a.LFG(am))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function J_(n,e){const t=n.url.toLowerCase();if(!(0,a.f3M)(xh)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,a.f3M)(c0).getToken(),r=(0,a.f3M)(cm);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Bc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Bc||{});function Qu(...n){const e=[zl,Ku,Yu,{provide:Xp,useExisting:Yu},{provide:Bl,useExisting:Ku},{provide:qu,useValue:J_,multi:!0},{provide:xh,useValue:!0},{provide:c0,useClass:l0}];for(const t of n)e.push(...t.\u0275providers);return(0,a.MR2)(e)}const d0=new a.OlP("LEGACY_INTERCEPTOR_FN");function dI(){return function Gl(n,e){return{\u0275kind:n,\u0275providers:e}}(Bc.LegacyInterceptors,[{provide:d0,useFactory:rm},{provide:qu,useExisting:d0,multi:!0}])}let tv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[Qu(dI())]})}return n})();const p0=["*"];let Ju;function wa(n){return function Ah(){if(void 0===Ju&&(Ju=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ju=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ju}()?.createHTML(n)||n}function um(n){return Error(`Unable to find icon with the name "${n}"`)}function Sh(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dm(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class fr{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Qa=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new fr(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(a.q3G.HTML,r);if(!l)throw dm(r);const h=wa(l);return this._addSvgIconConfig(t,i,new fr("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new fr(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw dm(i);const l=wa(s);return this._addSvgIconSetConfig(t,new fr("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw Sh(t);const r=this._cachedIconsByUrl.get(i);return r?(0,pe.of)(Uc(r)):this._loadSvgIconFromConfig(new fr(t,null)).pipe((0,Hn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Xe.U)(s=>Uc(s)))}getNamedSvgIcon(t,i=""){const r=Wl(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):He(um(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,pe.of)(Uc(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Xe.U)(i=>Uc(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,pe.of)(r):t0(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Mi(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),(0,pe.of)(null)})))).pipe((0,Xe.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw um(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(l,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Hn.b)(i=>t.svgText=i),(0,Xe.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,pe.of)(null):this._fetchIcon(t).pipe((0,Hn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const h=this._svgElementFromString(wa("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(wa("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:h}=r[s];"id"!==l&&i.setAttribute(l,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function m0(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!l)throw Sh(i);const h=this._inProgressUrlFetches.get(l);if(h)return h;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,Xe.U)(v=>wa(v)),Ar(()=>this._inProgressUrlFetches.delete(l)),(0,Qp.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(Wl(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return zr(s)?new fr(s.url,null,s.options):new fr(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(zl,8),a.LFG(dn),a.LFG(I.K0,8),a.LFG(a.qLn))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uc(n){return n.cloneNode(!0)}function Wl(n,e){return n+":"+e}function zr(n){return!(!n.url||!n.options)}const Zl=(0,pn.pj)(class{constructor(n){this._elementRef=n}}),rv=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ea=new a.OlP("mat-icon-location",{providedIn:"root",factory:function ov(){const n=(0,a.f3M)(I.K0),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),hm=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],g0=hm.map(n=>`[${n}]`).join(", "),sv=/^url\(['"]?#(.*?)['"]?\)$/;let av=(()=>{class n extends Zl{get inline(){return this._inline}set inline(t){this._inline=(0,on.Ig)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,h){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=nt.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(g0),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)hm.forEach(l=>{const h=i[s],p=h.getAttribute(l),v=p?p.match(sv):null;if(v){let T=r.get(h);T||(T=[],r.set(h,T)),T.push({name:l,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,kt.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Qa),a.$8M("aria-hidden"),a.Y36(Ea),a.Y36(a.qLn),a.Y36(rv,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:p0,decls:1,vars:0,template:function(i,r){1&i&&(a.F$t(),a.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),oo=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,pn.BQ]})}return n})();var ys=y(7849),so=y(6028),bs=y(3019),ko=y(1954);let Xa,ed=1;const td={};function cv(n){return n in td&&(delete td[n],!0)}const Mh={setImmediate(n){const e=ed++;return td[e]=!0,Xa||(Xa=Promise.resolve()),Xa.then(()=>cv(e)&&n()),e},clearImmediate(n){cv(n)}},{setImmediate:lv,clearImmediate:ql}=Mh,jc={setImmediate(...n){const{delegate:e}=jc;return(e?.setImmediate||lv)(...n)},clearImmediate(n){const{delegate:e}=jc;return(e?.clearImmediate||ql)(n)},delegate:void 0};var m=y(2631);const E=new class _ extends m.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class w extends ko.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=jc.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(jc.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var ue=y(6321),Se=y(2420);function yt(n,e){return e?t=>(0,en.z)(e.pipe((0,kt.q)(1),function et(){return(0,ke.e)((n,e)=>{n.subscribe((0,Oe.x)(e,Se.Z))})}()),t.pipe(yt(n))):(0,rn.z)((t,i)=>(0,Ln.Xf)(n(t,i)).pipe((0,kt.q)(1),xc(t)))}var $t=y(671);function nn(n=0,e,t=ue.P){let i=-1;return null!=e&&((0,$t.K)(e)?t=e:i=e),new De.y(r=>{let s=function tn(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Ni(n,e=ue.z){const t=nn(n,e);return yt(()=>t)}class Yl{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dv extends Yl{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class gm extends Yl{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Kl extends Yl{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class _m{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof dv?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof gm?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Kl?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Rh extends _m{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hv=(()=>{class n extends _m{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const l=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(h,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(I.K0))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]})}return n})(),b0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();class vm{}class gI{}const xa="*";function Ja(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ql(n,e=null){return{type:4,styles:e,timings:n}}function _I(n,e=null){return{type:2,steps:n,options:e}}function Po(n){return{type:6,styles:n,offset:null}}function zc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Gc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class pv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class yI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var nd=y(9388),kh=y(4266);const mv=["addListener","removeListener"],E0=["addEventListener","removeEventListener"],bI=["on","off"];function gv(n,e,t,i){if((0,gt.m)(t)&&(i=t,t=void 0),i)return gv(n,e,t).pipe((0,Kp.Z)(i));const[r,s]=function cM(n){return(0,gt.m)(n.addEventListener)&&(0,gt.m)(n.removeEventListener)}(n)?E0.map(l=>h=>n[l](e,h,t)):function id(n){return(0,gt.m)(n.addListener)&&(0,gt.m)(n.removeListener)}(n)?mv.map(x0(n,e)):function aM(n){return(0,gt.m)(n.on)&&(0,gt.m)(n.off)}(n)?bI.map(x0(n,e)):[];if(!r&&(0,kh.z)(n))return(0,rn.z)(l=>gv(l,e,t))((0,Ln.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new De.y(l=>{const h=(...p)=>l.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function x0(n,e){return t=>i=>n[t](e,i)}const wm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=wm;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new nt.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=wm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=wm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class uM extends m.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lM extends ko.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=wm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(wm.cancelAnimationFrame(t),e._scheduled=void 0)}});function wI(n,e=ue.z){return function dM(n){return(0,ke.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,t.next(v)}l&&t.complete()},p=()=>{s=null,l&&t.complete()};e.subscribe((0,Oe.x)(t,v=>{i=!0,r=v,s||(0,Ln.Xf)(n(v)).subscribe(s=(0,Oe.x)(t,h,p))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>nn(n,e))}var xr=y(2831);let pM=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new De.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(wI(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,pe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Vt.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=(0,on.fI)(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(xr.t4),a.LFG(I.K0,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ph=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(wI(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(xr.t4),a.LFG(a.R0b),a.LFG(I.K0,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_v=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),T0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[nd.vT,_v,nd.vT,_v]})}return n})();const II=(0,xr.Mq)();class vM{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,on.HM)(-this._previousScrollPosition.left),e.style.top=(0,on.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),II&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),II&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class yM{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,Vt.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class C0{enable(){}disable(){}attach(){}}function Oh(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function D0(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class A0{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Oh(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let bM=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new C0,this.close=l=>new yM(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new vM(this._viewportRuler,this._document),this.reposition=l=>new A0(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(pM),a.LFG(Ph),a.LFG(a.R0b),a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Xl{constructor(e){if(this.scrollStrategy=new C0,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class S0{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let TI=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EM=(()=>{class n extends TI{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const h=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xM=(()=>{class n extends TI{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=(0,xr.sA)(s)},this._clickListener=s=>{const l=(0,xr.sA)(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const T=p[v];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(l)||T.overlayElement.contains(h))break;const R=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(s)):R.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0),a.LFG(xr.t4),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||(0,xr.Oy)()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),(0,xr.Oy)()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0),a.LFG(xr.t4))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class cF{constructor(e,t,i,r,s,l,h,p,v,T=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=p,this._outsideClickDispatcher=v,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new zt.x,this._attachments=new zt.x,this._detachments=new zt.x,this._locationChanges=nt.w0.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new zt.x,this._outsidePointerEvents=new zt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,kt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,on.HM)(this._config.width),e.height=(0,on.HM)(this._config.height),e.minWidth=(0,on.HM)(this._config.minWidth),e.minHeight=(0,on.HM)(this._config.minHeight),e.maxWidth=(0,on.HM)(this._config.maxWidth),e.maxHeight=(0,on.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=(0,on.Eq)(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,Vr.R)((0,bs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const IM="cdk-overlay-connected-position-bounding-box",xm=/([A-Za-z%]+)$/;class Im{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zt.x,this._resizeSubscription=nt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(IM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),v=this._getOverlayPoint(p,t,h),T=this._getOverlayFit(v,t,i,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(T,v,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<T.visibleArea)&&(l={overlayFit:T,overlayPoint:v,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const v of s){const T=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);T>p&&(p=T,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?l:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=vv(t);let{x:l,y:h}=e,p=this._getOffset(r,"x"),v=this._getOffset(r,"y");p&&(l+=p),v&&(h+=v);let q=0-h,me=h+s.height-i.height,Te=this._subtractOverflows(s.width,0-l,l+s.width-i.width),Me=this._subtractOverflows(s.height,q,me),Ge=Te*Me;return{visibleArea:Ge,isCompletelyWithinViewport:s.width*s.height===Ge,fitsInViewportVertically:Me===s.height,fitsInViewportHorizontally:Te==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=R0(this._overlayRef.getConfig().minHeight),h=R0(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=vv(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),v=Math.max(s.left-i.left-e.x,0);let T=0,R=0;return T=r.width<=s.width?v||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,R=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:T,y:R},{x:e.x+T,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new S0(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,h,T,R,q;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const me=Math.min(i.bottom-e.y+i.top,e.y),Te=this._lastBoundingBoxSize.height;s=2*me,l=e.y-me,s>Te&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-Te/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)q=i.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)R=e.x,T=i.right-e.x;else{const me=Math.min(i.right-e.x+i.left,e.x),Te=this._lastBoundingBoxSize.width;T=2*me,R=e.x-me,T>Te&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-Te/2)}return{top:l,left:R,bottom:h,right:q,width:T,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=(0,on.HM)(i.height),r.top=(0,on.HM)(i.top),r.bottom=(0,on.HM)(i.bottom),r.width=(0,on.HM)(i.width),r.left=(0,on.HM)(i.left),r.right=(0,on.HM)(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=(0,on.HM)(s)),l&&(r.maxWidth=(0,on.HM)(l))}this._lastBoundingBoxSize=i,Jl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Jl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Jl(i,this._getExactOverlayY(t,e,T)),Jl(i,this._getExactOverlayX(t,e,T))}else i.position="static";let h="",p=this._getOffset(t,"x"),v=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=(0,on.HM)(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=(0,on.HM)(l.maxWidth):s&&(i.maxWidth="")),Jl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=(0,on.HM)(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=(0,on.HM)(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:D0(e,i),isOriginOutsideView:Oh(e,i),isOverlayClipped:D0(t,i),isOverlayOutsideView:Oh(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,on.Eq)(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Jl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function R0(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(xm);return t&&"px"!==t?null:parseFloat(e)}return n||null}function vv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const k0="cdk-global-overlay-wrapper";class DI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(k0),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),T=this._xPosition,R=this._xOffset,q="rtl"===this._overlayRef.getConfig().direction;let me="",Te="",Me="";p?Me="flex-start":"center"===T?(Me="center",q?Te=R:me=R):q?"left"===T||"end"===T?(Me="flex-end",me=R):("right"===T||"start"===T)&&(Me="flex-start",Te=R):"left"===T||"start"===T?(Me="flex-start",me=R):("right"===T||"end"===T)&&(Me="flex-end",Te=R),e.position=this._cssPosition,e.marginLeft=p?"0":me,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":Te,t.justifyContent=Me,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(k0),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let yv=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new DI}flexibleConnectedTo(t){return new Im(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ph),a.LFG(I.K0),a.LFG(xr.t4),a.LFG(M0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uF=0,Nh=(()=>{class n{constructor(t,i,r,s,l,h,p,v,T,R,q,me){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=h,this._ngZone=p,this._document=v,this._directionality=T,this._location=R,this._outsideClickDispatcher=q,this._animationsModuleType=me}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new Xl(t);return l.direction=l.direction||this._directionality.value,new cF(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+uF++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new Rh(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(bM),a.LFG(M0),a.LFG(a._Vd),a.LFG(yv),a.LFG(EM),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(I.K0),a.LFG(nd.Is),a.LFG(I.Ye),a.LFG(xM),a.LFG(a.QbO,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const DM={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Nh],useFactory:function rd(n){return()=>n.scrollStrategies.reposition()}};let O0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[Nh,DM],imports:[nd.vT,b0,T0,T0]})}return n})();const AM=["mat-menu-item",""];function F0(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const bv=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ec=["mat-icon, [matMenuItemIcon]","*"];function Fh(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._handleKeydown(r))})("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(t);const s=a.oxw();return a.KtG(s._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),a.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const L0=["*"],V0=new a.OlP("MAT_MENU_PANEL"),SM=(0,pn.Kr)((0,pn.Id)(class{}));let Tm=(()=>{class n extends SM{constructor(t,i,r,s,l){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new zt.x,this._focused=new zt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(I.K0),a.Y36(ys.tE),a.Y36(V0,8),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&a.NdJ("click",function(l){return r._checkDisabled(l)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:AM,ngContentSelectors:ec,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(a.F$t(bv),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,F0,2,0,"svg",2)),2&i&&(a.xp6(3),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[I.O5,pn.wG],encapsulation:2,changeDetection:0})}return n})();const MM=new a.OlP("MatMenuContent"),wv={transformMenu:Ja("transformMenu",[zc("void",Po({opacity:0,transform:"scale(0.8)"})),Gc("void => enter",Ql("120ms cubic-bezier(0, 0, 0.2, 1)",Po({opacity:1,transform:"scale(1)"}))),Gc("* => void",Ql("100ms 25ms linear",Po({opacity:0})))]),fadeInItems:Ja("fadeInItems",[zc("showing",Po({opacity:1})),Gc("void => *",[Po({opacity:0}),Ql("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pF=0;const MI=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function PM(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Dm=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=(0,on.Ig)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,on.Ig)(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=s,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new zt.x,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+pF++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ys.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,wt.O)(this._directDescendantItems),(0,xt.w)(t=>(0,bs.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,wt.O)(this._directDescendantItems),(0,xt.w)(i=>(0,bs.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case so.hY:(0,so.Vb)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case so.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case so.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===so.LH||i===so.JH)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,kt.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,wt.O)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(MI),a.Y36(a.sBO))};static#t=this.\u0275dir=a.lG2({type:n,contentQueries:function(i,r,s){if(1&i&&(a.Suo(s,MM,5),a.Suo(s,Tm,5),a.Suo(s,Tm,4)),2&i){let l;a.iGM(l=a.CRH())&&(r.lazyContent=l.first),a.iGM(l=a.CRH())&&(r._allItems=l),a.iGM(l=a.CRH())&&(r.items=l)}},viewQuery:function(i,r){if(1&i&&a.Gf(a.Rgc,5),2&i){let s;a.iGM(s=a.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),mF=(()=>{class n extends Dm{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(MI),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:V0,useExisting:n}]),a.qOj],ngContentSelectors:L0,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(a.F$t(),a.YNc(0,Fh,3,6,"ng-template"))},dependencies:[I.mk],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[wv.transformMenu,wv.fadeInItems]},changeDetection:0})}return n})();const OM=new a.OlP("mat-menu-scroll-strategy"),NM={provide:OM,deps:[Nh],useFactory:function Ev(n){return()=>n.scrollStrategies.reposition()}},xv=(0,xr.i$)({passive:!0});let Lh=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,s,l,h,p,v,T){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=p,this._focusMonitor=v,this._ngZone=T,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=nt.w0.EMPTY,this._hoverSubscription=nt.w0.EMPTY,this._menuCloseSubscription=nt.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=R=>{(0,ys.yG)(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof Dm?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,xv)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,xv),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Dm&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,Vr.R)(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Dm?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,Vt.h)(r=>"void"===r.toState),(0,kt.q)(1),(0,Vr.R)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Xl({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,l)):t.setPositionClasses(s,l)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[l,h]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[p,v]=[l,h],[T,R]=[r,s],q=0;if(this.triggersSubmenu()){if(R=r="before"===t.xPosition?"start":"end",s=T="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const me=this._parentMaterialMenu.items.first;this._parentInnerPadding=me?me._getHostElement().offsetTop:0}q="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(p="top"===l?"bottom":"top",v="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:T,overlayY:l,offsetY:q},{originX:s,originY:p,overlayX:R,overlayY:l,offsetY:q},{originX:r,originY:v,overlayX:T,overlayY:h,offsetY:-q},{originX:s,originY:v,overlayX:R,overlayY:h,offsetY:-q}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,pe.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Vt.h)(l=>l!==this._menuItemInstance),(0,Vt.h)(()=>this._menuOpen)):(0,pe.of)();return(0,bs.T)(t,r,s,i)}_handleMousedown(t){(0,ys.X6)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(i===so.K5||i===so.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===so.SV&&"ltr"===this.dir||i===so.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Vt.h)(t=>t===this._menuItemInstance&&!t.disabled),Ni(0,E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Dm&&this.menu._isAnimating?this.menu._animationDone.pipe((0,kt.q)(1),Ni(0,E),(0,Vr.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new gm(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Nh),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(OM),a.Y36(V0,8),a.Y36(Tm,10),a.Y36(nd.Is,8),a.Y36(ys.tE),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&a.NdJ("click",function(l){return r._handleClick(l)})("mousedown",function(l){return r._handleMousedown(l)})("keydown",function(l){return r._handleKeydown(l)}),2&i&&a.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),B0=(()=>{class n extends Lh{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]})}return n})(),U0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[NM],imports:[I.ez,pn.si,pn.BQ,O0,_v,pn.BQ]})}return n})();const Am=["*",[["mat-toolbar-row"]]],Iv=["*","mat-toolbar-row"],Vh=(0,pn.pj)(class{constructor(n){this._elementRef=n}});let j0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),H0=(()=>{class n extends Vh{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(xr.t4),a.Y36(I.K0))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&a.Suo(s,j0,5),2&i){let l;a.iGM(l=a.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Iv,decls:2,vars:0,template:function(i,r){1&i&&(a.F$t(Am),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),gF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,pn.BQ]})}return n})(),G0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-toolbar"]],decls:22,vars:1,consts:[[1,"toolbar"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","routerLink","/laskin","routerLinkActive","active"],["mat-menu-item","","routerLink","/feedback","routerLinkActive","active"],["mat-menu-item","","routerLink","/form","routerLinkActive","active"],["mat-menu-item","","routerLink","/reactiveform","routerLinkActive","active"],["mat-menu-item","","routerLink","/cinema","routerLinkActive","active"],["mat-menu-item","","routerLink","/adminview","routerLinkActive","active"],["mat-menu-item","","routerLink","/login","routerLinkActive","active"]],template:function(i,r){if(1&i&&(a.TgZ(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),a._uU(3,"menu"),a.qZA()(),a.TgZ(4,"span"),a._uU(5,"Frontend-ty\xf6kalut valikko"),a.qZA()(),a.TgZ(6,"mat-menu",null,2)(8,"a",3),a._uU(9,"Laskin"),a.qZA(),a.TgZ(10,"a",4),a._uU(11,"Palaute"),a.qZA(),a.TgZ(12,"a",5),a._uU(13,"Lomake"),a.qZA(),a.TgZ(14,"a",6),a._uU(15,"Reaktiivinen lomake"),a.qZA(),a.TgZ(16,"a",7),a._uU(17,"Finnkino info"),a.qZA(),a.TgZ(18,"a",8),a._uU(19,"Admin"),a.qZA(),a.TgZ(20,"a",9),a._uU(21,"Kirjaudu sis\xe4\xe4n"),a.qZA()()),2&i){const s=a.MAs(7);a.xp6(1),a.Q6J("matMenuTriggerFor",s)}},dependencies:[Ys,Bp,Mo.RK,av,mF,Tm,B0,H0],styles:[".toolbar[_ngcontent-%COMP%]{background-color:#8a2be2}"]})}return n})(),Sm=(()=>{class n{constructor(){this.title="Front-end kurssi"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){1&i&&a._UZ(0,"app-toolbar")(1,"router-outlet")},dependencies:[Rl,G0],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']})}return n})();var Xo=y(534);(0,Xo.registerVersion)("firebase","10.7.1","app");const PI=new class $0 extends m.v{}(class LM extends ko.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}});var Bh=y(3093),W0=y(5137);const Uh=new a.GfV("ANGULARFIRE2_VERSION");class Mm{constructor(){return((n,e)=>{const t=(0,Xo.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(l=>{i.includes(l)||i.push(l)})}),i})(q0)}}const q0="app-check";function Zc(){}class NI{zone;delegate;constructor(e,t=PI){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(l){r.runGuarded(()=>{e.apply(this,[l])})},t,i)}}class FI{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zc,{},Zc,Zc)),t.pipe((0,Hn.b)({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tv=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new NI(Zone.current)),this.insideAngular=t.run(()=>new NI(Zone.current,ue.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(a.LFG(a.R0b))};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function od(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function jh(n){return n.pipe((0,Bh.Q)(od().outsideAngular))}function ji(n){return function Rm(n){return function(t){return(t=t.lift(new FI(n.ngZone))).pipe((0,W0.R)(n.outsideAngular),(0,Bh.Q)(n.insideAngular))}}(od())(n)}var ws=y(3106);ws.Z.registerVersion("firebase","10.7.1","app-compat");const LI=["ngOnDestroy"];class zM{constructor(e){return e}}const eu=new a.OlP("angularfire2.app.options"),ad=new a.OlP("angularfire2.app.name");function km(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const l=ws.Z.apps.filter(h=>h&&h.name===r.name)[0]||e.runOutsideAngular(()=>ws.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(l.options)){const h=!!module.hot;GM("error",`${l.name} Firebase App already initialized with different options${h?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new zM(l)}const GM=(n,...e)=>{(0,a.X6Q)()&&typeof console<"u"&&console[n](...e)},BI={provide:zM,useFactory:km,deps:[eu,a.R0b,[new a.FiY,ad]]};let $M=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:eu,useValue:t},{provide:ad,useValue:i}]}}constructor(t){ws.Z.registerVersion("angularfire",Uh.full,"core"),ws.Z.registerVersion("angularfire",Uh.full,"app-compat"),ws.Z.registerVersion("angular",a.q4F.full,t.toString())}static \u0275fac=function(i){return new(i||n)(a.LFG(a.Lbi))};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({providers:[BI]})}return n})();function Pm(n,e,t,i,r){const[,s,l]=globalThis.\u0275AngularfireInstanceCache.find(h=>h[0]===n)||[];if(s)return function WM(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,l)||(qM("error",`${e} was already initialized on the ${t} Firebase App with different settings.${ZM?" You may need to reload as Firebase is not HMR aware.":""}`),qM("warn",{is:r,was:l})),s;{const h=i();return globalThis.\u0275AngularfireInstanceCache.push([n,h,r]),h}}const ZM=typeof module<"u"&&!!module.hot,qM=(n,...e)=>{(0,a.X6Q)()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[],y(6230);var UI=y(4552);class Ia extends zt.x{constructor(e=1/0,t=1/0,i=UI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)h=p;h&&i.splice(0,h+1)}}}function Cv(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Qp.B)({connector:()=>new Ia(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function KM(n,e){return(0,gt.m)(e)?(0,xt.w)(()=>n,e):(0,xt.w)(()=>n)}const tc=new a.OlP("angularfire2.auth.use-emulator"),Om=new a.OlP("angularfire2.auth.settings"),Q0=new a.OlP("angularfire2.auth.tenant-id"),jI=new a.OlP("angularfire2.auth.langugage-code"),X0=new a.OlP("angularfire2.auth.use-device-language"),Nm=new a.OlP("angularfire.auth.persistence"),Js=(n,e,t,i,r,s,l,h)=>Pm(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[v,T]of Object.entries(l))p.settings[v]=T;return h&&p.setPersistence(h),p},[t,i,r,s,l,h]);let Hh=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,l,h,p,v,T,R,q,me){const Te=new zt.x,Me=(0,pe.of)(void 0).pipe((0,Bh.Q)(l.outsideAngular),(0,xt.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,6230)))),(0,Xe.U)(()=>km(t,s,i)),(0,Xe.U)(Ge=>Js(Ge,s,h,v,T,R,p,q)),Cv({bufferSize:1,refCount:!1}));if((0,I.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pe.of)(null);else{Me.pipe(Nn()).subscribe();const Ge=Me.pipe((0,xt.w)(pt=>pt.getRedirectResult().then(Bt=>Bt,()=>null)),ji,Cv({bufferSize:1,refCount:!1})),At=Me.pipe((0,xt.w)(pt=>new De.y(Bt=>({unsubscribe:s.runOutsideAngular(()=>pt.onAuthStateChanged(Cn=>Bt.next(Cn),Cn=>Bt.error(Cn),()=>Bt.complete()))})))),Lt=Me.pipe((0,xt.w)(pt=>new De.y(Bt=>({unsubscribe:s.runOutsideAngular(()=>pt.onIdTokenChanged(Cn=>Bt.next(Cn),Cn=>Bt.error(Cn),()=>Bt.complete()))}))));this.authState=Ge.pipe(KM(At),(0,W0.R)(l.outsideAngular),(0,Bh.Q)(l.insideAngular)),this.user=Ge.pipe(KM(Lt),(0,W0.R)(l.outsideAngular),(0,Bh.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,xt.w)(pt=>pt?(0,ve.D)(pt.getIdToken()):(0,pe.of)(null))),this.idTokenResult=this.user.pipe((0,xt.w)(pt=>pt?(0,ve.D)(pt.getIdTokenResult()):(0,pe.of)(null))),this.credential=(0,bs.T)(Ge,Te,this.authState.pipe((0,Vt.h)(pt=>!pt))).pipe((0,Xe.U)(pt=>pt?.user?pt:null),(0,W0.R)(l.outsideAngular),(0,Bh.Q)(l.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,s)=>t.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(LI.indexOf(s)>-1)return()=>{};const l=e.toPromise().then(h=>{const p=h?.[s];return"function"==typeof p?p.bind(h):p?.then?p.then(v=>t.run(()=>v)):t.run(()=>p)});return new Proxy(()=>{},{get:(h,p)=>l[p],apply:(h,p,v)=>l.then(T=>{const R=T?.(...v);return i?.spy?.apply&&i.spy.apply(s,v,R),R})})})}))(this,Me,s,{spy:{apply:(Ge,At,Lt)=>{(Ge.startsWith("signIn")||Ge.startsWith("createUser"))&&Lt.then(pt=>Te.next(pt))}}})}static \u0275fac=function(i){return new(i||n)(a.LFG(eu),a.LFG(ad,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tv),a.LFG(tc,8),a.LFG(Om,8),a.LFG(Q0,8),a.LFG(jI,8),a.LFG(X0,8),a.LFG(Nm,8),a.LFG(Mm,8))};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),QM=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",Uh.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({providers:[Hh]})}return n})();var bF=y(3620),dt=y(5861),_e=y(9058),Es=y(4537);const HI="firebasestorage.googleapis.com",zI="storageBucket";class ir extends _e.ZR{constructor(e,t,i=0){super(Dv(e),`Firebase Storage: ${t} (${Dv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Gi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Gi||{});function Dv(n){return"storage/"+n}function ew(){return new ir(Gi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cd(){return new ir(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZI(){return new ir(Gi.CANCELED,"User canceled the upload/download.")}function Av(){return new ir(Gi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ld(n){return new ir(Gi.INVALID_ARGUMENT,n)}function QI(){return new ir(Gi.APP_DELETED,"The Firebase app was deleted.")}function XI(n){return new ir(Gi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lm(n,e){return new ir(Gi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Vm(n){throw new ir(Gi.INTERNAL_ERROR,"Internal error: "+n)}class ao{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ao.makeFromUrl(e,t)}catch{return new ao(e,"")}if(""===i.path)return i;throw function qI(n){return new ir(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Bt){Bt.path_=decodeURIComponent(Bt.path)}const R=t.replace(/[.]/g,"\\."),pt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Bt){"/"===Bt.path.charAt(Bt.path.length-1)&&(Bt.path_=Bt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===HI?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Bt=0;Bt<pt.length;Bt++){const Cn=pt[Bt],Pn=Cn.regex.exec(e);if(Pn){let Ui=Pn[Cn.indices.path];Ui||(Ui=""),i=new ao(Pn[Cn.indices.bucket],Ui),Cn.postModify(i);break}}if(null==i)throw function eR(n){return new ir(Gi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class wF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tw(n){return"string"==typeof n||n instanceof String}function Bm(n){return Mv()&&n instanceof Blob}function Mv(){return typeof Blob<"u"}function Rv(n,e,t,i){if(i<e)throw ld(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ld(`Invalid value for '${n}'. Expected ${t} or less.`)}function Yc(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function nw(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var ud=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ud||{});function zn(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class tT{constructor(e,t,i,r,s,l,h,p,v,T,R,q=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=R,this.retry=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((me,Te)=>{this.resolve_=me,this.reject_=Te,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function xF(n){return void 0!==n}(p)?s():s(p)}catch(p){l(p)}else if(null!==h){const p=ew();p.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,p):p)}else l(r.canceled?this.appDelete_?QI():ZI():cd())};this.canceled_?t(0,new Um(!1,null,!0)):this.backoffId_=function tR(n,e,t){let i=1,r=null,s=null,l=!1,h=0;function p(){return 2===h}let v=!1;function T(...Ge){v||(v=!0,e.apply(null,Ge))}function R(Ge){r=setTimeout(()=>{r=null,n(me,p())},Ge)}function q(){s&&clearTimeout(s)}function me(Ge,...At){if(v)return void q();if(Ge)return q(),void T.call(null,Ge,...At);if(p()||l)return q(),void T.call(null,Ge,...At);let pt;i<64&&(i*=2),1===h?(h=2,pt=0):pt=1e3*(i+Math.random()),R(pt)}let Te=!1;function Me(Ge){Te||(Te=!0,q(),!v&&(null!==r?(Ge||(h=2),clearTimeout(r),R(0)):Ge||(h=1)))}return R(0),s=setTimeout(()=>{l=!0,Me(!0)},t),Me}((i,r)=>{if(r)return void i(!1,new Um(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===ud.NO_ERROR,p=s.getStatus();if(!h||zn(p,this.additionalRetryCodes_)&&this.retry){const T=s.getErrorCode()===ud.ABORT;return void i(!1,new Um(!1,null,T))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new Um(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function EF(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Um{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function jm(...n){const e=function iw(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Mv())return new Blob(n);throw new ir(Gi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hm{constructor(e,t){this.data=e,this.contentType=t||null}}function Pv(n,e){switch(n){case Oo.RAW:return new Hm(Ov(e));case Oo.BASE64:case Oo.BASE64URL:return new Hm(rT(n,e));case Oo.DATA_URL:return new Hm(function sT(n){const e=new oT(n);return e.base64?rT(Oo.BASE64,e.rest):function iR(n){let e;try{e=decodeURIComponent(n)}catch{throw Lm(Oo.DATA_URL,"Malformed data URL.")}return Ov(e)}(e.rest)}(e),function rR(n){return new oT(n).contentType}(e))}throw ew()}function Ov(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function rT(n,e){switch(n){case Oo.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Lm(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Lm(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function rw(n){if(typeof atob>"u")throw function KI(n){return new ir(Gi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Lm(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class oT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lm(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function oR(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class nc{constructor(e,t){let i=0,r="";Bm(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Bm(this.data_)){const r=function iT(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new nc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new nc(i,!0)}}static getBlob(...e){if(Mv()){const t=e.map(i=>i instanceof nc?i.data_:i);return new nc(jm.apply(null,t))}{const t=e.map(l=>tw(l)?Pv(Oo.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)r[s++]=l[h]}),new nc(r,!0)}}uploadData(){return this.data_}}function ow(n){let e;try{e=JSON.parse(n)}catch{return null}return function eT(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function lT(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function sR(n,e){return e}class Vi{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||sR}}let Nv=null;function Fv(){if(Nv)return Nv;const n=[];n.push(new Vi("bucket")),n.push(new Vi("generation")),n.push(new Vi("metageneration")),n.push(new Vi("name","fullPath",!0));const t=new Vi("name");t.xform=function e(s,l){return function aR(n){return!tw(n)||n.length<2?n:lT(n)}(l)},n.push(t);const r=new Vi("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Vi("timeCreated")),n.push(new Vi("updated")),n.push(new Vi("md5Hash",null,!0)),n.push(new Vi("cacheControl",null,!0)),n.push(new Vi("contentDisposition",null,!0)),n.push(new Vi("contentEncoding",null,!0)),n.push(new Vi("contentLanguage",null,!0)),n.push(new Vi("contentType",null,!0)),n.push(new Vi("metadata","customMetadata",!0)),Nv=n,Nv}function dT(n,e,t){const i=ow(e);return null===i?null:function uT(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function sw(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ao(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function aw(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const cw="prefixes",hT="items";class ic{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rc(n){if(!n)throw ew()}function Lv(n,e){return function t(i,r){const s=dT(n,r,e);return rc(null!==s),s}}function No(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function zh(){return new ir(Gi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function WI(){return new ir(Gi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function JM(n){return new ir(Gi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function qc(n){return new ir(Gi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function dd(n){const e=No(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function XM(n){return new ir(Gi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function fT(n,e,t){const r=Yc(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new ic(r,"GET",Lv(n,t),l);return h.errorHandler=dd(e),h}function pT(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Yc(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,T=new ic(h,"GET",function uR(n,e){return function t(i,r){const s=function lw(n,e,t){const i=ow(t);return null===i?null:function lR(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[cw])for(const r of t[cw]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new ao(e,s));i.prefixes.push(l)}if(t[hT])for(const r of t[hT]){const s=n._makeStorageReference(new ao(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return rc(null!==s),s}}(n,e.bucket),v);return T.urlParams=s,T.errorHandler=No(e),T}function hR(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function uw(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class zm{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function Bv(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{rc(!1)}return rc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const pR={STATE_CHANGED:"state_changed"},co={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fw(n){switch(n){case"running":case"pausing":case"canceling":return co.RUNNING;case"paused":return co.PAUSED;case"success":return co.SUCCESS;case"canceled":return co.CANCELED;default:return co.ERROR}}class yT{constructor(e,t,i){if(function JI(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Wh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Gm=null;class $m{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ud.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ud.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ud.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Vm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class bT extends $m{initXhr(){this.xhr_.responseType="text"}}function Jo(){return Gm?Gm():new bT}class xT{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Fv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Gi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(zn(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=cd()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Gi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function vT(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=hR(e,i,r),h={name:l.fullPath},p=Yc(s,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},R=aw(l,t),Te=new ic(p,"POST",function me(Me){let Ge;Bv(Me);try{Ge=Me.getResponseHeader("X-Goog-Upload-URL")}catch{rc(!1)}return rc(tw(Ge)),Ge},n.maxUploadRetryTime);return Te.urlParams=h,Te.headers=T,Te.body=R,Te.errorHandler=No(e),Te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Jo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function hw(n,e,t,i){const p=new ic(t,"POST",function s(v){const T=Bv(v,["active","final"]);let R=null;try{R=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rc(!1)}R||rc(!1);const q=Number(R);return rc(!isNaN(q)),new zm(q,i.size(),"final"===T)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=No(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Jo,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new zm(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function fR(n,e,t,i,r,s,l,h){const p=new zm(0,0);if(l?(p.current=l.current,p.total=l.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function Fm(){return new ir(Gi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let T=v;r>0&&(T=Math.min(T,r));const R=p.current;let me="";me=0===T?"finalize":v===T?"upload, finalize":"upload";const Te={"X-Goog-Upload-Command":me,"X-Goog-Upload-Offset":`${p.current}`},Me=i.slice(R,R+T);if(null===Me)throw Av();const pt=new ic(t,"POST",function Ge(Bt,Cn){const Pn=Bv(Bt,["active","final"]),ni=p.current+T,Ui=i.size();let Ns;return Ns="final"===Pn?Lv(e,s)(Bt,Cn):null,new zm(ni,Ui,"final"===Pn,Ns)},e.maxUploadRetryTime);return pt.headers=Te,pt.body=Me.uploadData(),pt.progressCallback=h||null,pt.errorHandler=No(n),pt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(l,Jo,r,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=fT(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Jo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function dw(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let pt="";for(let Bt=0;Bt<2;Bt++)pt+=Math.random().toString().slice(2);return pt}();l["Content-Type"]="multipart/related; boundary="+p;const v=hR(e,i,r),T=aw(v,t),me=nc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===me)throw Av();const Te={name:v.fullPath},Me=Yc(s,n.host,n._protocol),At=n.maxUploadRetryTime,Lt=new ic(Me,"POST",Lv(n,t),At);return Lt.urlParams=Te,Lt.headers=l,Lt.body=me.uploadData(),Lt.errorHandler=No(e),Lt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Jo,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ZI(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=fw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new yT(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(fw(this._state)){case co.SUCCESS:Wh(this._resolve.bind(null,this.snapshot))();break;case co.CANCELED:case co.ERROR:Wh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(fw(this._state)){case co.RUNNING:case co.PAUSED:e.next&&Wh(e.next.bind(e,this.snapshot))();break;case co.SUCCESS:e.complete&&Wh(e.complete.bind(e))();break;default:e.error&&Wh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class hd{constructor(e,t){this._service=e,this._location=t instanceof ao?t:ao.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hd(e,t)}get root(){const e=new ao(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lT(this._location.path)}get storage(){return this._service}get parent(){const e=function aT(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ao(this._location.bucket,e);return new hd(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw XI(e)}}function AT(n,e,t){return pw.apply(this,arguments)}function pw(){return(pw=(0,dt.Z)(function*(n,e,t){const r=yield qh(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield AT(n,e,r.nextPageToken))})).apply(this,arguments)}function qh(n,e){null!=e&&"number"==typeof e.maxResults&&Rv("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=pT(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Jo)}function yR(n){n._throwIfRoot("getDownloadURL");const e=function gT(n,e,t){const r=Yc(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new ic(r,"GET",function dR(n,e){return function t(i,r){const s=dT(n,r,e);return rc(null!==s),function cR(n,e,t,i){const r=ow(e);if(null===r||!tw(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const R=n.fullPath;return Yc("/b/"+l(n.bucket)+"/o/"+l(R),t,i)+nw({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return h.errorHandler=dd(e),h}(n.storage,n._location,Fv());return n.storage.makeRequestWithTokens(e,Jo).then(t=>{if(null===t)throw function Sv(){return new ir(Gi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function ST(n,e){const t=function cT(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ao(n._location.bucket,t);return new hd(n.storage,i)}function MT(n,e){if(n instanceof Yh){const t=n;if(null==t._bucket)throw function YI(){return new ir(Gi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zI+"' property when initializing the app?")}();const i=new hd(t,t._bucket);return null!=e?MT(i,e):i}return void 0!==e?ST(n,e):n}function RT(n,e){if(e&&function wR(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Yh)return function ER(n,e){return new hd(n,e)}(n,e);throw ld("To use ref(service, url), the first argument must be a Storage instance.")}return MT(n,e)}function Uv(n,e){const t=e?.[zI];return null==t?null:ao.makeFromBucketSpec(t,n)}class Yh{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=HI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ao.makeFromBucketSpec(r,this._host):Uv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ao.makeFromBucketSpec(this._url,e):Uv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,dt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,dt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hd(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new wF(QI());{const l=function $h(n,e,t,i,r,s,l=!0){const h=nw(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return function nR(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function Gh(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function nT(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function kv(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new tT(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,dt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const kT="@firebase/storage";function CR(n,e){return RT(n=(0,_e.m9)(n),e)}function sc(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Yh(t,i,r,e,Xo.SDK_VERSION)}!function Wm(){(0,Xo._registerComponent)(new Es.wA("storage",sc,"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(kT,"0.12.0",""),(0,Xo.registerVersion)(kT,"0.12.0","esm2017")}();class kr{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class tu{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new kr(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new kr(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new kr(l,this,this._ref)):{next:t.next?l=>t.next(new kr(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class Zm{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ir(e,this._service))}get items(){return this._delegate.items.map(e=>new Ir(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ir{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function jv(n,e){return ST(n,e)}(this._delegate,e);return new Ir(t,this.storage)}get root(){return new Ir(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ir(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new tu(function IR(n,e,t){return function gR(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new xT(n,new nc(e),t)}(n=(0,_e.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Oo.RAW,i){this._throwIfRoot("putString");const r=Pv(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new tu(new xT(this._delegate,new nc(r.data,!0),s),this)}listAll(){return function AF(n){return function DT(n){const e={prefixes:[],items:[]};return AT(n,e).then(()=>e)}(n=(0,_e.m9)(n))}(this._delegate).then(e=>new Zm(e,this.storage))}list(e){return function TR(n,e){return qh(n=(0,_e.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Zm(t,this.storage))}getMetadata(){return function NT(n){return function _R(n){n._throwIfRoot("getMetadata");const e=fT(n.storage,n._location,Fv());return n.storage.makeRequestWithTokens(e,Jo)}(n=(0,_e.m9)(n))}(this._delegate)}updateMetadata(e){return function FT(n,e){return function vR(n,e){n._throwIfRoot("updateMetadata");const t=function _T(n,e,t,i){const s=Yc(e.fullServerUrl(),n.host,n._protocol),h=aw(t,i),v=n.maxOperationRetryTime,T=new ic(s,"PATCH",Lv(n,i),v);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=h,T.errorHandler=dd(e),T}(n.storage,n._location,e,Fv());return n.storage.makeRequestWithTokens(t,Jo)}(n=(0,_e.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function LT(n){return yR(n=(0,_e.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function VT(n){return function bR(n){n._throwIfRoot("deleteObject");const e=function Vv(n,e){const i=Yc(e.fullServerUrl(),n.host,n._protocol),h=new ic(i,"DELETE",function l(p,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=dd(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Jo)}(n=(0,_e.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw XI(e)}}class Hv{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(fd(e))throw ld("ref() expected a child path but got a URL, use refFromURL instead.");return new Ir(CR(this._delegate,e),this)}refFromURL(e){if(!fd(e))throw ld("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ao.makeFromUrl(e,this._delegate.host)}catch{throw ld("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ir(CR(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function BT(n,e,t,i={}){!function xR(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,_e.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function fd(n){return/^[A-Za-z]+:\/\//.test(n)}function Jh(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Hv(t,i)}function pd(n){const e=function tf(n){return new De.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe((0,bF.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Xe.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Kc(n){return{getDownloadURL:()=>(0,pe.of)(void 0).pipe(jh,(0,xt.w)(()=>n.getDownloadURL()),ji),getMetadata:()=>(0,pe.of)(void 0).pipe(jh,(0,xt.w)(()=>n.getMetadata()),ji),delete:()=>(0,ve.D)(n.delete()),child:e=>Kc(n.child(e)),updateMetadata:e=>(0,ve.D)(n.updateMetadata(e)),put:(e,t)=>pd(n.put(e,t)),putString:(e,t,i)=>pd(n.putString(e,t,i)),list:e=>(0,ve.D)(n.list(e)),listAll:()=>(0,ve.D)(n.listAll())}}!function ef(n){const e={TaskState:co,TaskEvent:pR,StringFormat:Oo,Storage:Hv,Reference:Ir};n.INTERNAL.registerComponent(new Es.wA("storage-compat",Jh,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.3")}(ws.Z);const jT=new a.OlP("angularfire2.storageBucket"),HT=new a.OlP("angularfire2.storage.maxUploadRetryTime"),zT=new a.OlP("angularfire2.storage.maxOperationRetryTime"),GT=new a.OlP("angularfire2.storage.use-emulator");let $T=(()=>{class n{storage;constructor(t,i,r,s,l,h,p,v,T,R){const q=km(t,l,i);this.storage=Pm(`${q.name}.storage.${r}`,"AngularFireStorage",q.name,()=>{const me=l.runOutsideAngular(()=>q.storage(r||void 0)),Te=T;return Te&&me.useEmulator(...Te),p&&me.setMaxUploadRetryTime(p),v&&me.setMaxOperationRetryTime(v),me},[p,v])}ref(t){return Kc(this.storage.ref(t))}refFromURL(t){return Kc(this.storage.refFromURL(t))}upload(t,i,r){return Kc(this.storage.ref(t)).put(i,r)}static \u0275fac=function(i){return new(i||n)(a.LFG(eu),a.LFG(ad,8),a.LFG(jT,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tv),a.LFG(HT,8),a.LFG(zT,8),a.LFG(GT,8),a.LFG(Mm,8))};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),WT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({})}return n})(),ZT=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",Uh.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({providers:[$T],imports:[WT]})}return n})();function zv(){return(0,ke.e)((n,e)=>{let t,i=!1;n.subscribe((0,Oe.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var Jt,qm=y(3997),xs=y(7879),RF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ac={},mw=mw||{},$n=RF||self;function Gv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $v(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gw="closure_uid_"+(1e9*Math.random()>>>0),SR=0;function _w(n,e,t){return n.call.apply(n.bind,arguments)}function Ym(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Gr(n,e,t){return(Gr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_w:Ym).apply(null,arguments)}function md(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Pr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[r].apply(i,l)}}function ea(){this.s=this.s,this.o=this.o}ea.prototype.s=!1,ea.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AR(n){Object.prototype.hasOwnProperty.call(n,gw)&&n[gw]||(n[gw]=++SR)}(this)},ea.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function gd(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function KT(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Gv(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function bo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bo.prototype.h=function(){this.defaultPrevented=!0};var MR=function(){if(!$n.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};$n.addEventListener("test",t,e),$n.removeEventListener("test",t,e)}catch{}return n}();function Km(n){return/^[\s\xa0]*$/.test(n)}function nf(){var n=$n.navigator;return n&&(n=n.userAgent)?n:""}function Is(n){return-1!=nf().indexOf(n)}function rf(n){return rf[" "](n),n}rf[" "]=function(){};var Zv,n,RR=Is("Opera"),sf=Is("Trident")||Is("MSIE"),Wv=Is("Edge"),vw=Wv||sf,yw=Is("Gecko")&&!(-1!=nf().toLowerCase().indexOf("webkit")&&!Is("Edge"))&&!(Is("Trident")||Is("MSIE"))&&!Is("Edge"),kR=-1!=nf().toLowerCase().indexOf("webkit")&&!Is("Edge");function QT(){var n=$n.document;return n?n.documentMode:void 0}e:{var qv="",Yv=(n=nf(),yw?/rv:([^\);]+)(\)|;)/.exec(n):Wv?/Edge\/([\d\.]+)/.exec(n):sf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kR?/WebKit\/(\S+)/.exec(n):RR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Yv&&(qv=Yv?Yv[1]:""),sf){var bw=QT();if(null!=bw&&bw>parseFloat(qv)){Zv=String(bw);break e}}Zv=qv}var JT=$n.document&&sf&&(QT()||parseInt(Zv,10))||void 0;function _d(n,e){if(bo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yw){e:{try{rf(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ew[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_d.$.h.call(this)}}Pr(_d,bo);var Ew={2:"touch",3:"pen",4:"mouse"};_d.prototype.h=function(){_d.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qm="closure_listenable_"+(1e6*Math.random()|0),Kv=0;function Qv(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Kv,this.fa=this.ia=!1}function af(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Xv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function eC(n){const e={};for(const t in n)e[t]=n[t];return e}const tC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xm(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<tC.length;s++)t=tC[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function vd(n){this.src=n,this.g={},this.h=0}function Jv(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=YT(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(af(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ey(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}vd.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=ey(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new Qv(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var xw="closure_lm_"+(1e6*Math.random()|0),Iw={};function Tw(n,e,t,i,r){if(i&&i.once)return ny(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Tw(n,e[s],t,i,r);return null}return t=Sw(t),n&&n[Qm]?n.O(e,t,$v(i)?!!i.capture:!!i,r):ty(n,e,t,!1,i,r)}function ty(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=$v(r)?!!r.capture:!!r,h=iy(n);if(h||(n[xw]=h=new vd(n)),(t=h.add(e,t,i,l,s)).proxy)return t;if(i=function nC(){const e=iC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)MR||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Aw(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ny(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ny(n,e[s],t,i,r);return null}return t=Sw(t),n&&n[Qm]?n.P(e,t,$v(i)?!!i.capture:!!i,r):ty(n,e,t,!0,i,r)}function Cw(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Cw(n,e[s],t,i,r);else i=$v(i)?!!i.capture:!!i,t=Sw(t),n&&n[Qm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ey(s=n.g[e],t,i,r))&&(af(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=iy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ey(e,t,i,r)),(t=-1<n?e[n]:null)&&Dw(t))}function Dw(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Qm])Jv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Aw(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=iy(e))?(Jv(t,n),0==t.h&&(t.src=null,e[xw]=null)):af(n)}}}function Aw(n){return n in Iw?Iw[n]:Iw[n]="on"+n}function iC(n,e){if(n.fa)n=!0;else{e=new _d(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Dw(n),n=t.call(i,e)}return n}function iy(n){return(n=n[xw])instanceof vd?n:null}var ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sw(n){return"function"==typeof n?n:(n[ry]||(n[ry]=function(e){return n.handleEvent(e)}),n[ry])}function Or(){ea.call(this),this.i=new vd(this),this.S=this,this.J=null}function $r(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new bo(e,n);else if(e instanceof bo)e.target=e.target||n;else{var r=e;Xm(e=new bo(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=cf(l,i,!0,e)&&r}if(r=cf(l=e.g=n,i,!0,e)&&r,r=cf(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=cf(l=e.g=t[s],i,!1,e)&&r}function cf(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var h=l.listener,p=l.la||l.src;l.ia&&Jv(n.i,l),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Pr(Or,ea),Or.prototype[Qm]=!0,Or.prototype.removeEventListener=function(n,e,t,i){Cw(this,n,e,t,i)},Or.prototype.N=function(){if(Or.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)af(t[i]);delete n.g[e],n.h--}}this.J=null},Or.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Or.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jm=$n.JSON.stringify;function oC(){var n=cc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Mw=new class rC{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new aC,n=>n.reset());class aC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cC(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function lC(n){$n.setTimeout(()=>{throw n},0)}let lf,nu=!1,cc=new class sC{constructor(){this.h=this.g=null}add(e,t){const i=Mw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},uC=()=>{const n=$n.Promise.resolve(void 0);lf=()=>{n.then(OR)}};var OR=()=>{for(var n;n=oC();){try{n.h.call(n.g)}catch(t){lC(t)}var e=Mw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nu=!1};function uf(n,e){Or.call(this),this.h=n||1,this.g=e||$n,this.j=Gr(this.qb,this),this.l=Date.now()}function Qc(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function eg(n,e,t){if("function"==typeof n)t&&(n=Gr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gr(n.handleEvent,n)}return 2147483647<Number(e)?-1:$n.setTimeout(n,e||0)}function dC(n){n.g=eg(()=>{n.g=null,n.i&&(n.i=!1,dC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pr(uf,Or),(Jt=uf.prototype).ga=!1,Jt.T=null,Jt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$r(this,"tick"),this.ga&&(Qc(this),this.start()))}},Jt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jt.N=function(){uf.$.N.call(this),Qc(this),delete this.g};class Rw extends ea{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dC(this)}N(){super.N(),this.g&&($n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oy(n){ea.call(this),this.h=n,this.g={}}Pr(oy,ea);var NR=[];function hC(n,e,t,i){Array.isArray(t)||(t&&(NR[0]=t.toString()),t=NR);for(var r=0;r<t.length;r++){var s=Tw(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function fC(n){Xv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Dw(e)},n),n.g={}}function tg(){this.g=!0}function yd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function VR(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return Jm(t)}catch{return e}}(n,t)+(i?" "+i:"")})}oy.prototype.N=function(){oy.$.N.call(this),fC(this)},oy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Ea=function(){this.g=!1},tg.prototype.info=function(){};var iu={},pC=null;function ng(){return pC=pC||new Or}function kw(n){bo.call(this,iu.Ta,n)}function lc(n){const e=ng();$r(e,new kw(e))}function mC(n,e){bo.call(this,iu.STAT_EVENT,n),this.stat=e}function Fo(n){const e=ng();$r(e,new mC(e,n))}function Pw(n,e){bo.call(this,iu.Ua,n),this.size=e}function ig(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $n.setTimeout(function(){n()},e)}iu.Ta="serverreachability",Pr(kw,bo),iu.STAT_EVENT="statevent",Pr(mC,bo),iu.Ua="timingevent",Pr(Pw,bo);var rg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function og(){}function Ta(){}og.prototype.h=null;var Ts,sg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ay(){bo.call(this,"d")}function ta(){bo.call(this,"c")}function es(){}function df(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new oy(this),this.P=UR,this.V=new uf(n=vw?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ow}function Ow(){this.i=null,this.g="",this.h=!1}Pr(ay,bo),Pr(ta,bo),Pr(es,og),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Ts=new es;var UR=45e3,gC={},Nw={};function Fw(n,e,t){n.L=1,n.A=dg(na(e)),n.u=t,n.S=!0,cy(n,null)}function cy(n,e){n.G=Date.now(),ag(n),n.B=na(n.A);var t=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),DC(t.i,"t",i),n.o=0,t=n.l.J,n.h=new Ow,n.g=bf(n.l,t?e:null,!n.u),0<n.O&&(n.M=new Rw(Gr(n.Pa,n,n.g),n.O)),hC(n.U,n.g,"readystatechange",n.nb),e=n.I?eC(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),lc(),function FR(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),p=0;p<h.length;p++){var v=h[p].split("=");if(1<v.length){var T=v[0];v=v[1];var R=T.split("_");l=2<=R.length&&"type"==R[1]?l+(T+"=")+v+"&":l+(T+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.v,n.B,n.m,n.W,n.u)}function hf(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function _C(n,e,t){let r,i=!0;for(;!n.J&&n.o<t.length;){if(r=vC(n,t),r==Nw){4==e&&(n.s=4,Fo(14),i=!1),yd(n.j,n.m,null,"[Incomplete Response]");break}if(r==gC){n.s=4,Fo(15),yd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}yd(n.j,n.m,r,null),Lw(n,r)}hf(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,Fo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ww(e),e.M=!0,Fo(11))):(yd(n.j,n.m,t,"[Invalid Chunked Response]"),uc(n),ff(n))}function vC(n,e){var t=n.o,i=e.indexOf("\n",t);return-1==i?Nw:(t=Number(e.substring(t,i)),isNaN(t)?gC:(i+=1)+t>e.length?Nw:(e=e.slice(i,i+t),n.o=i+t,e))}function ag(n){n.Y=Date.now()+n.P,yC(n,n.P)}function yC(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=ig(Gr(n.lb,n),e)}function cg(n){n.C&&($n.clearTimeout(n.C),n.C=null)}function ff(n){0==n.l.H||n.J||yg(n.l,n)}function uc(n){cg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Qc(n.V),fC(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Lw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Uw(t.i,n)))if(!n.K&&Uw(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;_y(t),gy(t)}wd(t),Fo(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=ig(Gr(t.ib,t),6e3));if(1>=MC(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else su(t,11)}else if((n.K||t.g==n)&&_y(t),!Km(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const T=v[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const R=v[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const q=v[5];null!=q&&"number"==typeof q&&0<q&&(t.L=i=1.5*q,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const me=n.g;if(me){const Te=me.g?me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Te){var s=i.i;s.g||-1==Te.indexOf("spdy")&&-1==Te.indexOf("quic")&&-1==Te.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ly(s,s.h),s.h=null))}if(i.F){const Me=me.g?me.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(i.Da=Me,Hi(i.I,i.F,Me))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=GC(i,i.J?i.pa:null,i.Y),l.K){jw(i.i,l);var h=l,p=i.L;p&&h.setTimeout(p),h.C&&(cg(h),ag(h)),i.g=l}else HC(i);0<t.j.length&&_g(t)}else"stop"!=v[0]&&"close"!=v[0]||su(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?su(t,7):my(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}lc()}catch{}}function Vw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wC(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function bC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Jt=df.prototype).setTimeout=function(n){this.P=n},Jt.nb=function(n){n=n.target;const e=this.M;e&&3==Lo(n)?e.l():this.Pa(n)},Jt.Pa=function(n){try{if(n==this.g)e:{const T=Lo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||vw||this.g&&(this.h.h||this.g.ja()||BC(this.g)))){this.J||4!=T||7==e||lc(),cg(this);var t=this.g.da();this.ca=t;t:if(hf(this)){var i=BC(this.g);n="";var r=i.length,s=4==Lo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),ff(this);var l="";break t}this.h.i=new $n.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=n,this.o=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Nr(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.v,this.B,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Km(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.s=3,Fo(12),uc(this),ff(this);break e}yd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lw(this,t)}this.S?(_C(this,T,l),vw&&this.i&&3==T&&(hC(this.U,this.V,"tick",this.mb),this.V.start())):(yd(this.j,this.m,l,null),Lw(this,l)),4==T&&uc(this),this.i&&!this.J&&(4==T?yg(this.l,this):(this.i=!1,ag(this)))}else(function fy(n){const e={};n=(n.g&&2<=Lo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Km(n[i]))continue;var t=cC(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function PR(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.s=3,Fo(12)):(this.s=0,Fo(13)),uc(this),ff(this)}}}catch{}},Jt.mb=function(){if(this.g){var n=Lo(this.g),e=this.g.ja();this.o<e.length&&(cg(this),_C(this,n,e),this.i&&4!=n&&ag(this))}},Jt.cancel=function(){this.J=!0,uc(this)},Jt.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function LR(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(lc(),Fo(17)),uc(this),this.s=2,ff(this)):yC(this,this.Y-n)};var EC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xc){this.h=n.h,lg(this,n.j),this.s=n.s,this.g=n.g,ug(this,n.m),this.l=n.l;var e=n.i,t=new hg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Bw(this,t),this.o=n.o}else n&&(e=String(n).match(EC))?(this.h=!1,lg(this,e[1]||"",!0),this.s=pf(e[2]||""),this.g=pf(e[3]||"",!0),ug(this,e[4]),this.l=pf(e[5]||"",!0),Bw(this,e[6]||"",!0),this.o=pf(e[7]||"")):(this.h=!1,this.i=new hg(null,this.h))}function na(n){return new Xc(n)}function lg(n,e,t){n.j=t?pf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ug(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Bw(n,e,t){e instanceof hg?(n.i=e,function WR(n,e){e&&!n.j&&(ru(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(TC(this,i),DC(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=mf(e,GR)),n.i=new hg(e,n.h))}function Hi(n,e,t){n.i.set(e,t)}function dg(n){return Hi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mf(e,IC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mf(e,IC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(mf(t,"/"==t.charAt(0)?zR:HR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mf(t,$R)),n.join("")};var IC=/[#\/\?@]/g,HR=/[#\?:]/g,zR=/[#\?]/g,GR=/[#\?@]/g,$R=/#/g;function hg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ru(n){n.g||(n.g=new Map,n.h=0,n.i&&function jR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TC(n,e){ru(n),e=gf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function CC(n,e){return ru(n),e=gf(n,e),n.g.has(e)}function DC(n,e,t){TC(n,e),0<t.length&&(n.i=null,n.g.set(gf(n,e),gd(t)),n.h+=t.length)}function gf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function AC(n){this.l=n||qR,n=$n.PerformanceNavigationTiming?0<(n=$n.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($n.g&&$n.g.Ka&&$n.g.Ka()&&$n.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Jt=hg.prototype).add=function(n,e){ru(this),this.i=null,n=gf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Jt.forEach=function(n,e){ru(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Jt.ta=function(){ru(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Jt.Z=function(n){ru(this);let e=[];if("string"==typeof n)CC(this,n)&&(e=e.concat(this.g.get(gf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Jt.set=function(n,e){return ru(this),this.i=null,CC(this,n=gf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Jt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var qR=10;function SC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MC(n){return n.h?1:n.g?n.g.size:0}function Uw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ly(n,e){n.g?n.g.add(e):n.h=e}function jw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Hw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return gd(n.i)}AC.prototype.cancel=function(){if(this.i=Hw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var RC=class{stringify(n){return $n.JSON.stringify(n,void 0)}parse(n){return $n.JSON.parse(n,void 0)}};function kC(){this.g=new RC}function PC(n,e,t){const i=t||"";try{Vw(n,function(r,s){let l=r;$v(r)&&(l=Jm(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function fg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function _f(n){this.l=n.ec||null,this.j=n.ob||!1}function vf(n,e){Or.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pr(_f,og),_f.prototype.g=function(){return new vf(this.l,this.j)},_f.prototype.i=function(n){return function(){return n}}({}),Pr(vf,Or);var uy=0;function ou(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function pg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mg(n)}function mg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Jt=vf.prototype).open=function(n,e){if(this.readyState!=uy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mg(this)},Jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$n).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pg(this)),this.readyState=uy},Jt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mg(this)),this.g&&(this.readyState=3,mg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $n.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ou(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Jt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pg(this):mg(this),3==this.readyState&&ou(this)}},Jt.Za=function(n){this.g&&(this.response=this.responseText=n,pg(this))},Jt.Ya=function(n){this.g&&(this.response=n,pg(this))},Jt.ka=function(){this.g&&pg(this)},Jt.setRequestHeader=function(n,e){this.v.append(n,e)},Jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yf=$n.JSON.parse;function pr(n){Or.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dy,this.L=this.M=!1}Pr(pr,Or);var dy="",PF=/^https?$/i,NC=["POST","PUT"];function YR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bd(n),hy(n)}function bd(n){n.F||(n.F=!0,$r(n,"complete"),$r(n,"error"))}function LC(n){if(n.h&&typeof mw<"u"&&(!n.C[1]||4!=Lo(n)||2!=n.da()))if(n.v&&4==Lo(n))eg(n.La,0,n);else if($r(n,"readystatechange"),4==Lo(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(EC)[1]||null;!r&&$n.self&&$n.self.location&&(r=$n.self.location.protocol.slice(0,-1)),i=!PF.test(r?r.toLowerCase():"")}t=i}if(t)$r(n,"complete"),$r(n,"success");else{n.m=6;try{var s=2<Lo(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",bd(n)}}finally{hy(n)}}}function hy(n,e){if(n.g){VC(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$r(n,"ready");try{t.onreadystatechange=i}catch{}}}function VC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($n.clearTimeout(n.A),n.A=null)}function Lo(n){return n.g?n.g.readyState:0}function BC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case dy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gg(n){let e="";return Xv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function wo(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=gg(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hi(n,e,t))}function py(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zw(n){this.Ga=0,this.j=[],this.l=new tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=py("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=py("baseRetryDelayMs",5e3,n),this.hb=py("retryDelaySeedMs",1e4,n),this.eb=py("forwardChannelMaxRetries",2,n),this.xa=py("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new AC(n&&n.concurrentRequestLimit),this.Ja=new kC,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function my(n){if(Gw(n),3==n.H){var e=n.W++,t=na(n.I);if(Hi(t,"SID",n.K),Hi(t,"RID",e),Hi(t,"TYPE","terminate"),vg(n,t),(e=new df(n,n.l,e)).L=2,e.A=dg(na(t)),t=!1,$n.navigator&&$n.navigator.sendBeacon)try{t=$n.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&$n.Image&&((new Image).src=e.A,t=!0),t||(e.g=bf(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ag(e)}qw(n)}function gy(n){n.g&&(Ww(n),n.g.cancel(),n.g=null)}function Gw(n){gy(n),n.u&&($n.clearTimeout(n.u),n.u=null),_y(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$n.clearTimeout(n.m),n.m=null)}function _g(n){if(!SC(n.i)&&!n.m){n.m=!0;var e=n.Na;lf||uC(),nu||(lf(),nu=!0),cc.add(e,n),n.C=0}}function $w(n,e){var t;t=e?e.m:n.W++;const i=na(n.I);Hi(i,"SID",n.K),Hi(i,"RID",t),Hi(i,"AID",n.V),vg(n,i),n.o&&n.s&&wo(i,n.o,n.s),t=new df(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=jC(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ly(n.i,t),Fw(t,i,e)}function vg(n,e){n.na&&Xv(n.na,function(t,i){Hi(e,i,t)}),n.h&&Vw({},function(t,i){Hi(e,i,t)})}function jC(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Gr(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let v=r[p].g;const T=r[p].map;if(v-=s,0>v)s=Math.max(0,r[p].g-100),h=!1;else try{PC(T,l,"req"+v+"_")}catch{i&&i(T)}}if(h){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function HC(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;lf||uC(),nu||(lf(),nu=!0),cc.add(e,n),n.A=0}}function wd(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ig(Gr(n.Ma,n),Zw(n,n.A)),n.A++,0))}function Ww(n){null!=n.B&&($n.clearTimeout(n.B),n.B=null)}function zC(n){n.g=new df(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=na(n.wa);Hi(e,"RID","rpc"),Hi(e,"SID",n.K),Hi(e,"AID",n.V),Hi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Hi(e,"TO",n.qa),Hi(e,"TYPE","xmlhttp"),vg(n,e),n.o&&n.s&&wo(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=dg(na(e)),t.u=null,t.S=!0,cy(t,n)}function _y(n){null!=n.v&&($n.clearTimeout(n.v),n.v=null)}function yg(n,e){var t=null;if(n.g==e){_y(n),Ww(n),n.g=null;var i=2}else{if(!Uw(n.i,e))return;t=e.F,jw(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.u?e.u.length:0,e=Date.now()-e.G;var r=n.C;$r(i=ng(),new Pw(i,t)),_g(n)}else HC(n);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function UC(n,e){return!(MC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ig(Gr(n.Na,n,e),Zw(n,n.C)),n.C++,0)))}(n,e)||2==i&&wd(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:su(n,5);break;case 4:su(n,10);break;case 3:su(n,6);break;default:su(n,2)}}function Zw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function su(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Gr(n.pb,n);t||(t=new Xc("//www.google.com/images/cleardot.gif"),$n.location&&"http"==$n.location.protocol||lg(t,"https"),dg(t)),function OC(n,e){const t=new tg;if($n.Image){const i=new Image;i.onload=md(fg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=md(fg,t,i,"TestLoadImage: error",!1,e),i.onabort=md(fg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=md(fg,t,i,"TestLoadImage: timeout",!1,e),$n.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Fo(2);n.H=0,n.h&&n.h.za(e),qw(n),Gw(n)}function qw(n){if(n.H=0,n.ma=[],n.h){const e=Hw(n.i);(0!=e.length||0!=n.j.length)&&(KT(n.ma,e),KT(n.ma,n.j),n.i.i.length=0,gd(n.j),n.j.length=0),n.h.ya()}}function GC(n,e,t){var i=t instanceof Xc?na(t):new Xc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),ug(i,i.m);else{var r=$n.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Xc(null);i&&lg(s,i),e&&(s.g=e),r&&ug(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&Hi(i,t,e),Hi(i,"VER",n.ra),vg(n,i),i}function bf(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(n.Ha&&!n.va?new _f({ob:t}):n.va)).Oa(n.J),e}function wf(){}function vy(){if(sf&&!(10<=Number(JT)))throw Error("Environmental error: no available transport.")}function Cs(n,e){Or.call(this),this.g=new zw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Km(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Km(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ed(this)}function $C(n){ay.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Yw(){ta.call(this),this.status=1}function Ed(n){this.g=n}function Ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yy(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function ki(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(Jt=pr.prototype).Oa=function(n){this.M=n},Jt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ts.g(),this.C=function sy(n){return n.h||(n.h=n.i())}(this.u?this.u:Ts),this.g.onreadystatechange=Gr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void YR(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=$n.FormData&&n instanceof $n.FormData,!(0<=YT(NC,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{VC(this),0<this.B&&((this.L=function FC(n){return sf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gr(this.ua,this)):this.A=eg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){YR(this,s)}},Jt.ua=function(){typeof mw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},Jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$r(this,"complete"),$r(this,"abort"),hy(this))},Jt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hy(this,!0)),pr.$.N.call(this)},Jt.La=function(){this.s||(this.G||this.v||this.l?LC(this):this.kb())},Jt.kb=function(){LC(this)},Jt.isActive=function(){return!!this.g},Jt.da=function(){try{return 2<Lo(this)?this.g.status:-1}catch{return-1}},Jt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Jt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yf(e)}},Jt.Ia=function(){return this.m},Jt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Jt=zw.prototype).ra=8,Jt.H=1,Jt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new df(this,this.l,n);let s=this.s;if(this.U&&(s?(s=eC(s),Xm(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jC(this,r,e),Hi(t=na(this.I),"RID",n),Hi(t,"CVER",22),this.F&&Hi(t,"X-HTTP-Session-Id",this.F),vg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(gg(s)))+"&"+e:this.o&&wo(t,this.o,s)),ly(this.i,r),this.bb&&Hi(t,"TYPE","init"),this.P?(Hi(t,"$req",e),Hi(t,"SID","null"),r.aa=!0,Fw(r,t,null)):Fw(r,t,e),this.H=2}}else 3==this.H&&(n?$w(this,n):0==this.j.length||SC(this.i)||$w(this))},Jt.Ma=function(){if(this.u=null,zC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ig(Gr(this.jb,this),n)}},Jt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fo(10),gy(this),zC(this))},Jt.ib=function(){null!=this.v&&(this.v=null,gy(this),wd(this),Fo(19))},Jt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Fo(2)):(this.l.info("Failed to ping google.com"),Fo(1))},Jt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Jt=wf.prototype).Ba=function(){},Jt.Aa=function(){},Jt.za=function(){},Jt.ya=function(){},Jt.isActive=function(){return!0},Jt.Va=function(){},vy.prototype.g=function(n,e){return new Cs(n,e)},Pr(Cs,Or),Cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Fo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=GC(n,null,n.Y),_g(n)},Cs.prototype.close=function(){my(this.g)},Cs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jm(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&_g(e)},Cs.prototype.N=function(){this.g.h=null,delete this.j,my(this.g),delete this.g,Cs.$.N.call(this)},Pr($C,ay),Pr(Yw,ta),Pr(Ed,wf),Ed.prototype.Ba=function(){$r(this.g,"a")},Ed.prototype.Aa=function(n){$r(this.g,new $C(n))},Ed.prototype.za=function(n){$r(this.g,new Yw)},Ed.prototype.ya=function(){$r(this.g,"b")},Pr(Ca,function WC(){this.blockSize=-1}),Ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ca.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)yy(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){yy(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){yy(this,i),r=0;break}}this.h=r,this.i+=e},Ca.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var KR={};function ZC(n){return-128<=n&&128>n?function kF(n,e){var t=KR;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ki([0|e],0>e?-1:0)}):new ki([0|n],0>n?-1:0)}function Jc(n){if(isNaN(n)||!isFinite(n))return xd;if(0>n)return mr(Jc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=qC;return new ki(e,0)}var qC=4294967296,xd=ZC(0),Ef=ZC(1),YC=ZC(16777216);function el(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ds(n){return-1==n.h}function mr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ki(t,~n.h).add(Ef)}function by(n,e){return n.add(mr(e))}function wy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bg(n,e){this.g=n,this.h=e}function Ey(n,e){if(el(e))throw Error("division by zero");if(el(n))return new bg(xd,xd);if(Ds(n))return e=Ey(mr(n),e),new bg(mr(e.g),mr(e.h));if(Ds(e))return e=Ey(n,mr(e)),new bg(mr(e.g),e.h);if(30<n.g.length){if(Ds(n)||Ds(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ef,i=e;0>=i.X(n);)t=XR(t),i=XR(i);var r=xf(t,1),s=xf(i,1);for(i=xf(i,2),t=xf(t,2);!el(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=xf(i,1),t=xf(t,1)}return e=by(n,r.R(e)),new bg(r,e)}for(r=xd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=Jc(t)).R(e);Ds(l)||0<l.X(n);)l=(s=Jc(t-=i)).R(e);el(s)&&(s=Ef),r=r.add(s),n=by(n,l)}return new bg(r,n)}function XR(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ki(t,n.h)}function xf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ki(r,n.h)}(Jt=ki.prototype).ea=function(){if(Ds(this))return-mr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:qC+i)*e,e*=qC}return n},Jt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(el(this))return"0";if(Ds(this))return"-"+mr(this).toString(n);for(var e=Jc(Math.pow(n,6)),t=this,i="";;){var r=Ey(t,e).g,s=((0<(t=by(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(el(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Jt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Jt.X=function(n){return Ds(n=by(this,n))?-1:el(n)?0:1},Jt.abs=function(){return Ds(this)?mr(this):this},Jt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new ki(t,-2147483648&t[t.length-1]?-1:0)},Jt.R=function(n){if(el(this)||el(n))return xd;if(Ds(this))return Ds(n)?mr(this).R(mr(n)):mr(mr(this).R(n));if(Ds(n))return mr(this.R(mr(n)));if(0>this.X(YC)&&0>n.X(YC))return Jc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),h=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=l*p,wy(t,2*i+2*r),t[2*i+2*r+1]+=s*p,wy(t,2*i+2*r+1),t[2*i+2*r+1]+=l*h,wy(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,wy(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ki(t,0)},Jt.gb=function(n){return Ey(this,n).h},Jt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ki(t,this.h&n.h)},Jt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ki(t,this.h|n.h)},Jt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ki(t,this.h^n.h)},vy.prototype.createWebChannel=vy.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,rg.NO_ERROR=0,rg.TIMEOUT=8,rg.HTTP_ERROR=6,BR.COMPLETE="complete",Ta.EventType=sg,sg.OPEN="a",sg.CLOSE="b",sg.ERROR="c",sg.MESSAGE="d",Or.prototype.listen=Or.prototype.O,pr.prototype.listenOnce=pr.prototype.P,pr.prototype.getLastError=pr.prototype.Sa,pr.prototype.getLastErrorCode=pr.prototype.Ia,pr.prototype.getStatus=pr.prototype.da,pr.prototype.getResponseJson=pr.prototype.Wa,pr.prototype.getResponseText=pr.prototype.ja,pr.prototype.send=pr.prototype.ha,pr.prototype.setWithCredentials=pr.prototype.Oa,Ca.prototype.digest=Ca.prototype.l,Ca.prototype.reset=Ca.prototype.reset,Ca.prototype.update=Ca.prototype.j,ki.prototype.add=ki.prototype.add,ki.prototype.multiply=ki.prototype.R,ki.prototype.modulo=ki.prototype.gb,ki.prototype.compare=ki.prototype.X,ki.prototype.toNumber=ki.prototype.ea,ki.prototype.toString=ki.prototype.toString,ki.prototype.getBits=ki.prototype.D,ki.fromNumber=Jc,ki.fromString=function QR(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return mr(QR(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Jc(Math.pow(e,8)),i=xd,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=Jc(Math.pow(e,s)),i=i.R(s).add(Jc(l))):i=(i=i.R(t)).add(Jc(l))}return i};var KC=ac.createWebChannelTransport=function(){return new vy},JR=ac.getStatEventTarget=function(){return ng()},Kw=ac.ErrorCode=rg,wg=ac.EventType=BR,ek=ac.Event=iu,Qw=ac.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eg=(ac.FetchXmlHttpFactory=_f,ac.WebChannel=Ta),tk=ac.XhrIo=pr,QC=ac.Md5=Ca,If=ac.Integer=ki;const xy="@firebase/firestore";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Id="10.7.0";const tl=new xs.Yd("@firebase/firestore");function Tf(){return tl.logLevel}function Pt(n,...e){if(tl.logLevel<=xs.in.DEBUG){const t=e.map(Iy);tl.debug(`Firestore (${Id}): ${n}`,...t)}}function rr(n,...e){if(tl.logLevel<=xs.in.ERROR){const t=e.map(Iy);tl.error(`Firestore (${Id}): ${n}`,...t)}}function ts(n,...e){if(tl.logLevel<=xs.in.WARN){const t=e.map(Iy);tl.warn(`Firestore (${Id}): ${n}`,...t)}}function Iy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function sn(n="Unexpected state"){const e=`FIRESTORE (${Id}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function gn(n,e){n||sn()}function Wt(n,e){return n}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rk{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=l;e.enqueueRetryable((0,dt.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},p=v=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gn("string"==typeof i.accessToken),new XC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gn(null===e||"string"==typeof e),new Wr(e)}}class ok{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tD{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ok(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=s=>{null!=s.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gn("string"==typeof t.token),this.R=t.token,new nD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ak(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Ty{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=ak(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Un(n,e){return n<e?-1:n>e?1:0}function Td(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Cy(n){return n+"\0"}class Ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ki(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class En{constructor(e){this.timestamp=e}static fromTimestamp(e){return new En(e)}static min(){return new En(new Ki(0,0))}static max(){return new En(new Ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cd{constructor(e,t,i){void 0===t?t=0:t>e.length&&sn(),void 0===i?i=e.length-t:i>e.length-t&&sn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Cd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cd?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mi extends Cd{construct(e,t,i){return new mi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Rt(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new mi(t)}static emptyPath(){return new mi([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Cd{construct(e,t,i){return new xi(e,t,i)}static isValidIdentifier(e){return iD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Rt(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Rt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Rt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(s(),r++)}if(s(),l)throw new Rt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(mi.fromString(e))}static fromName(e){return new Zt(mi.fromString(e).popFirst(5))}static empty(){return new Zt(mi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new mi(e.slice()))}}class Cf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function rD(n){return n.fields.find(e=>2===e.kind)}function nl(n){return n.fields.filter(e=>2!==e.kind)}Cf.UNKNOWN_ID=-1;class Dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ad{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ad(0,Vo.min())}}function sD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=En.fromTimestamp(1e9===i?new Ki(t+1,0):new Ki(t,i));return new Vo(r,Zt.empty(),e)}function Jw(n){return new Vo(n.readTime,n.key,-1)}class Vo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Vo(En.min(),Zt.empty(),-1)}static max(){return new Vo(En.max(),Zt.empty(),-1)}}function Dy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Zt.comparator(n.documentKey,e.documentKey),0!==t?t:Un(n.largestBatchId,e.largestBatchId))}const eE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function il(n){return nE.apply(this,arguments)}function nE(){return nE=(0,dt.Z)(function*(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==eE)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}),nE.apply(this,arguments)}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):it.reject(t)}static resolve(e){return new it((t,i)=>{t(e)})}static reject(e){return new it((t,i)=>{i(e)})}static waitFor(e){return new it((t,i)=>{let r=0,s=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++s,l&&s===r&&t()},p=>i(p))}),l=!0,s===r&&t()})}static or(e){let t=it.resolve(!1);for(const i of e)t=t.next(r=>r?it.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new it((i,r)=>{const s=e.length,l=new Array(s);let h=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(T=>{l[v]=T,++h,h===s&&i(l)},T=>r(T))}})}static doWhile(e,t){return new it((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Ay{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Fr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Sy(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=iE(i.target.error);this.V.reject(new Sy(e,r))}}static open(e,t,i,r){try{return new Ay(t,e.transaction(r,i))}catch(s){throw new Sy(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ck(t)}}class Da{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Da.S((0,_e.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pt("SimpleDb","Removing database:",e),Sd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(Da.C())return!0;const e=(0,_e.z$)(),t=Da.S(e),i=0<t&&t<10,r=Da.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,dt.Z)(function*(){return t.db||(Pt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new Sy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new Rt(ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Rt(ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Sy(e,h))},s.onupgradeneeded=l=>{Pt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.p.N(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Pt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,dt.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.O(e);const p=Ay.open(s.db,e,l?"readonly":"readwrite",i),v=r(p).next(T=>(p.g(),T)).catch(T=>(p.abort(T),it.reject(T))).toPromise();return v.catch(()=>{}),yield p.m,v}catch(p){const v=p,T="FirebaseError"!==v.name&&h<3;if(Pt("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),s.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aD{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Sd(this.k.delete())}}class Sy extends Rt{constructor(e,t){super(ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rl(n){return"IndexedDbTransactionError"===n.name}class ck{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Pt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Sd(i)}add(e){return Pt("SimpleDb","ADD",this.store.name,e,e),Sd(this.store.add(e))}get(e){return Sd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pt("SimpleDb","DELETE",this.store.name,e),Sd(this.store.delete(e))}count(){return Pt("SimpleDb","COUNT",this.store.name),Sd(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(l,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new it((s,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new it((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}H(e,t){Pt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(s,l,h)=>h.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new it((i,r)=>{t.onerror=s=>{const l=iE(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}G(e,t){const i=[];return new it((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const p=new aD(h),v=t(h.primaryKey,h.value,p);if(v instanceof it){const T=v.catch(R=>(p.done(),it.reject(R)));i.push(T)}p.isDone?r():null===p.$?h.continue():h.continue(p.$)}}).next(()=>it.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sd(n){return new it((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=iE(i.target.error);t(r)}})}let lk=!1;function iE(n){const e=Da.S((0,_e.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lk||(lk=!0,setTimeout(()=>{throw i},0)),i}}return n}class uk{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;Pt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,dt.Z)(function*(){t.task=null;try{Pt("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){rl(i)?Pt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield il(i)}yield t.ee(6e4)}))}}class dk{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,dt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,s=!0;return it.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Pt("IndexBackiller",`Processing collection: ${l}`),this.re(e,l,r).next(h=>{r-=h,i.add(l)});s=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ie(r,s)).next(h=>(Pt("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=Jw(s);Dy(l,i)>0&&(i=l)}),new Vo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let As=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function xg(n){return null==n}function Ig(n){return 0===n&&1/n==-1/0}function cD(n){return"number"==typeof n&&Number.isInteger(n)&&!Ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Eo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lD(e)),e=hk(n.get(t),e);return lD(e)}function hk(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function lD(n){return n+"\x01\x01"}function dc(n){const e=n.length;if(gn(e>=2),2===e)return gn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mi.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&sn(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:sn()}s=l+2}return new mi(i)}const uD=["userId","batchId"];function au(n,e){return[n,Eo(e)]}function rE(n,e,t){return[n,Eo(e),t]}const dD={},hD=["prefixPath","collectionGroup","readTime","documentId"],fD=["prefixPath","collectionGroup","documentId"],pD=["collectionGroup","readTime","prefixPath","documentId"],mD=["canonicalId","targetId"],fk=["targetId","path"],FF=["path","targetId"],LF=["collectionId","parent"],gD=["indexId","uid"],_D=["uid","sequenceNumber"],pk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mk=["indexId","uid","orderedDocumentKey"],gk=["userId","collectionPath","documentId"],Tg=["userId","collectionPath","largestBatchId"],_k=["userId","collectionGroup","largestBatchId"],Cg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vk=[...Cg,"documentOverlays"],yk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vD=yk,VF=[...vD,"indexConfiguration","indexState","indexEntries"];class Md extends tE{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Zr(n,e){const t=Wt(n);return Da.M(t.ae,e)}function yD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Dg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Bi{constructor(e,t){this.comparator=e,this.root=t||qr.EMPTY}insert(e,t){return new Bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new Bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new My(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new My(this.root,e,this.comparator,!1)}getReverseIterator(){return new My(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new My(this.root,e,this.comparator,!0)}}class My{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??qr.RED,this.left=r??qr.EMPTY,this.right=s??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new qr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const e=this.left.check();if(e!==this.right.check())throw sn();return e+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(e,t,i,r,s){return this}insert(e,t,i){return new qr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(e){this.comparator=e,this.data=new Bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bD(this.data.getIterator())}getIteratorFrom(e){return new bD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ii(this.comparator);return t.data=e,t}}class bD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Df(n){return n.hasNext()?n.getNext():void 0}class Bo{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Bo([])}unionWith(e){let t=new Ii(xi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Bo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Td(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wD("Invalid base64 string: "+s):s}}(e);return new Tr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const Ry=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(gn(!!n),"string"==typeof n){let e=0;const t=Ry.exec(n);if(gn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hc(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function Ag(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Af(n){const e=n.mapValue.fields.__previous_value__;return Ag(e)?Af(e):e}function Sf(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}class wk{constructor(e,t,i,r,s,l,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}class ol{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}const sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ky={nullValue:"NULL_VALUE"};function uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ag(n)?4:cE(n)?9007199254740991:10:sn()}function ia(n,e){if(n===e)return!0;const t=uu(n);if(t!==uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sf(n).isEqual(Sf(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=lu(r.timestampValue),h=lu(s.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,hc(n.bytesValue).isEqual(hc(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return cr(r.geoPointValue.latitude)===cr(s.geoPointValue.latitude)&&cr(r.geoPointValue.longitude)===cr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return cr(r.integerValue)===cr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=cr(r.doubleValue),h=cr(s.doubleValue);return l===h?Ig(l)===Ig(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Td(n.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:return function(r,s){const l=r.mapValue.fields||{},h=s.mapValue.fields||{};if(yD(l)!==yD(h))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===h[p]||!ia(l[p],h[p])))return!1;return!0}(n,e);default:return sn()}var s}function Rd(n,e){return void 0!==(n.values||[]).find(t=>ia(t,e))}function al(n,e){if(n===e)return 0;const t=uu(n),i=uu(e);if(t!==i)return Un(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Un(n.booleanValue,e.booleanValue);case 2:return function(s,l){const h=cr(s.integerValue||s.doubleValue),p=cr(l.integerValue||l.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Py(n.timestampValue,e.timestampValue);case 4:return Py(Sf(n),Sf(e));case 5:return Un(n.stringValue,e.stringValue);case 6:return function(s,l){const h=hc(s),p=hc(l);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const h=s.split("/"),p=l.split("/");for(let v=0;v<h.length&&v<p.length;v++){const T=Un(h[v],p[v]);if(0!==T)return T}return Un(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const h=Un(cr(s.latitude),cr(l.latitude));return 0!==h?h:Un(cr(s.longitude),cr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,l){const h=s.values||[],p=l.values||[];for(let v=0;v<h.length&&v<p.length;++v){const T=al(h[v],p[v]);if(T)return T}return Un(h.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===sl.mapValue&&l===sl.mapValue)return 0;if(s===sl.mapValue)return 1;if(l===sl.mapValue)return-1;const h=s.fields||{},p=Object.keys(h),v=l.fields||{},T=Object.keys(v);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const q=Un(p[R],T[R]);if(0!==q)return q;const me=al(h[p[R]],v[T[R]]);if(0!==me)return me}return Un(p.length,T.length)}(n.mapValue,e.mapValue);default:throw sn()}}function Py(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Un(n,e);const t=lu(n),i=lu(e),r=Un(t.seconds,i.seconds);return 0!==r?r:Un(t.nanos,i.nanos)}function du(n){return oE(n)}function oE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=lu(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hc(n.bytesValue).toBase64():"referenceValue"in n?Zt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=oE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const l of i)s?s=!1:r+=",",r+=`${l}:${oE(t.fields[l])}`;return r+"}"}(n.mapValue):sn()}function kd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sE(n){return!!n&&"integerValue"in n}function Mf(n){return!!n&&"arrayValue"in n}function Ny(n){return!!n&&"nullValue"in n}function aE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sg(n){return!!n&&"mapValue"in n}function Rf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ek(n){return"nullValue"in n?ky:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kd(ol.empty(),Zt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:sn()}function ED(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kd(ol.empty(),Zt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?sl:sn()}function lE(n,e){const t=al(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xD(n,e){const t=al(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Sg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(t)}setAll(e){let t=xi.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}l?i[h.lastSegment()]=Rf(l):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Sg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Sg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){cu(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Yr(Rf(this.value))}}function uE(n){const e=[];return cu(n.fields,(t,i)=>{const r=new xi([t]);if(Sg(i)){const s=uE(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new Bo(e)}class ii{constructor(e,t,i,r,s,l,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new ii(e,0,En.min(),En.min(),En.min(),Yr.empty(),0)}static newFoundDocument(e,t,i,r){return new ii(e,1,t,En.min(),i,r,0)}static newNoDocument(e,t){return new ii(e,2,t,En.min(),En.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new ii(e,3,t,En.min(),En.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(En.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=En.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ss{constructor(e,t){this.position=e,this.inclusive=t}}function ID(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?Zt.comparator(Zt.fromName(l.referenceValue),t.key):al(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function TD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ia(n.position[t],e.position[t]))return!1;return!0}class Fy{constructor(e,t="asc"){this.field=e,this.dir=t}}function BF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class dE{}class si extends dE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new xk(e,t,i):"array-contains"===t?new Tk(e,i):"in"===t?new kg(e,i):"not-in"===t?new mE(e,i):"array-contains-any"===t?new UF(e,i):new si(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Ik(e,i):new fE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(al(t,this.value)):null!==t&&uu(this.value)===uu(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Fi(e,t)}matches(e){return Mg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Mg(n){return"and"===n.op}function CD(n){return"or"===n.op}function Pd(n){return DD(n)&&Mg(n)}function DD(n){for(const e of n.filters)if(e instanceof Fi)return!1;return!0}function Rg(n){if(n instanceof si)return n.field.canonicalString()+n.op.toString()+du(n.value);if(Pd(n))return n.filters.map(e=>Rg(e)).join(",");{const e=n.filters.map(t=>Rg(t)).join(",");return`${n.op}(${e})`}}function AD(n,e){return n instanceof si?(i=n,(r=e)instanceof si&&i.op===r.op&&i.field.isEqual(r.field)&&ia(i.value,r.value)):n instanceof Fi?function(i,r){return r instanceof Fi&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,l,h)=>s&&AD(l,r.filters[h]),!0)}(n,e):void sn();var i,r}function hE(n,e){const t=n.filters.concat(e);return Fi.create(t,n.op)}function SD(n){return n instanceof si?`${(t=n).field.canonicalString()} ${t.op} ${du(t.value)}`:n instanceof Fi?function(t){return t.op.toString()+" {"+t.getFilters().map(SD).join(" ,")+"}"}(n):"Filter";var t}class xk extends si{constructor(e,t,i){super(e,t,i),this.key=Zt.fromName(i.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ik extends si{constructor(e,t){super(e,"in",t),this.keys=pE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fE extends si{constructor(e,t){super(e,"not-in",t),this.keys=pE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Zt.fromName(i.referenceValue))}class Tk extends si{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mf(t)&&Rd(t.arrayValue,this.value)}}class kg extends si{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rd(this.value.arrayValue,t)}}class mE extends si{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rd(this.value.arrayValue,t)}}class UF extends si{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Rd(this.value.arrayValue,i))}}class MD{constructor(e,t=null,i=[],r=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=h,this.ce=null}}function gE(n,e=null,t=[],i=[],r=null,s=null,l=null){return new MD(n,e,t,i,r,s,l)}function hu(n){const e=Wt(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),xg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>du(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>du(i)).join(",")),e.ce=t}return e.ce}function fc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TD(n.startAt,e.startAt)&&TD(n.endAt,e.endAt)}function Ly(n){return Zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Pg(n,e){return n.filters.filter(t=>t instanceof si&&t.field.isEqual(e))}function Vy(n,e,t){let i=ky,r=!0;for(const s of Pg(n,e)){let l=ky,h=!0;switch(s.op){case"<":case"<=":l=Ek(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=ky}lE({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];lE({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function Ck(n,e,t){let i=sl,r=!0;for(const s of Pg(n,e)){let l=sl,h=!0;switch(s.op){case">=":case">":l=ED(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=sl}xD({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];xD({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class cl{constructor(e,t=null,i=[],r=[],s=null,l="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=p,this.le=null,this.he=null,this.Pe=null}}function Dk(n,e,t,i,r,s,l,h){return new cl(n,e,t,i,r,s,l,h)}function kf(n){return new cl(n)}function RD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _E(n){return null!==n.collectionGroup}function Od(n){const e=Wt(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Ii(xi.comparator);return l.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(h=h.add(v.field))})}),h})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Fy(s,i))}),t.has(xi.keyField().canonicalString())||e.le.push(new Fy(xi.keyField(),i))}return e.le}function xo(n){const e=Wt(n);return e.he||(e.he=function kD(n,e){if("F"===n.limitType)return gE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new Fy(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Ss(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ss(n.startAt.position,n.startAt.inclusive):null;return gE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Od(n))),e.he}function By(n,e){const t=n.filters.concat([e]);return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Og(n,e,t){return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ng(n,e){return fc(xo(n),xo(e))&&n.limitType===e.limitType}function PD(n){return`${hu(xo(n))}|lt:${n.limitType}`}function Nd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>SD(r)).join(", ")}]`),xg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(l=r).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>du(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>du(r)).join(",")),`Target(${i})`}(xo(n))}; limitType=${n.limitType})`}function Fg(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Zt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of Od(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(l,h,p){const v=ID(l,h,p);return l.inclusive?v<=0:v<0}(i.startAt,Od(i),r)||i.endAt&&!function(l,h,p){const v=ID(l,h,p);return l.inclusive?v>=0:v>0}(i.endAt,Od(i),r)));var i,r}function vE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yE(n){return(e,t)=>{let i=!1;for(const r of Od(n)){const s=OD(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function OD(n,e,t){const i=n.field.isKeyField()?Zt.comparator(e.key,t.key):function(s,l,h){const p=l.data.field(s),v=h.data.field(s);return null!==p&&null!==v?al(p,v):sn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return sn()}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cu(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Dg(this.inner)}size(){return this.innerSize}}const Ak=new Bi(Zt.comparator);function ns(){return Ak}const Sk=new Bi(Zt.comparator);function Pf(...n){let e=Sk;for(const t of n)e=e.insert(t.key,t);return e}function Mk(n){let e=Sk;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ll(){return Uy()}function Rk(){return Uy()}function Uy(){return new pc(n=>n.toString(),(n,e)=>n.isEqual(e))}const jF=new Bi(Zt.comparator),HF=new Ii(Zt.comparator);function ei(...n){let e=HF;for(const t of n)e=e.add(t);return e}const zF=new Ii(Un);function ND(){return zF}function bE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ig(e)?"-0":e}}function jy(n){return{integerValue:""+n}}function wE(n,e){return cD(e)?jy(e):bE(n,e)}class Hy{constructor(){this._=void 0}}function zy(n,e,t){return n instanceof Lg?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ag(s)&&(s=Af(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof Fd?EE(n,e):n instanceof Ld?FD(n,e):function(r,s){const l=Pk(r,s),h=Ok(l)+Ok(r.Ie);return sE(l)&&sE(r.Ie)?jy(h):bE(r.serializer,h)}(n,e)}function kk(n,e,t){return n instanceof Fd?EE(n,e):n instanceof Ld?FD(n,e):t}function Pk(n,e){return n instanceof Of?sE(i=e)||(s=i)&&"doubleValue"in s?e:{integerValue:0}:null;var i,s}class Lg extends Hy{}class Fd extends Hy{constructor(e){super(),this.elements=e}}function EE(n,e){const t=LD(e);for(const i of n.elements)t.some(r=>ia(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ld extends Hy{constructor(e){super(),this.elements=e}}function FD(n,e){let t=LD(e);for(const i of n.elements)t=t.filter(r=>!ia(r,i));return{arrayValue:{values:t}}}class Of extends Hy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ok(n){return cr(n.integerValue||n.doubleValue)}function LD(n){return Mf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ul{constructor(e,t){this.field=e,this.transform=t}}class Nk{constructor(e,t){this.version=e,this.transformResults=t}}class Qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $y(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Wy{}function VD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ff(n.key,Qi.none()):new Nf(n.key,n.data,Qi.none());{const t=n.data,i=Yr.empty();let r=new Ii(xi.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new dl(n.key,i,new Bo(r.toArray()),Qi.none())}}function Fk(n,e,t){n instanceof Nf?function(r,s,l){const h=r.value.clone(),p=jD(r.fieldTransforms,s,l.transformResults);h.setAll(p),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof dl?function(r,s,l){if(!$y(r.precondition,s))return void s.convertToUnknownDocument(l.version);const h=jD(r.fieldTransforms,s,l.transformResults),p=s.data;p.setAll(UD(r)),p.setAll(h),s.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vd(n,e,t,i){return n instanceof Nf?function(s,l,h,p){if(!$y(s.precondition,l))return h;const v=s.value.clone(),T=HD(s.fieldTransforms,p,l);return v.setAll(T),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof dl?function(s,l,h,p){if(!$y(s.precondition,l))return h;const v=HD(s.fieldTransforms,p,l),T=l.data;return T.setAll(UD(s)),T.setAll(v),l.convertToFoundDocument(l.version,T).setHasLocalMutations(),null===h?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(R=>R.field))}(n,e,t,i):(h=t,$y(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function Lk(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Pk(i.transform,r||null);null!=s&&(null===t&&(t=Yr.empty()),t.set(i.field,s))}return t||null}function BD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Td(i,r,(s,l)=>function Gy(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Fd&&r instanceof Fd||i instanceof Ld&&r instanceof Ld?Td(i.elements,r.elements,ia):i instanceof Of&&r instanceof Of?ia(i.Ie,r.Ie):i instanceof Lg&&r instanceof Lg);var i,r}(s,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Nf extends Wy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dl extends Wy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function UD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jD(n,e,t){const i=new Map;gn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,h=e.data.field(s.field);i.set(s.field,kk(l,h,t[r]))}return i}function HD(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,zy(s,l,e))}return i}class Ff extends Wy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xE extends Wy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IE{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Fk(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Vd(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Vd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Rk();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=t.has(r.key)?null:h;const p=VD(l,h);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(En.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ei())}isEqual(e){return this.batchId===e.batchId&&Td(this.mutations,e.mutations,(t,i)=>BD(t,i))&&Td(this.baseMutations,e.baseMutations,(t,i)=>BD(t,i))}}class TE{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){gn(e.mutations.length===i.length);let r=jF;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new TE(e,t,i,r)}}class Zy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cr,di;function DE(n){switch(n){default:return sn();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function Bk(n){if(void 0===n)return rr("GRPC error has no .code"),ct.UNKNOWN;switch(n){case Cr.OK:return ct.OK;case Cr.CANCELLED:return ct.CANCELLED;case Cr.UNKNOWN:return ct.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return ct.INTERNAL;case Cr.UNAVAILABLE:return ct.UNAVAILABLE;case Cr.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Cr.NOT_FOUND:return ct.NOT_FOUND;case Cr.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Cr.ABORTED:return ct.ABORTED;case Cr.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Cr.DATA_LOSS:return ct.DATA_LOSS;default:return sn()}}(di=Cr||(Cr={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";function AE(){return new TextEncoder}const zD=new If([4294967295,4294967295],0);function GD(n){const e=AE().encode(n),t=new QC;return t.update(e),new Uint8Array(t.digest())}function SE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new If([t,i],0),new If([r,s],0)]}class ME{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bd(`Invalid padding: ${t}`);if(i<0)throw new Bd(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Bd(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Bd(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=If.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(If.fromNumber(i)));return 1===r.compare(zD)&&(r=new If([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=GD(e),[i,r]=SE(t);for(let s=0;s<this.hashCount;s++){const l=this.de(i,r,s);if(!this.Ae(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new ME(s,r,t);return i.forEach(h=>l.insert(h)),l}insert(e){if(0===this.Te)return;const t=GD(e),[i,r]=SE(t);for(let s=0;s<this.hashCount;s++){const l=this.de(i,r,s);this.Re(l)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ra{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ra(En.min(),r,new Bi(Un),ns(),ei())}}class Lf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lf(i,t,ei(),ei(),ei())}}class Vf{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class qy{constructor(e,t){this.targetId=e,this.fe=t}}class $D{constructor(e,t,i=Tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Uk{constructor(){this.ge=0,this.pe=qD(),this.ye=Tr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ei(),t=ei(),i=ei();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:sn()}}),new Lf(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=qD()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,gn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class WD{constructor(e){this.Le=e,this.ke=new Map,this.qe=ns(),this.Qe=ZD(),this.Ke=new Bi(Un)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:sn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const s=r.target;if(Ly(s))if(0===i){const l=new Zt(s.path);this.We(t,l,ii.newNoDocument(l,En.min()))}else gn(1===i);else{const l=this.Ze(t);if(l!==i){const h=this.Xe(e),p=h?this.et(h,e,l):1;0!==p&&(this.He(t),this.Ke=this.Ke.insert(t,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let l,h;try{l=hc(i).toUint8Array()}catch(p){if(p instanceof wD)return ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new ME(l,r,s)}catch(p){return ts(p instanceof Bd?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return 0===h.Te?null:h}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const l=this.Le.nt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(h)||(this.We(t,s,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((s,l)=>{const h=this.Ye(l);if(h){if(s.current&&Ly(h.target)){const p=new Zt(h.target.path);null!==this.qe.get(p)||this.st(l,p)||this.We(l,p,ii.newNoDocument(p,e))}s.De&&(t.set(l,s.ve()),s.Fe())}});let i=ei();this.Qe.forEach((s,l)=>{let h=!0;l.forEachWhile(p=>{const v=this.Ye(p);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.qe.forEach((s,l)=>l.setReadTime(e));const r=new ra(e,t,this.Ke,this.qe,i);return this.qe=ns(),this.Qe=ZD(),this.Ke=new Bi(Un),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Uk,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ii(Un),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Pt("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Uk),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ZD(){return new Bi(Zt.comparator)}function qD(){return new Bi(Zt.comparator)}const jk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YD={and:"AND",or:"OR"};class GF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yy(n,e){return n.useProto3Json||xg(e)?e:{value:e}}function Bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $F(n,e){return Bf(n,e.toTimestamp())}function or(n){return gn(!!n),En.fromTimestamp(function(t){const i=lu(t);return new Ki(i.seconds,i.nanos)}(n))}function Ky(n,e){return(i=n,new mi(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function kE(n){const e=mi.fromString(n);return gn(eA(e)),e}function Vg(n,e){return Ky(n.databaseId,e.path)}function Aa(n,e){const t=kE(e);if(t.get(1)!==n.databaseId.projectId)throw new Rt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Rt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Zt(PE(t))}function Qy(n,e){return Ky(n.databaseId,e)}function Ud(n){const e=kE(n);return 4===e.length?mi.emptyPath():PE(e)}function fu(n){return new mi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PE(n){return gn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OE(n,e,t){return{name:Vg(n,e),fields:t.value.mapValue.fields}}function KD(n,e,t){const i=Aa(n,e.name),r=or(e.updateTime),s=e.createTime?or(e.createTime):En.min(),l=new Yr({mapValue:{fields:e.fields}}),h=ii.newFoundDocument(i,r,s,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Uf(n,e){let t;if(e instanceof Nf)t={update:OE(n,e.key,e.value)};else if(e instanceof Ff)t={delete:Vg(n,e.key)};else if(e instanceof dl)t={update:OE(n,e.key,e.data),updateMask:qF(e.fieldMask)};else{if(!(e instanceof xE))return sn();t={verify:Vg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,l){const h=l.transform;if(h instanceof Lg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ld)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Of)return{fieldPath:l.field.canonicalString(),increment:h.Ie};throw sn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:$F(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:sn()),t;var s}function NE(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Qi.updateTime(or(s.updateTime)):void 0!==s.exists?Qi.exists(s.exists):Qi.none():Qi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(l,h){let p=null;"setToServerValue"in h?(gn("REQUEST_TIME"===h.setToServerValue),p=new Lg):"appendMissingElements"in h?p=new Fd(h.appendMissingElements.values||[]):"removeAllFromArray"in h?p=new Ld(h.removeAllFromArray.values||[]):"increment"in h?p=new Of(l,h.increment):sn();const v=xi.fromServerFormat(h.fieldPath);return new ul(v,p)}(n,r)):[];var s;if(e.update){const r=Aa(n,e.update.name),s=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Bo((e.updateMask.fieldPaths||[]).map(T=>xi.fromServerFormat(T)));return new dl(r,s,l,t,i)}return new Nf(r,s,t,i)}if(e.delete){const r=Aa(n,e.delete);return new Ff(r,t)}if(e.verify){const r=Aa(n,e.verify);return new xE(r,t)}return sn()}function $k(n,e){return{documents:[Qy(n,e.path)]}}function QD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Qy(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Qy(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return Yk(Fi.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:jd((R=v).field),direction:Zk(R.dir)};var R})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=Yy(n,e.limit);return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),t;var p}function Wk(n){let e=Ud(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){gn(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let s=[];t.where&&(s=function(R){const q=JD(R);return q instanceof Fi&&Pd(q)?q.getFilters():[q]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(q=>{return new Fy(Bg((Te=q).field),function(Ge){switch(Ge){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Te.direction));var Te}));let h=null;t.limit&&(h=function(R){let q;return q="object"==typeof R?R.value:R,xg(q)?null:q}(t.limit));let p=null;var R;t.startAt&&(p=new Ss((R=t.startAt).values||[],!!R.before));let v=null;return t.endAt&&(v=function(R){return new Ss(R.values||[],!R.before)}(t.endAt)),Dk(e,r,l,s,h,"F",p,v)}function JD(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Bg(t.unaryFilter.field);return si.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bg(t.unaryFilter.field);return si.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bg(t.unaryFilter.field);return si.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bg(t.unaryFilter.field);return si.create(l,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}(n):void 0!==n.fieldFilter?si.create(Bg((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Fi.create(t.compositeFilter.filters.map(i=>JD(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return sn()}}(t.compositeFilter.op))}(n):sn();var t}function Zk(n){return jk[n]}function qk(n){return Hk[n]}function ZF(n){return YD[n]}function jd(n){return{fieldPath:n.canonicalString()}}function Bg(n){return xi.fromServerFormat(n.fieldPath)}function Yk(n){return n instanceof si?function(t){if("=="===t.op){if(aE(t.value))return{unaryFilter:{field:jd(t.field),op:"IS_NAN"}};if(Ny(t.value))return{unaryFilter:{field:jd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(aE(t.value))return{unaryFilter:{field:jd(t.field),op:"IS_NOT_NAN"}};if(Ny(t.value))return{unaryFilter:{field:jd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(t.field),op:qk(t.op),value:t.value}}}(n):n instanceof Fi?function(t){const i=t.getFilters().map(r=>Yk(r));return 1===i.length?i[0]:{compositeFilter:{op:ZF(t.op),filters:i}}}(n):sn()}function qF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class oa{constructor(e,t,i,r,s=En.min(),l=En.min(),h=Tr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tA{constructor(e){this.ut=e}}function FE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Vg(s=n.ut,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Bf(s,l.version.toTimestamp()),createTime:Bf(s,l.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:pu(e.version)};else{if(!e.isUnknownDocument())return sn();i.unknownDocument={path:t.path.toArray(),version:pu(e.version)}}var s,l;return i}function mc(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hl(n){const e=new Ki(n.seconds,n.nanoseconds);return En.fromTimestamp(e)}function fl(n,e){const t=(e.baseMutations||[]).map(s=>NE(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>NE(n.ut,s)),r=Ki.fromMillis(e.localWriteTimeMs);return new IE(e.batchId,r,t,i)}function Ug(n){const e=hl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?hl(n.lastLimboFreeSnapshotVersion):En.min();let i;return i=void 0!==n.query.documents?(gn(1===(s=n.query).documents.length),xo(kf(Ud(s.documents[0])))):function(s){return xo(Wk(s))}(n.query),new oa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Tr.fromBase64String(n.resumeToken));var s}function Xy(n,e){const t=pu(e.snapshotVersion),i=pu(e.lastLimboFreeSnapshotVersion);let r;r=Ly(e.target)?$k(n.ut,e.target):QD(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function jg(n){const e=Wk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Og(e,e.limit,"L"):e}function jf(n,e){return new Zy(e.largestBatchId,NE(n.ut,e.overlayMutation))}function Qk(n,e){const t=e.path.lastSegment();return[n,Eo(e.path.popLast()),t]}function Xk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:pu(i.readTime),documentKey:Eo(i.documentKey.path),largestBatchId:i.largestBatchId}}class YF{getBundleMetadata(e,t){return LE(e).get(t).next(i=>{if(i)return{id:(s=i).bundleId,createTime:hl(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return LE(e).put({bundleId:(r=t).id,createTime:pu(or(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nA(e).get(t).next(i=>{if(i)return{name:(s=i).name,query:jg(s.bundledQuery),readTime:hl(s.readTime)};var s})}saveNamedQuery(e,t){return nA(e).put({name:(r=t).name,readTime:pu(or(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LE(n){return Zr(n,"bundles")}function nA(n){return Zr(n,"namedQueries")}class Jy{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Jy(e,t.uid||"")}getOverlay(e,t){return Hg(e).get(Qk(this.userId,t)).next(i=>i?jf(this.serializer,i):null)}getOverlays(e,t){const i=ll();return it.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const h=new Zy(t,l);r.push(this.lt(e,h))}),it.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Eo(l.getCollectionPath())));const s=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(Hg(e).H("collectionPathOverlayIndex",h))}),it.waitFor(s)}getOverlaysForCollection(e,t,i){const r=ll(),s=Eo(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hg(e).W("collectionPathOverlayIndex",l).next(h=>{for(const p of h){const v=jf(this.serializer,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=ll();let l;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hg(e).Y({index:"collectionGroupOverlayIndex",range:h},(p,v,T)=>{const R=jf(this.serializer,v);s.size()<r||R.largestBatchId===l?(s.set(R.getKey(),R),l=R.largestBatchId):T.done()}).next(()=>s)}lt(e,t){return Hg(e).put(function(r,s,l){const[h,p,v]=Qk(s,l.mutation.key);return{userId:s,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Uf(r.ut,l.mutation)}}(this.serializer,this.userId,t))}}function Hg(n){return Zr(n,"documentOverlays")}class Hd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(cr(e.integerValue));else if("doubleValue"in e){const i=cr(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Ig(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(hc(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?cE(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):sn()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Zt.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function iA(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function VE(n){const e=64-function(i){let r=0;for(let s=0;s<8;++s){const l=iA(255&i[s]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Hd.St=new Hd;class rA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=VE(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=VE(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Jk{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class eP{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Hf{constructor(){this.Wt=new rA,this.Gt=new Jk(this.Wt),this.zt=new eP(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class pl{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new pl(this.indexId,this.documentKey,this.arrayValue,i)}}function zd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=BE(n.arrayValue,e.arrayValue),0!==t?t:(t=BE(n.directionalValue,e.directionalValue),0!==t?t:Zt.comparator(n.documentKey,e.documentKey)))}function BE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class eb{constructor(e){this.Jt=new Ii((t,i)=>xi.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(gn(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=rD(e);if(void 0!==t&&!this.tn(t))return!1;const i=nl(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){const h=this.Jt.getIterator().getNext();if(!r.has(h.field.canonicalString())){const p=i[s];if(!this.nn(h,p)||!this.rn(this.Yt[l++],p))return!1}++s}for(;s<i.length;++s)if(l>=this.Yt.length||!this.rn(this.Yt[l++],i[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Ii(xi.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Dd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Dd(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Dd(i.field,"asc"===i.dir?0:1)));return new Cf(Cf.UNKNOWN_ID,this.collectionId,t,Ad.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function oA(n){var e,t;if(gn(n instanceof si||n instanceof Fi),n instanceof si){if(n instanceof kg){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>si.create(n.field,"==",s)))||[];return Fi.create(r,"or")}return n}const i=n.filters.map(r=>oA(r));return Fi.create(i,n.op)}function tP(n){if(0===n.getFilters().length)return[];const e=UE(oA(n));return gn(cA(e)),sA(e)||aA(e)?[e]:e.getFilters()}function sA(n){return n instanceof si}function aA(n){return n instanceof Fi&&Pd(n)}function cA(n){return sA(n)||aA(n)||function(t){if(t instanceof Fi&&CD(t)){for(const i of t.getFilters())if(!sA(i)&&!aA(i))return!1;return!0}return!1}(n)}function UE(n){if(gn(n instanceof si||n instanceof Fi),n instanceof si)return n;if(1===n.filters.length)return UE(n.filters[0]);const e=n.filters.map(i=>UE(i));let t=Fi.create(e,n.op);return t=zg(t),cA(t)?t:(gn(t instanceof Fi),gn(Mg(t)),gn(t.filters.length>1),t.filters.reduce((i,r)=>jE(i,r)))}function jE(n,e){let t;return gn(n instanceof si||n instanceof Fi),gn(e instanceof si||e instanceof Fi),t=n instanceof si?e instanceof si?Fi.create([n,e],"and"):lA(n,e):e instanceof si?lA(e,n):function(r,s){if(gn(r.filters.length>0&&s.filters.length>0),Mg(r)&&Mg(s))return hE(r,s.getFilters());const l=CD(r)?r:s,h=CD(r)?s:r,p=l.filters.map(v=>jE(v,h));return Fi.create(p,"or")}(n,e),zg(t)}function lA(n,e){if(Mg(e))return hE(e,n.getFilters());{const t=e.filters.map(i=>jE(n,i));return Fi.create(t,"or")}}function zg(n){if(gn(n instanceof si||n instanceof Fi),n instanceof si)return n;const e=n.getFilters();if(1===e.length)return zg(e[0]);if(DD(n))return n;const t=e.map(r=>zg(r)),i=[];return t.forEach(r=>{r instanceof si?i.push(r):r instanceof Fi&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Fi.create(i,n.op)}class uA{constructor(){this.on=new HE}addToCollectionParentIndex(e,t){return this.on.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t){return it.resolve(null)}getIndexType(e,t){return it.resolve(0)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,t){return it.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return it.resolve(Vo.min())}updateCollectionGroup(e,t,i){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class HE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ii(mi.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ii(mi.comparator)).toArray()}}const Gg=new Uint8Array(0);class dA{constructor(e,t){this.user=e,this.databaseId=t,this._n=new HE,this.an=new pc(i=>hu(i),(i,r)=>fc(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:i,parent:Eo(r)};return nP(e).put(s)}return it.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Cy(t),""],!1,!0);return nP(e).W(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(dc(l.parent))}return i})}addFieldIndex(e,t){const i=Gd(e),r={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var h;delete r.indexId;const s=i.add(r);if(t.indexState){const l=$d(e);return s.next(h=>{l.put(Xk(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Gd(e),r=$d(e),s=zf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Gd(e),i=zf(e),r=$d(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return it.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const s=new eb(i).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const i=zf(e);let r=!0;const s=new Map;return it.forEach(this.un(t),l=>this.cn(e,l).next(h=>{r&&(r=!!h),s.set(l,h)})).next(()=>{if(r){let l=ei();const h=[];return it.forEach(s,(p,v)=>{var pt;Pt("IndexedDbIndexManager",`Using index ${pt=p,`id=${pt.indexId}|cg=${pt.collectionGroup}|f=${pt.fields.map(Bt=>`${Bt.fieldPath}:${Bt.kind}`).join(",")}`} to execute ${hu(t)}`);const T=function(pt,Bt){const Cn=rD(Bt);if(void 0===Cn)return null;for(const Pn of Pg(pt,Cn.fieldPath))switch(Pn.op){case"array-contains-any":return Pn.value.arrayValue.values||[];case"array-contains":return[Pn.value]}return null}(v,p),R=function(pt,Bt){const Cn=new Map;for(const Pn of nl(Bt))for(const ni of Pg(pt,Pn.fieldPath))switch(ni.op){case"==":case"in":Cn.set(Pn.fieldPath.canonicalString(),ni.value);break;case"not-in":case"!=":return Cn.set(Pn.fieldPath.canonicalString(),ni.value),Array.from(Cn.values())}return null}(v,p),q=function(pt,Bt){const Cn=[];let Pn=!0;for(const ni of nl(Bt)){const Ui=0===ni.kind?Vy(pt,ni.fieldPath,pt.startAt):Ck(pt,ni.fieldPath,pt.startAt);Cn.push(Ui.value),Pn&&(Pn=Ui.inclusive)}return new Ss(Cn,Pn)}(v,p),me=function(pt,Bt){const Cn=[];let Pn=!0;for(const ni of nl(Bt)){const Ui=0===ni.kind?Ck(pt,ni.fieldPath,pt.endAt):Vy(pt,ni.fieldPath,pt.endAt);Cn.push(Ui.value),Pn&&(Pn=Ui.inclusive)}return new Ss(Cn,Pn)}(v,p),Te=this.ln(p,v,q),Me=this.ln(p,v,me),Ge=this.hn(p,v,R),At=this.Pn(p.indexId,T,Te,q.inclusive,Me,me.inclusive,Ge);return it.forEach(At,Lt=>i.j(Lt,t.limit).next(pt=>{pt.forEach(Bt=>{const Cn=Zt.fromSegments(Bt.documentKey);l.has(Cn)||(l=l.add(Cn),h.push(Cn))})}))}).next(()=>h)}return it.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:tP(Fi.create(e.filters,"and")).map(i=>gE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,s,l,h){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),v=p/(null!=t?t.length:1),T=[];for(let R=0;R<p;++R){const q=t?this.In(t[R/v]):Gg,me=this.Tn(e,q,i[R%v],r),Te=this.En(e,q,s[R%v],l),Me=h.map(Ge=>this.Tn(e,q,Ge,!0));T.push(...this.createRange(me,Te,Me))}return T}Tn(e,t,i,r){const s=new pl(e,Zt.empty(),t,i);return r?s:s.Ht()}En(e,t,i,r){const s=new pl(e,Zt.empty(),t,i);return r?s.Ht():s}cn(e,t){const i=new eb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const h of s)i.en(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let i=2;const r=this.un(t);return it.forEach(r,s=>this.cn(e,s).next(l=>{l?0!==i&&l.fields.length<function(p){let v=new Ii(xi.comparator),T=!1;for(const R of p.filters)for(const q of R.getFlattenedFilters())q.field.isKeyField()||("array-contains"===q.op||"array-contains-any"===q.op?T=!0:v=v.add(q.field));for(const R of p.orderBy)R.field.isKeyField()||(v=v.add(R.field));return v.size+(T?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new Hf;for(const r of nl(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.jt(r.kind);Hd.St.ht(s,l)}return i.Ut()}In(e){const t=new Hf;return Hd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new Hf;return Hd.St.ht(kd(this.databaseId,t),i.jt(function(s){const l=nl(s);return 0===l.length?0:l[l.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new Hf);let s=0;for(const l of nl(e)){const h=i[s++];for(const p of r)if(this.Rn(t,l.fieldPath)&&Mf(h))r=this.Vn(r,l,h);else{const v=p.jt(l.kind);Hd.St.ht(h,v)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const h of r){const p=new Hf;p.seed(h.Ut()),Hd.St.ht(l,p.jt(t.kind)),s.push(p)}return s}Rn(e,t){return!!e.filters.find(i=>i instanceof si&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Gd(e),r=$d(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const l=[];return it.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{l.push(function(T,R){const q=R?new Ad(R.sequenceNumber,new Vo(hl(R.readTime),new Zt(dc(R.documentKey)),R.largestBatchId)):Ad.empty(),me=T.fields.map(([Te,Me])=>new Dd(xi.fromServerFormat(Te),Me));return new Cf(T.indexId,T.collectionGroup,me,q)}(h,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Un(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Gd(e),s=$d(e);return this.fn(e).next(l=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>it.forEach(h,p=>s.put(Xk(p.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return it.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?it.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),it.forEach(h,p=>this.gn(e,r,p).next(v=>{const T=this.pn(s,p);return v.isEqual(T)?it.resolve():this.yn(e,s,p,v,T)}))))})}wn(e,t,i,r){return zf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return zf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=zf(e);let s=new Ii(zd);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(l,h)=>{s=s.add(new pl(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}pn(e,t){let i=new Ii(zd);const r=this.dn(t,e);if(null==r)return i;const s=rD(t);if(null!=s){const l=e.data.field(s.fieldPath);if(Mf(l))for(const h of l.arrayValue.values||[])i=i.add(new pl(t.indexId,e.key,this.In(h),r))}else i=i.add(new pl(t.indexId,e.key,Gg,r));return i}yn(e,t,i,r,s){Pt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(p,v,T,R,q){const me=p.getIterator(),Te=v.getIterator();let Me=Df(me),Ge=Df(Te);for(;Me||Ge;){let At=!1,Lt=!1;if(Me&&Ge){const pt=T(Me,Ge);pt<0?Lt=!0:pt>0&&(At=!0)}else null!=Me?Lt=!0:At=!0;At?(R(Ge),Ge=Df(Te)):Lt?(q(Me),Me=Df(me)):(Me=Df(me),Ge=Df(Te))}}(r,s,zd,h=>{l.push(this.wn(e,t,i,h))},h=>{l.push(this.Sn(e,t,i,h))}),it.waitFor(l)}fn(e){let t=1;return $d(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,h)=>zd(l,h)).filter((l,h,p)=>!h||0!==zd(l,p[h-1]));const r=[];r.push(e);for(const l of i){const h=zd(l,e),p=zd(l,t);if(0===h)r[0]=e.Ht();else if(h>0&&p<0)r.push(l),r.push(l.Ht());else if(p>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Gg,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Gg,[]]))}return s}bn(e,t){return zd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zE)}getMinOffset(e,t){return it.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||sn())).next(zE)}}function nP(n){return Zr(n,"collectionParents")}function zf(n){return Zr(n,"indexEntries")}function Gd(n){return Zr(n,"indexConfiguration")}function $d(n){return Zr(n,"indexState")}function zE(n){gn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Dy(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Vo(e.readTime,e.documentKey,t)}const hA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fA(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let h=0;const p=i.Y({range:l},(T,R,q)=>(h++,q.delete()));s.push(p.next(()=>{gn(1===h)}));const v=[];for(const T of t.mutations){const R=rE(e,T.key.path,t.batchId);s.push(r.delete(R)),v.push(T.key)}return it.waitFor(s).next(()=>v)}function tb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw sn();e=n.noDocument}return JSON.stringify(e).length}Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);class $g{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){gn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new $g(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).Y({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Gf(e),l=Wd(e);return l.add({}).next(h=>{gn("number"==typeof h);const p=new IE(h,t,i,r),v=function(me,Te,Me){const Ge=Me.baseMutations.map(Lt=>Uf(me.ut,Lt)),At=Me.mutations.map(Lt=>Uf(me.ut,Lt));return{userId:Te,batchId:Me.batchId,localWriteTimeMs:Me.localWriteTime.toMillis(),baseMutations:Ge,mutations:At}}(this.serializer,this.userId,p),T=[];let R=new Ii((q,me)=>Un(q.canonicalString(),me.canonicalString()));for(const q of r){const me=rE(this.userId,q.key.path,h);R=R.add(q.key.path.popLast()),T.push(l.put(v)),T.push(s.put(me,dD))}return R.forEach(q=>{T.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Dn[h]=p.keys()}),it.waitFor(T).next(()=>p)})}lookupMutationBatch(e,t){return Wd(e).get(t).next(i=>i?(gn(i.userId===this.userId),fl(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?it.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Wd(e).Y({index:"userMutationsIndex",range:r},(l,h,p)=>{h.userId===this.userId&&(gn(h.batchId>=i),s=fl(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wd(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).W("userMutationsIndex",t).next(i=>i.map(r=>fl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=au(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Gf(e).Y({range:r},(l,h,p)=>{const[v,T,R]=l,q=dc(T);if(v===this.userId&&t.path.isEqual(q))return Wd(e).get(R).next(me=>{if(!me)throw sn();gn(me.userId===this.userId),s.push(fl(this.serializer,me))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ii(Un);const r=[];return t.forEach(s=>{const l=au(this.userId,s.path),h=IDBKeyRange.lowerBound(l),p=Gf(e).Y({range:h},(v,T,R)=>{const[q,me,Te]=v,Me=dc(me);q===this.userId&&s.path.isEqual(Me)?i=i.add(Te):R.done()});r.push(p)}),it.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=au(this.userId,i),l=IDBKeyRange.lowerBound(s);let h=new Ii(Un);return Gf(e).Y({range:l},(p,v,T)=>{const[R,q,me]=p,Te=dc(q);R===this.userId&&i.isPrefixOf(Te)?Te.length===r&&(h=h.add(me)):T.done()}).next(()=>this.vn(e,h))}vn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Wd(e).get(s).next(l=>{if(null===l)throw sn();gn(l.userId===this.userId),i.push(fl(this.serializer,l))}))}),it.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return fA(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),it.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return it.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Gf(e).Y({range:i},(s,l,h)=>{if(s[0]===this.userId){const p=dc(s[1]);r.push(p)}else h.done()}).next(()=>{gn(0===r.length)})})}containsKey(e,t){return GE(e,this.userId,t)}Mn(e){return iP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GE(n,e,t){const i=au(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Gf(n).Y({range:s,J:!0},(h,p,v)=>{const[T,R,q]=h;T===e&&R===r&&(l=!0),v.done()}).next(()=>l)}function Wd(n){return Zr(n,"mutations")}function Gf(n){return Zr(n,"documentMutations")}function iP(n){return Zr(n,"mutationQueues")}class Zd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Zd(0)}static Nn(){return new Zd(-1)}}class KF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Zd(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>En.fromTimestamp(new Ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wg(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(gn(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Wg(e).Y((l,h)=>{const p=Ug(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>it.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Wg(e).Y((i,r)=>{const s=Ug(r);t(s)})}Bn(e){return pA(e).get("targetGlobalKey").next(t=>(gn(null!==t),t))}Ln(e,t){return pA(e).put("targetGlobalKey",t)}kn(e,t){return Wg(e).put(Xy(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=hu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Wg(e).Y({range:r,index:"queryTargetsIndex"},(l,h,p)=>{const v=Ug(h);fc(t,v.target)&&(s=v,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=mu(e);return t.forEach(l=>{const h=Eo(l.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,l))}),it.waitFor(r)}removeMatchingKeys(e,t,i){const r=mu(e);return it.forEach(t,s=>{const l=Eo(s.path);return it.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=mu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=mu(e);let s=ei();return r.Y({range:i,J:!0},(l,h,p)=>{const v=dc(l[1]),T=new Zt(v);s=s.add(T)}).next(()=>s)}containsKey(e,t){const i=Eo(t.path),r=IDBKeyRange.bound([i],[Cy(i)],!1,!0);let s=0;return mu(e).Y({index:"documentTargetsIndex",J:!0,range:r},([l,h],p,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}_t(e,t){return Wg(e).get(t).next(i=>i?Ug(i):null)}}function Wg(n){return Zr(n,"targets")}function pA(n){return Zr(n,"targetGlobal")}function mu(n){return Zr(n,"targetDocuments")}function rP([n,e],[t,i]){const r=Un(n,t);return 0===r?Un(e,i):r}class QF{constructor(e){this.Qn=e,this.buffer=new Ii(rP),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();rP(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;Pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,dt.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){rl(i)?Pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield il(i)}yield t.Gn(3e5)}))}}class XF{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return it.resolve(As._e);const i=new QF(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(hA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hA):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,s,l,h,p,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),r=this.params.maximumSequenceNumbersToCollect):r=R,l=Date.now(),this.nthSequenceNumber(e,r))).next(R=>(i=R,h=Date.now(),this.removeTargets(e,i,t))).next(R=>(s=R,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(R=>(v=Date.now(),Tf()<=xs.in.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${R} documents in `+(v-p)+`ms\nTotal Duration: ${v-T}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:R})))}}class aP{constructor(e,t){this.db=e,this.garbageCollector=function sP(n,e){return new XF(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return $E(e,i)}removeReference(e,t,i){return $E(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return $E(e,t)}Xn(e,t){return function(r,s){let l=!1;return iP(r).Z(h=>GE(r,h,s).next(p=>(p&&(l=!0),it.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Zn(e,(l,h)=>{if(h<=t){const p=this.Xn(e,l).next(v=>{if(!v)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,En.min()),mu(e).delete([0,Eo(l.path)])))});r.push(p)}}).next(()=>it.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return $E(e,t)}Zn(e,t){const i=mu(e);let r,s=As._e;return i.Y({index:"documentTargetsIndex"},([l,h],{path:p,sequenceNumber:v})=>{0===l?(s!==As._e&&t(new Zt(dc(r)),s),s=v,r=p):s=As._e}).next(()=>{s!==As._e&&t(new Zt(dc(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $E(n,e){return mu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Eo(e.path),sequenceNumber:r}));var r}class cP{constructor(){this.changes=new pc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?it.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return $f(e).put(i)}removeEntry(e,t,i){return $f(e).delete(function(s,l){const h=s.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],mc(l),h[h.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=ii.newInvalidDocument(t);return $f(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(o(t))},(r,s)=>{i=this.tr(t,s)}).next(()=>i)}nr(e,t){let i={size:0,document:ii.newInvalidDocument(t)};return $f(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(o(t))},(r,s)=>{i={document:this.tr(t,s),size:tb(s)}}).next(()=>i)}getEntries(e,t){let i=ns();return this.rr(e,t,(r,s)=>{const l=this.tr(r,s);i=i.insert(r,l)}).next(()=>i)}ir(e,t){let i=ns(),r=new Bi(Zt.comparator);return this.rr(e,t,(s,l)=>{const h=this.tr(s,l);i=i.insert(s,h),r=r.insert(s,tb(l))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return it.resolve();let r=new Ii(u);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(o(r.first()),o(r.last())),l=r.getIterator();let h=l.getNext();return $f(e).Y({index:"documentKeyIndex",range:s},(p,v,T)=>{const R=Zt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&u(h,R)<0;)i(h,null),h=l.getNext();h&&h.isEqual(R)&&(i(h,v),h=l.hasNext()?l.getNext():null),h?T.U(o(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,s){const l=t.path,h=[l.popLast().toArray(),l.lastSegment(),mc(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $f(e).W(IDBKeyRange.bound(h,p,!0)).next(v=>{s?.incrementDocumentReadCount(v.length);let T=ns();for(const R of v){const q=this.tr(Zt.fromSegments(R.prefixPath.concat(R.collectionGroup,R.documentId)),R);q.isFoundDocument()&&(Fg(t,q)||r.has(q.key))&&(T=T.insert(q.key,q))}return T})}getAllFromCollectionGroup(e,t,i,r){let s=ns();const l=c(t,i),h=c(t,Vo.max());return $f(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(p,v,T)=>{const R=this.tr(Zt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(R.key,R),s.size===r&&T.done()}).next(()=>s)}newChangeBuffer(e){return new eL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mA(e).get("remoteDocumentGlobalKey").next(t=>(gn(!!t),t))}er(e,t){return mA(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Kk(n,e){let t;if(e.document)t=KD(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Zt.fromSegments(e.noDocument.path),r=hl(e.noDocument.readTime);t=ii.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return sn();{const i=Zt.fromSegments(e.unknownDocument.path),r=hl(e.unknownDocument.version);t=ii.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const s=new Ki(r[0],r[1]);return En.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(En.min()))return i}return ii.newInvalidDocument(e)}}function lP(n){return new JF(n)}class eL extends cP{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new pc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Ii((s,l)=>Un(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,h.readTime)),l.isValidDocument()){const p=FE(this._r.serializer,l);r=r.add(s.path.popLast());const v=tb(p);i+=v-h.size,t.push(this._r.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=FE(this._r.serializer,l.convertToNoDocument(En.min()));t.push(this._r.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,i)),it.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((s,l)=>{this.ar.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function mA(n){return Zr(n,"remoteDocumentGlobal")}function $f(n){return Zr(n,"remoteDocumentsV14")}function o(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function c(n,e){const t=e.documentKey.path.toArray();return[n,mc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function u(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Un(t[s],i[s]),r)return r;return r=Un(t.length,i.length),r||(r=Un(t[t.length-2],i[i.length-2]),r||Un(t[t.length-1],i[i.length-1]))}class d{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class f{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Vd(i.mutation,r,Bo.empty(),Ki.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ei()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ei()){const r=ll();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=Pf();return s.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=ll();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ei()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,i,r){let s=ns();const l=Uy(),h=Uy();return t.forEach((p,v)=>{const T=i.get(v.key);r.has(v.key)&&(void 0===T||T.mutation instanceof dl)?s=s.insert(v.key,v):void 0!==T?(l.set(v.key,T.mutation.getFieldMask()),Vd(T.mutation,v,T.mutation.getFieldMask(),Ki.now())):l.set(v.key,Bo.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,T)=>l.set(v,T)),t.forEach((v,T)=>{var R;return h.set(v,new d(T,null!==(R=l.get(v))&&void 0!==R?R:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Uy();let r=new Bi((l,h)=>l-h),s=ei();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let T=i.get(p)||Bo.empty();T=h.applyToLocalView(v,T),i.set(p,T);const R=(r.get(h.batchId)||ei()).add(p);r=r.insert(h.batchId,R)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,T=p.value,R=Rk();T.forEach(q=>{if(!s.has(q)){const me=VD(t.get(q),i.get(q));null!==me&&R.set(q,me),s=s.add(q)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,R))}return it.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return Zt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_E(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var l}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):it.resolve(ll());let h=-1,p=s;return l.next(v=>it.forEach(v,(T,R)=>(h<R.largestBatchId&&(h=R.largestBatchId),s.get(T)?it.resolve():this.remoteDocumentCache.getEntry(e,T).next(q=>{p=p.insert(T,q)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,ei())).next(T=>({batchId:h,changes:Mk(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zt(t)).next(i=>{let r=Pf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let l=Pf();return this.indexManager.getCollectionParents(e,s).next(h=>it.forEach(h,p=>{const v=(R=t,q=p.child(s),new cl(q,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,q;return this.getDocumentsMatchingCollectionQuery(e,v,i,r).next(T=>{T.forEach((R,q)=>{l=l.insert(R,q)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(l=>{s.forEach((p,v)=>{const T=v.getKey();null===l.get(T)&&(l=l.insert(T,ii.newInvalidDocument(T)))});let h=Pf();return l.forEach((p,v)=>{const T=s.get(p);void 0!==T&&Vd(T.mutation,v,Bo.empty(),Ki.now()),Fg(t,v)&&(h=h.insert(p,v))}),h})}}class g{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return it.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:or(r.createTime)}),it.resolve();var r}getNamedQuery(e,t){return it.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:jg(r.bundledQuery),readTime:or(r.readTime)}),it.resolve();var r}}class b{constructor(){this.overlays=new Bi(Zt.comparator),this.lr=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ll();return it.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.lt(e,t,s)}),it.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),it.resolve()}getOverlaysForCollection(e,t,i){const r=ll(),s=t.length+1,l=new Zt(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return it.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Bi((v,T)=>v-T);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let T=s.get(v.largestBatchId);null===T&&(T=ll(),s=s.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const h=ll(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,T)=>h.set(v,T)),!(h.size()>=r)););return it.resolve(h)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Zy(t,i));let s=this.lr.get(t);void 0===s&&(s=ei(),this.lr.set(t,s)),this.lr.set(t,s.add(i.key))}}class x{constructor(){this.hr=new Ii(A.Pr),this.Ir=new Ii(A.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new A(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new A(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new Zt(new mi([])),i=new A(t,e),r=new A(t,e+1),s=[];return this.Ir.forEachInRange([i,r],l=>{this.dr(l),s.push(l.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Zt(new mi([])),i=new A(t,e),r=new A(t,e+1);let s=ei();return this.Ir.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new A(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class A{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Zt.comparator(e.key,t.key)||Un(e.gr,t.gr)}static Tr(e,t){return Un(e.gr,t.gr)||Zt.comparator(e.key,t.key)}}class H{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ii(A.Pr)}checkEmpty(e){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.pr;this.pr++;const l=new IE(s,t,i,r);this.mutationQueue.push(l);for(const h of r)this.yr=this.yr.add(new A(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return it.resolve(l)}lookupMutationBatch(e,t){return it.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),s=r<0?0:r;return it.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new A(t,0),r=new A(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],l=>{const h=this.wr(l.gr);s.push(h)}),it.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ii(Un);return t.forEach(r=>{const s=new A(r,0),l=new A(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,l],h=>{i=i.add(h.gr)})}),it.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Zt.isDocumentKey(s)||(s=s.child(""));const l=new A(new Zt(s),0);let h=new Ii(Un);return this.yr.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(p.gr)),!0)},l),it.resolve(this.br(h))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){gn(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return it.forEach(t.mutations,r=>{const s=new A(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new A(t,0),r=this.yr.firstAfterOrEqual(i);return it.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return it.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class de{constructor(e){this.Cr=e,this.docs=new Bi(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return it.resolve(i?i.document.mutableCopy():ii.newInvalidDocument(t))}getEntries(e,t){let i=ns();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ii.newInvalidDocument(r))}),it.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ns();const l=t.path,h=new Zt(l.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:T}}=p.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||Dy(Jw(T),i)<=0||(r.has(T.key)||Fg(t,T))&&(s=s.insert(T.key,T.mutableCopy()))}return it.resolve(s)}getAllFromCollectionGroup(e,t,i,r){sn()}vr(e,t){return it.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new we(this)}getSize(e){return it.resolve(this.size)}}class we extends cP{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),it.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Ue{constructor(e){this.persistence=e,this.Fr=new pc(t=>hu(t),fc),this.lastRemoteSnapshotVersion=En.min(),this.highestTargetId=0,this.Mr=0,this.Or=new x,this.targetCount=0,this.Nr=Zd.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),it.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Zd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.kn(t),it.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Fr.forEach((l,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Fr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),it.waitFor(s).next(()=>r)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return it.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),it.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),it.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),it.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return it.resolve(i)}containsKey(e,t){return it.resolve(this.Or.containsKey(t))}}class Qe{constructor(e,t){this.Br={},this.overlays={},this.Lr=new As(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ue(this),this.indexManager=new uA,this.remoteDocumentCache=new de(i=>this.referenceDelegate.Qr(i)),this.serializer=new tA(t),this.Kr=new g(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new H(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){Pt("MemoryPersistence","Starting transaction:",e);const r=new _t(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,t){return it.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class _t extends tE{constructor(e){super(),this.currentSequenceNumber=e}}class Ot{constructor(e){this.persistence=e,this.Gr=new x,this.zr=null}static jr(e){return new Ot(e)}get Hr(){if(this.zr)return this.zr;throw sn()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),it.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),it.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Hr,i=>{const r=Zt.fromPath(i);return this.Jr(e,r).next(s=>{s||t.removeEntry(r,En.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return it.or([()=>it.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class xn{constructor(e){this.serializer=e}N(e,t,i,r){const s=new Ay("createOrUpgrade",t);var p;i<1&&r>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uD,{unique:!0}),p.createObjectStore("documentMutations"),Mt(e),function(p){p.createObjectStore("remoteDocuments")}(e));let l=it.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Mt(e)),l=l.next(()=>function(p){const v=p.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:En.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",T)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(p,v){return v.store("mutations").W().next(T=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uD,{unique:!0});const R=v.store("mutations"),q=T.map(me=>R.put(me));return it.waitFor(q)})}(e,s))),l=l.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Zr(s))),i<6&&r>=6&&(l=l.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),i<7&&r>=7&&(l=l.next(()=>this.ei(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ni(s))),i<11&&r>=11&&(l=l.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:gk});v.createIndex("collectionPathOverlayIndex",Tg,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",_k,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:hD});v.createIndex("documentKeyIndex",fD),v.createIndex("collectionGroupIndex",pD)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.ii(e,s))),i<15&&r>=15&&(l=l.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:gD}).createIndex("sequenceNumberIndex",_D,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:pk}).createIndex("documentKeyIndex",mk,{unique:!1})}(e))),l}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=tb(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>it.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",l).next(h=>it.forEach(h,p=>{gn(p.userId===s.userId);const v=fl(this.serializer,p);return fA(e,s.userId,v).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Y((l,h)=>{const p=new mi(l),v=[0,Eo(p)];s.push(t.get(v).next(T=>T?it.resolve():t.put({targetId:0,path:Eo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>it.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:LF});const i=t.store("collectionParents"),r=new HE,s=l=>{if(r.add(l)){const h=l.lastSegment(),p=l.popLast();return i.put({collectionId:h,parent:Eo(p)})}};return t.store("remoteDocuments").Y({J:!0},(l,h)=>{const p=new mi(l);return s(p.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([l,h,p],v)=>{const T=dc(h);return s(T.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const s=Ug(r),l=Xy(this.serializer,s);return t.put(l)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((s,l)=>{const h=t.store("remoteDocumentsV14"),p=(R=l,R.document?new Zt(mi.fromString(R.document.name).popFirst(5)):R.noDocument?Zt.fromSegments(R.noDocument.path):R.unknownDocument?Zt.fromSegments(R.unknownDocument.path):sn()).path.toArray(),v={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};var R;r.push(h.put(v))}).next(()=>it.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=lP(this.serializer),s=new Qe(Ot.jr,this.serializer.ut);return i.W().next(l=>{const h=new Map;return l.forEach(p=>{var v;let T=null!==(v=h.get(p.userId))&&void 0!==v?v:ei();fl(this.serializer,p).keys().forEach(R=>T=T.add(R)),h.set(p.userId,T)}),it.forEach(h,(p,v)=>{const T=new Wr(v),R=Jy.ct(this.serializer,T),q=s.getIndexManager(T),me=$g.ct(T,this.serializer,q,s.referenceDelegate);return new f(r,me,R,q).recalculateAndSaveOverlaysForDocumentKeys(new Md(t,As._e),p).next()})})}}function Mt(n){n.createObjectStore("targetDocuments",{keyPath:fk}).createIndex("documentTargetsIndex",FF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mD,{unique:!0}),n.createObjectStore("targetGlobal")}const Bn="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qn{constructor(e,t,i,r,s,l,h,p,v,T,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=s,this.window=l,this.document=h,this.oi=v,this._i=T,this.ai=R,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=q=>Promise.resolve(),!Qn.D())throw new Rt(ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aP(this,r),this.Ii=t+"main",this.serializer=new tA(p),this.Ti=new Da(this.Ii,this.ai,new xn(this.serializer)),this.qr=new KF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lP(this.serializer),this.Kr=new YF,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===T&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rt(ct.FAILED_PRECONDITION,Bn);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new As(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,dt.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,dt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,dt.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uo(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(rl(e))return Pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return gi(e).get("owner").next(t=>it.resolve(this.wi(t)))}Si(e){return uo(e).delete(this.clientId)}bi(){var e=this;return(0,dt.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Zr(i,"clientMetadata");return r.W().next(s=>{const l=e.Ci(s,18e5),h=s.filter(p=>-1===l.indexOf(p));return it.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?it.resolve(!0):gi(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Rt(ct.FAILED_PRECONDITION,Bn);return!1}}return!(!this.networkEnabled||!this.inForeground)||uo(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Pt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,dt.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Md(t,As._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>uo(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return $g.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dA(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Jy.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){Pt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(p=this.ai)?VF:14===p?vD:13===p?yk:12===p?vk:11===p?Cg:void sn();var p;let l;return this.Ti.runTransaction(e,r,s,h=>(l=new Md(h,this.Lr?this.Lr.next():As._e),"readwrite-primary"===t?this.fi(l).next(p=>!!p||this.gi(l)).next(p=>{if(!p)throw rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Rt(ct.FAILED_PRECONDITION,eE);return i(l)}).next(p=>this.yi(l).next(()=>p)):this.Li(l).next(()=>i(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Li(e){return gi(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Rt(ct.FAILED_PRECONDITION,Bn)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gi(e).put("owner",t)}static D(){return Da.D()}pi(e){const t=gi(e);return t.get("owner").next(i=>this.wi(i)?(Pt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):it.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(rr(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Pt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){rr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gi(n){return Zr(n,"owner")}function uo(n){return Zr(n,"clientMetadata")}function Sa(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class gu{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ei(),r=ei();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new gu(e,t.fromCache,i,r)}}class WE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gA{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.zi(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ji(e,t,r,i).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new WE;return this.Hi(e,t,l).next(h=>{if(s.result=h,this.$i)return this.Ji(e,t,l,h.size)})}).next(()=>s.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Tf()<=xs.in.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Nd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),it.resolve()):(Tf()<=xs.in.DEBUG&&Pt("QueryEngine","Query:",Nd(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Tf()<=xs.in.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Nd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(t))):it.resolve())}zi(e,t){if(RD(t))return it.resolve(null);let i=xo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Og(t,null,"F"),i=xo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=ei(...s);return this.Gi.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.Yi(t,h);return this.Zi(t,v,l,p.readTime)?this.zi(e,Og(t,null,"F")):this.Xi(e,v,t,p)}))})))}ji(e,t,i,r){return RD(t)||r.isEqual(En.min())?it.resolve(null):this.Gi.getDocuments(e,i).next(s=>{const l=this.Yi(t,s);return this.Zi(t,l,i,r)?it.resolve(null):(Tf()<=xs.in.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nd(t)),this.Xi(e,l,t,sD(r,-1)).next(h=>h))})}Yi(e,t){let i=new Ii(yE(e));return t.forEach((r,s)=>{Fg(e,s)&&(i=i.add(s))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,t,i){return Tf()<=xs.in.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Nd(t)),this.Gi.getDocumentsMatchingQuery(e,t,Vo.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class uP{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Bi(Un),this.ns=new pc(s=>hu(s),fc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function tL(n,e,t,i){return new uP(n,e,t,i)}function nL(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,dt.Z)(function*(n,e){const t=Wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],h=[];let p=ei();for(const v of r){l.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}for(const v of s){h.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(i,p).next(v=>({_s:v,removedBatchIds:l,addedBatchIds:h}))})})}),dP.apply(this,arguments)}function iL(n){const e=Wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function rL(n,e,t){let i=ei(),r=ei();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=ns();return t.forEach((h,p)=>{const v=s.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(En.min())?(e.removeEntry(h,p.readTime),l=l.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),l=l.insert(h,p)):Pt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{us:l,cs:r}})}function Ej(n,e){const t=Wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nb(n,e){const t=Wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(s=>s?(r=s,it.resolve(r)):t.qr.allocateTargetId(i).next(l=>(r=new oa(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function ib(n,e,t){return hP.apply(this,arguments)}function hP(){return hP=(0,dt.Z)(function*(n,e,t){const i=Wt(n),r=i.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!rl(l))throw l;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),hP.apply(this,arguments)}function _A(n,e,t){const i=Wt(n);let r=En.min(),s=ei();return i.persistence.runTransaction("Execute query","readwrite",l=>function(p,v,T){const R=Wt(p),q=R.ns.get(T);return void 0!==q?it.resolve(R.ts.get(q)):R.qr.getTargetData(v,T)}(i,l,xo(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,h.targetId).next(p=>{s=p})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,t?r:En.min(),t?s:ei())).next(h=>(aL(i,vE(e),h),{documents:h,ls:s})))}function oL(n,e){const t=Wt(n),i=Wt(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i._t(s,e).next(l=>l?l.target:null))}function sL(n,e){const t=Wt(n),i=t.rs.get(e)||En.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,sD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(aL(t,e,r),r))}function aL(n,e,t){let i=n.rs.get(e)||En.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(e,i)}function fP(){return fP=(0,dt.Z)(function*(n,e,t,i){const r=Wt(n);let s=ei(),l=ns();for(const v of t){const T=e.hs(v.metadata.name);v.document&&(s=s.add(T));const R=e.Ps(v);R.setReadTime(e.Is(v.metadata.readTime)),l=l.insert(T,R)}const h=r.ss.newChangeBuffer({trackRemovals:!0}),p=yield nb(r,(T=i,xo(kf(mi.fromString(`__bundle__/docs/${T}`)))));var T;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>rL(v,h,l).next(T=>(h.apply(v),T)).next(T=>r.qr.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.qr.addMatchingKeys(v,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,T.us,T.cs)).next(()=>T.us)))}),fP.apply(this,arguments)}function Ij(n,e){return pP.apply(this,arguments)}function pP(){return pP=(0,dt.Z)(function*(n,e,t=ei()){const i=yield nb(n,xo(jg(e.bundledQuery))),r=Wt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=or(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Kr.saveNamedQuery(s,e);const h=i.withResumeToken(Tr.EMPTY_BYTE_STRING,l);return r.ts=r.ts.insert(h.targetId,h),r.qr.updateTargetData(s,h).next(()=>r.qr.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.qr.addMatchingKeys(s,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(s,e))})}),pP.apply(this,arguments)}function cL(n,e){return`firestore_clients_${n}_${e}`}function lL(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function mP(n,e){return`firestore_targets_${n}_${e}`}class vA{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Rt(r.error.code,r.error.message))),l?new vA(e,t,r.state,s):(rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZE{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Rt(i.error.code,i.error.message))),s?new ZE(e,i.state,r):(rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=ND();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=cD(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new yA(e,s):(rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gP{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gP(t.clientId,t.onlineState):(rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _P{constructor(){this.activeTargetIds=ND()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vP{constructor(e,t,i,r,s){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Bi(Un),this.started=!1,this.ps=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=cL(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new _P),this.Ss=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,dt.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const s=e.getItem(cL(e.persistenceKey,r));if(s){const l=yA.Ts(r,s);l&&(e.gs=e.gs.insert(l.clientId,l))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(mP(this.persistenceKey,e));if(i){const r=ZE.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mP(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pt("SharedClientState","READ",e,t),t}setItem(e,t){Pt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Pt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,dt.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(l){let h=As._e;if(null!=l)try{const p=JSON.parse(l);gn("number"==typeof p),h=p}catch(p){rr("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(i.newValue);r!==As._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new vA(this.currentUser,e,t,i),s=lL(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Es())}Bs(e){const t=lL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=mP(this.persistenceKey,e),s=new ZE(e,t,i);this.setItem(r,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return yA.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return vA.Ts(new Wr(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return ZE.Ts(r,t)}Ms(e){return gP.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,dt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);Pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),s=this.Os(i),l=[],h=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Xs(l,h).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=ND();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class uL{constructor(){this.eo=new _P,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new _P,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tj{ro(e){}shutdown(){}}class dL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bA=null;function yP(){return null===bA?bA=268435456+Math.round(2147483648*Math.random()):bA++,"0x"+bA.toString(16)}const Cj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dj{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const is="WebChannelConnection";class Aj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(t,i,r,s,l){const h=yP(),p=this.So(t,i);Pt("RestConnection",`Sending RPC '${t}' ${h}:`,p,r);const v={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(v,s,l),this.Do(t,p,v,r).then(T=>(Pt("RestConnection",`Received RPC '${t}' ${h}: `,T),T),T=>{throw ts("RestConnection",`RPC '${t}' ${h} failed with error: `,T,"url: ",p,"request:",r),T})}Co(t,i,r,s,l,h){return this.wo(t,i,r,s,l)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Id,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,l)=>t[l]=s),r&&r.headers.forEach((s,l)=>t[l]=s)}So(t,i){return`${this.mo}/v1/${i}:${Cj[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const s=yP();return new Promise((l,h)=>{const p=new tk;p.setWithCredentials(!0),p.listenOnce(wg.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Kw.NO_ERROR:const T=p.getResponseJson();Pt(is,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(T)),l(T);break;case Kw.TIMEOUT:Pt(is,`RPC '${e}' ${s} timed out`),h(new Rt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Kw.HTTP_ERROR:const R=p.getStatus();if(Pt(is,`RPC '${e}' ${s} failed with status:`,R,"response text:",p.getResponseText()),R>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const me=q?.error;if(me&&me.status&&me.message){const Te=function(Ge){const At=Ge.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(At)>=0?At:ct.UNKNOWN}(me.status);h(new Rt(Te,me.message))}else h(new Rt(ct.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Rt(ct.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{Pt(is,`RPC '${e}' ${s} completed.`)}});const v=JSON.stringify(r);Pt(is,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",v,i,15)})}vo(e,t,i){const r=yP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=KC(),h=JR(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const T=s.join("");Pt(is,`Creating RPC '${e}' stream ${r}: ${T}`,p);const R=l.createWebChannel(T,p);let q=!1,me=!1;const Te=new Dj({co:Ge=>{me?Pt(is,`Not sending because RPC '${e}' stream ${r} is closed:`,Ge):(q||(Pt(is,`Opening RPC '${e}' stream ${r} transport.`),R.open(),q=!0),Pt(is,`RPC '${e}' stream ${r} sending:`,Ge),R.send(Ge))},lo:()=>R.close()}),Me=(Ge,At,Lt)=>{Ge.listen(At,pt=>{try{Lt(pt)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return Me(R,Eg.EventType.OPEN,()=>{me||Pt(is,`RPC '${e}' stream ${r} transport opened.`)}),Me(R,Eg.EventType.CLOSE,()=>{me||(me=!0,Pt(is,`RPC '${e}' stream ${r} transport closed`),Te.Ro())}),Me(R,Eg.EventType.ERROR,Ge=>{me||(me=!0,ts(is,`RPC '${e}' stream ${r} transport errored:`,Ge),Te.Ro(new Rt(ct.UNAVAILABLE,"The operation could not be completed")))}),Me(R,Eg.EventType.MESSAGE,Ge=>{var At;if(!me){const Lt=Ge.data[0];gn(!!Lt);const Bt=Lt.error||(null===(At=Lt[0])||void 0===At?void 0:At.error);if(Bt){Pt(is,`RPC '${e}' stream ${r} received error:`,Bt);const Cn=Bt.status;let Pn=function(Ns){const wc=Cr[Ns];if(void 0!==wc)return Bk(wc)}(Cn),ni=Bt.message;void 0===Pn&&(Pn=ct.INTERNAL,ni="Unknown error status: "+Cn+" with message "+Bt.message),me=!0,Te.Ro(new Rt(Pn,ni)),R.close()}else Pt(is,`RPC '${e}' stream ${r} received:`,Lt),Te.Vo(Lt)}}),Me(h,ek.STAT_EVENT,Ge=>{Ge.stat===Qw.PROXY?Pt(is,`RPC '${e}' stream ${r} detected buffering proxy`):Ge.stat===Qw.NOPROXY&&Pt(is,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{Te.Ao()},0),Te}}function hL(){return typeof window<"u"?window:null}function wA(){return typeof document<"u"?document:null}function qE(n){return new GF(n,!0)}class bP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&Pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class fL{constructor(e,t,i,r,s,l,h,p){this.si=e,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new bP(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,dt.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,dt.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,dt.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===ct.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===ct.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new Rt(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,dt.Z)(function*(){e.state=0,e.start()}))}o_(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sj extends fL{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function WF(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:sn(),r=e.targetChange.targetIds||[],s=function(v,T){return v.useProto3Json?(gn(void 0===T||"string"==typeof T),Tr.fromBase64String(T||"")):(gn(void 0===T||T instanceof Uint8Array),Tr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(v){const T=void 0===v.code?ct.UNKNOWN:Bk(v.code);return new Rt(T,v.message||"")}(l);t=new $D(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Aa(n,i.document.name),s=or(i.document.updateTime),l=i.document.createTime?or(i.document.createTime):En.min(),h=new Yr({mapValue:{fields:i.document.fields}}),p=ii.newFoundDocument(r,s,l,h);t=new Vf(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Aa(n,i.document),s=i.readTime?or(i.readTime):En.min(),l=ii.newNoDocument(r,s);t=new Vf([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Aa(n,i.document);t=new Vf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return sn();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new Vk(r,s);t=new qy(i.targetId,l)}}var v;return t}(this.serializer,e),i=function(s){if(!("targetChange"in s))return En.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?En.min():l.readTime?or(l.readTime):En.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=fu(this.serializer),t.addTarget=function(s,l){let h;const p=l.target;if(h=Ly(p)?{documents:$k(s,p)}:{query:QD(s,p)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=RE(s,l.resumeToken);const v=Yy(s,l.expectedCount);null!==v&&(h.expectedCount=v)}else if(l.snapshotVersion.compareTo(En.min())>0){h.readTime=Bf(s,l.snapshotVersion.toTimestamp());const v=Yy(s,l.expectedCount);null!==v&&(h.expectedCount=v)}return h}(this.serializer,e);const i=function XD(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=fu(this.serializer),t.removeTarget=e,this.e_(t)}}class Mj extends fL{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Gk(n,e){return n&&n.length>0?(gn(void 0!==e),n.map(t=>function(r,s){let l=or(r.updateTime?r.updateTime:s);return l.isEqual(En.min())&&(l=or(s)),new Nk(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=or(e.commitTime);return this.listener.I_(i,t)}return gn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=fu(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Uf(this.serializer,i))};this.e_(t)}}class Rj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Rt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Rt(ct.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Co(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rt(ct.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Pj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(rr(t),this.f_=!1):Pt("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Oj{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(h=>{i.enqueueAndForget((0,dt.Z)(function*(){var p;Wf(l)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,dt.Z)(function*(T){const R=Wt(T);R.C_.add(4),yield rb(R),R.M_.set("Unknown"),R.C_.delete(4),yield YE(R)}),function v(T){return p.apply(this,arguments)})(l))}))}),this.M_=new Pj(i,r)}}function YE(n){return EP.apply(this,arguments)}function EP(){return EP=(0,dt.Z)(function*(n){if(Wf(n))for(const e of n.v_)yield e(!0)}),EP.apply(this,arguments)}function rb(n){return xP.apply(this,arguments)}function xP(){return xP=(0,dt.Z)(function*(n){for(const e of n.v_)yield e(!1)}),xP.apply(this,arguments)}function EA(n,e){const t=Wt(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),CP(t)?TP(t):sb(t).Ho()&&IP(t,e))}function KE(n,e){const t=Wt(n),i=sb(t);t.D_.delete(e),i.Ho()&&pL(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Wf(t)&&t.M_.set("Unknown"))}function IP(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(En.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sb(n).u_(e)}function pL(n,e){n.x_.Oe(e),sb(n).c_(e)}function TP(n){n.x_=new WD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),sb(n).start(),n.M_.g_()}function CP(n){return Wf(n)&&!sb(n).jo()&&n.D_.size>0}function Wf(n){return 0===Wt(n).C_.size}function mL(n){n.x_=void 0}function Nj(n){return DP.apply(this,arguments)}function DP(){return DP=(0,dt.Z)(function*(n){n.D_.forEach((e,t)=>{IP(n,e)})}),DP.apply(this,arguments)}function Fj(n,e){return AP.apply(this,arguments)}function AP(){return AP=(0,dt.Z)(function*(n,e){mL(n),CP(n)?(n.M_.w_(e),TP(n)):n.M_.set("Unknown")}),AP.apply(this,arguments)}function Lj(n,e,t){return SP.apply(this,arguments)}function SP(){return SP=(0,dt.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof $D&&2===e.state&&e.cause)try{yield(i=(0,dt.Z)(function*(s,l){const h=l.cause;for(const p of l.targetIds)s.D_.has(p)&&(yield s.remoteSyncer.rejectListen(p,h),s.D_.delete(p),s.x_.removeTarget(p))}),function r(s,l){return i.apply(this,arguments)})(n,e)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield xA(n,i)}else if(e instanceof Vf?n.x_.$e(e):e instanceof qy?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(En.min()))try{const i=yield iL(n.localStore);t.compareTo(i)>=0&&(yield function(s,l){const h=s.x_.it(l);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const T=s.D_.get(v);T&&s.D_.set(v,T.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach((p,v)=>{const T=s.D_.get(p);if(!T)return;s.D_.set(p,T.withResumeToken(Tr.EMPTY_BYTE_STRING,T.snapshotVersion)),pL(s,p);const R=new oa(T.target,p,v,T.sequenceNumber);IP(s,R)}),s.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),yield xA(n,i)}var i}),SP.apply(this,arguments)}function xA(n,e,t){return MP.apply(this,arguments)}function MP(){return MP=(0,dt.Z)(function*(n,e,t){if(!rl(e))throw e;n.C_.add(1),yield rb(n),n.M_.set("Offline"),t||(t=()=>iL(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield YE(n)}))}),MP.apply(this,arguments)}function gL(n,e){return e().catch(t=>xA(n,t,e))}function ob(n){return RP.apply(this,arguments)}function RP(){return RP=(0,dt.Z)(function*(n){const e=Wt(n),t=Zf(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Vj(e);)try{const r=yield Ej(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,Bj(e,r)}catch(r){yield xA(e,r)}_L(e)&&vL(e)}),RP.apply(this,arguments)}function Vj(n){return Wf(n)&&n.b_.length<10}function Bj(n,e){n.b_.push(e);const t=Zf(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function _L(n){return Wf(n)&&!Zf(n).jo()&&n.b_.length>0}function vL(n){Zf(n).start()}function Uj(n){return kP.apply(this,arguments)}function kP(){return kP=(0,dt.Z)(function*(n){Zf(n).E_()}),kP.apply(this,arguments)}function jj(n){return PP.apply(this,arguments)}function PP(){return PP=(0,dt.Z)(function*(n){const e=Zf(n);for(const t of n.b_)e.P_(t.mutations)}),PP.apply(this,arguments)}function Hj(n,e,t){return OP.apply(this,arguments)}function OP(){return OP=(0,dt.Z)(function*(n,e,t){const i=n.b_.shift(),r=TE.from(i,e,t);yield gL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ob(n)}),OP.apply(this,arguments)}function zj(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,dt.Z)(function*(n,e){var t;e&&Zf(n).h_&&(yield(t=(0,dt.Z)(function*(r,s){if(DE(h=s.code)&&h!==ct.ABORTED){const l=r.b_.shift();Zf(r).Yo(),yield gL(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield ob(r)}var h}),function i(r,s){return t.apply(this,arguments)})(n,e)),_L(n)&&vL(n)}),NP.apply(this,arguments)}function yL(n,e){return FP.apply(this,arguments)}function FP(){return FP=(0,dt.Z)(function*(n,e){const t=Wt(n);t.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=Wf(t);t.C_.add(3),yield rb(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield YE(t)}),FP.apply(this,arguments)}function LP(n,e){return VP.apply(this,arguments)}function VP(){return VP=(0,dt.Z)(function*(n,e){const t=Wt(n);e?(t.C_.delete(2),yield YE(t)):e||(t.C_.add(2),yield rb(t),t.M_.set("Unknown"))}),VP.apply(this,arguments)}function sb(n){return n.O_||(n.O_=function(t,i,r){const s=Wt(t);return s.A_(),new Sj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Nj.bind(null,n),Io:Fj.bind(null,n),a_:Lj.bind(null,n)}),n.v_.push(function(){var e=(0,dt.Z)(function*(t){t?(n.O_.Yo(),CP(n)?TP(n):n.M_.set("Unknown")):(yield n.O_.stop(),mL(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Zf(n){return n.N_||(n.N_=function(t,i,r){const s=Wt(t);return s.A_(),new Mj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Uj.bind(null,n),Io:zj.bind(null,n),T_:jj.bind(null,n),I_:Hj.bind(null,n)}),n.v_.push(function(){var e=(0,dt.Z)(function*(t){t?(n.N_.Yo(),yield ob(n)):(yield n.N_.stop(),n.b_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class BP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,h=new BP(e,t,l,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ab(n,e){if(rr("AsyncQueue",`${e}: ${n}`),rl(n))return new Rt(ct.UNAVAILABLE,`${e}: ${n}`);throw n}class cb{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Zt.comparator(t.key,i.key):(t,i)=>Zt.comparator(t.key,i.key),this.keyedMap=Pf(),this.sortedSet=new Bi(this.comparator)}static emptySet(e){return new cb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new cb;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class bL{constructor(){this.B_=new Bi(Zt.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):sn():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class lb{constructor(e,t,i,r,s,l,h,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new lb(e,t,cb.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Gj{constructor(){this.k_=void 0,this.listeners=[]}}class $j{constructor(){this.queries=new pc(e=>PD(e),Ng),this.onlineState="Unknown",this.q_=new Set}}function UP(n,e){return jP.apply(this,arguments)}function jP(){return jP=(0,dt.Z)(function*(n,e){const t=Wt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Gj),r)try{s.k_=yield t.onListen(i)}catch(l){const h=ab(l,`Initialization of query '${Nd(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&GP(t)}),jP.apply(this,arguments)}function HP(n,e){return zP.apply(this,arguments)}function zP(){return zP=(0,dt.Z)(function*(n,e){const t=Wt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zP.apply(this,arguments)}function Wj(n,e){const t=Wt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const h of l.listeners)h.K_(r)&&(i=!0);l.k_=r}}i&&GP(t)}function Zj(n,e,t){const i=Wt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function GP(n){n.q_.forEach(e=>{e.next()})}class $P{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new lb(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=lb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class qj{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class wL{constructor(e){this.serializer=e}hs(e){return Aa(this.serializer,e)}Ps(e){return e.metadata.exists?KD(this.serializer,e.document,!1):ii.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return or(e)}}class Yj{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EL(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=mi.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new wL(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.hs(r.metadata.name);for(const l of r.metadata.queries){const h=(t.get(l)||ei()).add(s);t.set(l,h)}}return t}complete(){var e=this;return(0,dt.Z)(function*(){const t=yield function xj(n,e,t,i){return fP.apply(this,arguments)}(e.localStore,new wL(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Ij(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function EL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xL{constructor(e){this.key=e}}class IL{constructor(e){this.key=e}}class TL{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ei(),this.mutatedKeys=ei(),this._a=yE(e),this.aa=new cb(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new bL,r=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,R)=>{const q=r.get(T),me=Fg(this.query,R)?R:null,Te=!!q&&this.mutatedKeys.has(q.key),Me=!!me&&(me.hasLocalMutations||this.mutatedKeys.has(me.key)&&me.hasCommittedMutations);let Ge=!1;q&&me?q.data.isEqual(me.data)?Te!==Me&&(i.track({type:3,doc:me}),Ge=!0):this.ha(q,me)||(i.track({type:2,doc:me}),Ge=!0,(p&&this._a(me,p)>0||v&&this._a(me,v)<0)&&(h=!0)):!q&&me?(i.track({type:0,doc:me}),Ge=!0):q&&!me&&(i.track({type:1,doc:q}),Ge=!0,(p||v)&&(h=!0)),Ge&&(me?(l=l.add(me),s=Me?s.add(T):s.delete(T)):(l=l.delete(T),s=s.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),s=s.delete(T.key),i.track({type:1,doc:T})}return{aa:l,la:i,Zi:h,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((T,R)=>function(me,Te){const Me=Ge=>{switch(Ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return Me(me)-Me(Te)}(T.type,R.type)||this._a(T.doc,R.doc)),this.Pa(i),r=null!=r&&r;const h=t&&!r?this.Ia():[],p=0===this.oa.size&&this.current&&!r?1:0,v=p!==this.sa;return this.sa=p,0!==l.length||v?{snapshot:new lb(this.query,e.aa,s,l,e.mutatedKeys,0===p,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:h}:{Ta:h}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new bL,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ei(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new IL(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new xL(i))}),t}da(e){this.ia=e.ls,this.oa=ei();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return lb.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Kj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Qj{constructor(e){this.key=e,this.Ra=!1}}class Xj{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new pc(h=>PD(h),Ng),this.fa=new Map,this.ga=new Set,this.pa=new Bi(Zt.comparator),this.ya=new Map,this.wa=new x,this.Sa={},this.ba=new Map,this.Da=Zd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Jj(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,dt.Z)(function*(n,e){const t=mO(n);let i,r;const s=t.ma.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const l=yield nb(t.localStore,xo(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield ZP(t,e,i,"current"===h,l.resumeToken),t.isPrimaryClient&&EA(t.remoteStore,l)}return r}),WP.apply(this,arguments)}function ZP(n,e,t,i,r){return qP.apply(this,arguments)}function qP(){return qP=(0,dt.Z)(function*(n,e,t,i,r){n.va=(R,q,me)=>{return(Te=(0,dt.Z)(function*(Ge,At,Lt,pt){let Bt=At.view.ca(Lt);Bt.Zi&&(Bt=yield _A(Ge.localStore,At.query,!1).then(({documents:Ui})=>At.view.ca(Ui,Bt)));const Cn=pt&&pt.targetChanges.get(At.targetId),Pn=pt&&null!=pt.targetMismatches.get(At.targetId),ni=At.view.applyChanges(Bt,Ge.isPrimaryClient,Cn,Pn);return rO(Ge,At.targetId,ni.Ta),ni.snapshot}),function Me(Ge,At,Lt,pt){return Te.apply(this,arguments)})(n,R,q,me);var Te};const s=yield _A(n.localStore,e,!0),l=new TL(e,s.ls),h=l.ca(s.documents),p=Lf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(h,n.isPrimaryClient,p);rO(n,t,v.Ta);const T=new Kj(e,t,l);return n.ma.set(e,T),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),v.snapshot}),qP.apply(this,arguments)}function e4(n,e){return YP.apply(this,arguments)}function YP(){return YP=(0,dt.Z)(function*(n,e){const t=Wt(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(s=>!Ng(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ib(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),KE(t.remoteStore,i.targetId),ub(t,i.targetId)}).catch(il))):(ub(t,i.targetId),yield ib(t.localStore,i.targetId,!0))}),YP.apply(this,arguments)}function KP(){return KP=(0,dt.Z)(function*(n,e,t){const i=gO(n);try{const r=yield function(l,h){const p=Wt(l),v=Ki.now(),T=h.reduce((me,Te)=>me.add(Te.key),ei());let R,q;return p.persistence.runTransaction("Locally write mutations","readwrite",me=>{let Te=ns(),Me=ei();return p.ss.getEntries(me,T).next(Ge=>{Te=Ge,Te.forEach((At,Lt)=>{Lt.isValidDocument()||(Me=Me.add(At))})}).next(()=>p.localDocuments.getOverlayedDocuments(me,Te)).next(Ge=>{R=Ge;const At=[];for(const Lt of h){const pt=Lk(Lt,R.get(Lt.key).overlayedDocument);null!=pt&&At.push(new dl(Lt.key,pt,uE(pt.value.mapValue),Qi.exists(!0)))}return p.mutationQueue.addMutationBatch(me,v,At,h)}).next(Ge=>{q=Ge;const At=Ge.applyToLocalDocumentSet(R,Me);return p.documentOverlayCache.saveOverlays(me,Ge.batchId,At)})}).then(()=>({batchId:q.batchId,changes:Mk(R)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,h,p){let v=l.Sa[l.currentUser.toKey()];v||(v=new Bi(Un)),v=v.insert(h,p),l.Sa[l.currentUser.toKey()]=v}(i,r.batchId,t),yield qd(i,r.changes),yield ob(i.remoteStore)}catch(r){const s=ab(r,"Failed to persist write");t.reject(s)}}),KP.apply(this,arguments)}function CL(n,e){return QP.apply(this,arguments)}function QP(){return QP=(0,dt.Z)(function*(n,e){const t=Wt(n);try{const i=yield function wj(n,e){const t=Wt(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const h=[];e.targetChanges.forEach((T,R)=>{const q=r.get(R);if(!q)return;h.push(t.qr.removeMatchingKeys(s,T.removedDocuments,R).next(()=>t.qr.addMatchingKeys(s,T.addedDocuments,R)));let me=q.withSequenceNumber(s.currentSequenceNumber);var Me,Ge,At;null!==e.targetMismatches.get(R)?me=me.withResumeToken(Tr.EMPTY_BYTE_STRING,En.min()).withLastLimboFreeSnapshotVersion(En.min()):T.resumeToken.approximateByteSize()>0&&(me=me.withResumeToken(T.resumeToken,i)),r=r.insert(R,me),Ge=me,At=T,(0===(Me=q).resumeToken.approximateByteSize()||Ge.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=3e8||At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0)&&h.push(t.qr.updateTargetData(s,me))});let p=ns(),v=ei();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,T))}),h.push(rL(s,l,e.documentUpdates).next(T=>{p=T.us,v=T.cs})),!i.isEqual(En.min())){const T=t.qr.getLastRemoteSnapshotVersion(s).next(R=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(T)}return it.waitFor(h).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.ts=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.ya.get(s);l&&(gn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Ra=!0:r.modifiedDocuments.size>0?gn(l.Ra):r.removedDocuments.size>0&&(gn(l.Ra),l.Ra=!1))}),yield qd(t,i,e)}catch(i){yield il(i)}}),QP.apply(this,arguments)}function DL(n,e,t){const i=Wt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((s,l)=>{const h=l.view.Q_(e);h.snapshot&&r.push(h.snapshot)}),function(l,h){const p=Wt(l);p.onlineState=h;let v=!1;p.queries.forEach((T,R)=>{for(const q of R.listeners)q.Q_(h)&&(v=!0)}),v&&GP(p)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function n4(n,e,t){return XP.apply(this,arguments)}function XP(){return XP=(0,dt.Z)(function*(n,e,t){const i=Wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),s=r&&r.key;if(s){let l=new Bi(Zt.comparator);l=l.insert(s,ii.newNoDocument(s,En.min()));const h=ei().add(s),p=new ra(En.min(),new Map,new Bi(Un),l,h);yield CL(i,p),i.pa=i.pa.remove(s),i.ya.delete(e),oO(i)}else yield ib(i.localStore,e,!1).then(()=>ub(i,e,t)).catch(il)}),XP.apply(this,arguments)}function r4(n,e){return JP.apply(this,arguments)}function JP(){return JP=(0,dt.Z)(function*(n,e){const t=Wt(n),i=e.batch.batchId;try{const r=yield function bj(n,e){const t=Wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(h,p,v,T){const R=v.batch,q=R.keys();let me=it.resolve();return q.forEach(Te=>{me=me.next(()=>T.getEntry(p,Te)).next(Me=>{const Ge=v.docVersions.get(Te);gn(null!==Ge),Me.version.compareTo(Ge)<0&&(R.applyToRemoteDocument(Me,v),Me.isValidDocument()&&(Me.setReadTime(v.commitVersion),T.addEntry(Me)))})}),me.next(()=>h.mutationQueue.removeMutationBatch(p,R))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=ei();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(p=p.add(h.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);iO(t,i,null),nO(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield qd(t,r)}catch(r){yield il(r)}}),JP.apply(this,arguments)}function o4(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,dt.Z)(function*(n,e,t){const i=Wt(n);try{const r=yield function(l,h){const p=Wt(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return p.mutationQueue.lookupMutationBatch(v,h).next(R=>(gn(null!==R),T=R.keys(),p.mutationQueue.removeMutationBatch(v,R))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,T,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>p.localDocuments.getDocuments(v,T))})}(i.localStore,e);iO(i,e,t),nO(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield qd(i,r)}catch(r){yield il(r)}}),eO.apply(this,arguments)}function tO(){return tO=(0,dt.Z)(function*(n,e){const t=Wt(n);Wf(t.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const h=Wt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=ab(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),tO.apply(this,arguments)}function nO(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function iO(n,e,t){const i=Wt(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function ub(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||AL(n,i)})}function AL(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(KE(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),oO(n))}function rO(n,e,t){for(const i of t)i instanceof xL?(n.wa.addReference(i.key,e),a4(n,i)):i instanceof IL?(Pt("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||AL(n,i.key)):sn()}function a4(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(Pt("SyncEngine","New document in limbo: "+t),n.ga.add(i),oO(n))}function oO(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new Zt(mi.fromString(e)),i=n.Da.next();n.ya.set(i,new Qj(t)),n.pa=n.pa.insert(t,i),EA(n.remoteStore,new oa(xo(kf(t.path)),i,"TargetPurposeLimboResolution",As._e))}}function qd(n,e,t){return sO.apply(this,arguments)}function sO(){return sO=(0,dt.Z)(function*(n,e,t){const i=Wt(n),r=[],s=[],l=[];var h;i.ma.isEmpty()||(i.ma.forEach((h,p)=>{l.push(i.va(p,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const T=gu.Qi(p.targetId,v);s.push(T)}}))}),yield Promise.all(l),i.Va.a_(r),yield(h=(0,dt.Z)(function*(v,T){const R=Wt(v);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",q=>it.forEach(T,me=>it.forEach(me.ki,Te=>R.persistence.referenceDelegate.addReference(q,me.targetId,Te)).next(()=>it.forEach(me.qi,Te=>R.persistence.referenceDelegate.removeReference(q,me.targetId,Te)))))}catch(q){if(!rl(q))throw q;Pt("LocalStore","Failed to update sequence numbers: "+q)}for(const q of T){const me=q.targetId;if(!q.fromCache){const Te=R.ts.get(me),Ge=Te.withLastLimboFreeSnapshotVersion(Te.snapshotVersion);R.ts=R.ts.insert(me,Ge)}}}),function p(v,T){return h.apply(this,arguments)})(i.localStore,s))}),sO.apply(this,arguments)}function c4(n,e){return aO.apply(this,arguments)}function aO(){return aO=(0,dt.Z)(function*(n,e){const t=Wt(n);if(!t.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const i=yield nL(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(h=>{h.forEach(p=>{p.reject(new Rt(ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield qd(t,i._s)}var s}),aO.apply(this,arguments)}function l4(n,e){const t=Wt(n),i=t.ya.get(e);if(i&&i.Ra)return ei().add(i.key);{let r=ei();const s=t.fa.get(e);if(!s)return r;for(const l of s){const h=t.ma.get(l);r=r.unionWith(h.view.ua)}return r}}function u4(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,dt.Z)(function*(n,e){const t=Wt(n),i=yield _A(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&rO(t,e.targetId,r.Ta),r}),cO.apply(this,arguments)}function d4(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,dt.Z)(function*(n,e){const t=Wt(n);return sL(t.localStore,e).then(i=>qd(t,i))}),lO.apply(this,arguments)}function h4(n,e,t,i){return uO.apply(this,arguments)}function uO(){return uO=(0,dt.Z)(function*(n,e,t,i){const r=Wt(n),s=yield function(h,p){const v=Wt(h),T=Wt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",R=>T.Cn(R,p).next(q=>q?v.localDocuments.getDocuments(R,q):it.resolve(null)))}(r.localStore,e);var p;null!==s?("pending"===t?yield ob(r.remoteStore):"acknowledged"===t||"rejected"===t?(iO(r,e,i||null),nO(r,e),p=e,Wt(Wt(r.localStore).mutationQueue).Fn(p)):sn(),yield qd(r,s)):Pt("SyncEngine","Cannot apply mutation batch with id: "+e)}),uO.apply(this,arguments)}function dO(){return dO=(0,dt.Z)(function*(n,e){const t=Wt(n);if(mO(t),gO(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield SL(t,i.toArray());t.Ca=!0,yield LP(t.remoteStore,!0);for(const s of r)EA(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(ub(t,l),ib(t.localStore,l,!0))),KE(t.remoteStore,l)}),yield r,yield SL(t,i),function(l){const h=Wt(l);h.ya.forEach((p,v)=>{KE(h.remoteStore,v)}),h.wa.Vr(),h.ya=new Map,h.pa=new Bi(Zt.comparator)}(t),t.Ca=!1,yield LP(t.remoteStore,!1)}}),dO.apply(this,arguments)}function SL(n,e,t){return hO.apply(this,arguments)}function hO(){return hO=(0,dt.Z)(function*(n,e,t){const i=Wt(n),r=[],s=[];for(const l of e){let h;const p=i.fa.get(l);if(p&&0!==p.length){h=yield nb(i.localStore,xo(p[0]));for(const v of p){const T=i.ma.get(v),R=yield u4(i,T);R.snapshot&&s.push(R.snapshot)}}else{const v=yield oL(i.localStore,l);h=yield nb(i.localStore,v),yield ZP(i,ML(v),l,!1,h.resumeToken)}r.push(h)}return i.Va.a_(s),r}),hO.apply(this,arguments)}function ML(n){return Dk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function p4(n){return t=Wt(n).localStore,Wt(Wt(t).persistence).Bi();var t}function m4(n,e,t,i){return fO.apply(this,arguments)}function fO(){return fO=(0,dt.Z)(function*(n,e,t,i){const r=Wt(n);if(r.Ca)return void Pt("SyncEngine","Ignoring unexpected query state notification.");const s=r.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield sL(r.localStore,vE(s[0])),h=ra.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Tr.EMPTY_BYTE_STRING);yield qd(r,l,h);break}case"rejected":yield ib(r.localStore,e,!0),ub(r,e,i);break;default:sn()}}),fO.apply(this,arguments)}function g4(n,e,t){return pO.apply(this,arguments)}function pO(){return pO=(0,dt.Z)(function*(n,e,t){const i=mO(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){Pt("SyncEngine","Adding an already active target "+r);continue}const s=yield oL(i.localStore,r),l=yield nb(i.localStore,s);yield ZP(i,ML(s),l.targetId,!1,l.resumeToken),EA(i.remoteStore,l)}for(const r of t)i.fa.has(r)&&(yield ib(i.localStore,r,!1).then(()=>{KE(i.remoteStore,r),ub(i,r)}).catch(il))}}),pO.apply(this,arguments)}function mO(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n4.bind(null,e),e.Va.a_=Wj.bind(null,e.eventManager),e.Va.Fa=Zj.bind(null,e.eventManager),e}function gO(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}class QE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,dt.Z)(function*(){t.serializer=qE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return tL(this.persistence,new gA,e.initialUser,this.serializer)}createPersistence(e){return new Qe(Ot.jr,this.serializer)}createSharedClientState(e){return new uL}terminate(){var e=this;return(0,dt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _O extends QE{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield gO(i.xa.syncEngine),yield ob(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return tL(this.persistence,new gA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new oP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new dk(t,this.persistence);return new uk(e.asyncQueue,i)}createPersistence(e){const t=Sa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new Qn(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,hL(),wA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uL}}class RL extends _O{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof vP&&(i.sharedClientState.syncEngine={Ys:h4.bind(null,r),Zs:m4.bind(null,r),Xs:g4.bind(null,r),Bi:p4.bind(null,r),Js:d4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var s=(0,dt.Z)(function*(l){yield function f4(n,e){return dO.apply(this,arguments)}(i.xa.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=hL();if(!vP.D(t))throw new Rt(ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Sa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vP(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class db{initialize(e,t){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>DL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=c4.bind(null,i.syncEngine),yield LP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $j}createDatastore(e){const t=qE(e.databaseInfo.databaseId),i=new Aj(e.databaseInfo);return new Rj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,s=e.asyncQueue,l=t=>DL(this.syncEngine,t,0),h=dL.D()?new dL:new Tj,new Oj(i,r,s,l,h);var i,r,s,l,h}createSyncEngine(e,t){return function(r,s,l,h,p,v,T){const R=new Xj(r,s,l,h,p,v);return T&&(R.Ca=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,dt.Z)(function*(i){const r=Wt(i);Pt("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield rb(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function kL(n,e=10240){let t=0;return{read:()=>(0,dt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class IA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y4{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Fr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,dt.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,dt.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,dt.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const s=yield e.Ka(r);return new qj(JSON.parse(s),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,dt.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,dt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,dt.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class b4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Rt(ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(l,h){const p=Wt(l),v=fu(p.serializer)+"/documents",T={documents:h.map(Te=>Vg(p.serializer,Te))},R=yield p.Co("BatchGetDocuments",v,T,h.length),q=new Map;R.forEach(Te=>{const Me=function zk(n,e){return"found"in e?function(i,r){gn(!!r.found);const s=Aa(i,r.found.name),l=or(r.found.updateTime),h=r.found.createTime?or(r.found.createTime):En.min(),p=new Yr({mapValue:{fields:r.found.fields}});return ii.newFoundDocument(s,l,h,p)}(n,e):"missing"in e?function(i,r){gn(!!r.missing),gn(!!r.readTime);const s=Aa(i,r.missing),l=or(r.readTime);return ii.newNoDocument(s,l)}(n,e):sn()}(p.serializer,Te);q.set(Me.key.toString(),Me)});const me=[];return h.forEach(Te=>{const Me=q.get(Te.toString());gn(!!Me),me.push(Me)}),me}),function s(l,h){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Zt.fromPath(r);e.mutations.push(new xE(s,e.precondition(s)))}),yield(i=(0,dt.Z)(function*(s,l){const h=Wt(s),p=fu(h.serializer)+"/documents",v={writes:l.map(T=>Uf(h.serializer,T))};yield h.wo("Commit",p,v)}),function r(s,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw sn();t=En.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Rt(ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(En.min())?Qi.exists(!1):Qi.updateTime(t):Qi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(En.min()))throw new Rt(ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qi.updateTime(t)}return Qi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class w4{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new bP(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,dt.Z)(function*(){const t=new b4(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.ja(s)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!xg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DE(t)}return!1}}class E4{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Wr.UNAUTHENTICATED,this.clientId=Ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,dt.Z)(function*(h){Pt("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Pt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,dt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ab(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function TA(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(s){i.isEqual(s)||(yield nL(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vO.apply(this,arguments)}function yO(n,e){return bO.apply(this,arguments)}function bO(){return bO=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wO(n);Pt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>yL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>yL(e.remoteStore,s)),n._onlineComponents=e}),bO.apply(this,arguments)}function PL(n){return"FirebaseError"===n.name?n.code===ct.FAILED_PRECONDITION||n.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function wO(n){return EO.apply(this,arguments)}function EO(){return EO=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield TA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!PL(t))throw t;ts("Error using user provided cache. Falling back to memory cache: "+t),yield TA(n,new QE)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield TA(n,new QE);return n._offlineComponents}),EO.apply(this,arguments)}function CA(n){return xO.apply(this,arguments)}function xO(){return xO=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield yO(n,n._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield yO(n,new db))),n._onlineComponents}),xO.apply(this,arguments)}function OL(n){return wO(n).then(e=>e.persistence)}function hb(n){return wO(n).then(e=>e.localStore)}function NL(n){return CA(n).then(e=>e.remoteStore)}function IO(n){return CA(n).then(e=>e.syncEngine)}function fb(n){return TO.apply(this,arguments)}function TO(){return TO=(0,dt.Z)(function*(n){const e=yield CA(n),t=e.eventManager;return t.onListen=Jj.bind(null,e.syncEngine),t.onUnlisten=e4.bind(null,e.syncEngine),t}),TO.apply(this,arguments)}function LL(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(s,l,h,p,v){const T=new IA({next:q=>{l.enqueueAndForget(()=>HP(s,R));const me=q.docs.has(h);!me&&q.fromCache?v.reject(new Rt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):me&&q.fromCache&&p&&"server"===p.source?v.reject(new Rt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(q)},error:q=>v.reject(q)}),R=new $P(kf(h.path),T,{includeMetadataChanges:!0,J_:!0});return UP(s,R)}(yield fb(n),n.asyncQueue,e,t,i)})),i.promise}function VL(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(s,l,h,p,v){const T=new IA({next:q=>{l.enqueueAndForget(()=>HP(s,R)),q.fromCache&&"server"===p.source?v.reject(new Rt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(q)},error:q=>v.reject(q)}),R=new $P(h,T,{includeMetadataChanges:!0,J_:!0});return UP(s,R)}(yield fb(n),n.asyncQueue,e,t,i)})),i.promise}function BL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UL=new Map;function CO(n,e,t){if(!t)throw new Rt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jL(n,e,t,i){if(!0===e&&!0===i)throw new Rt(ct.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HL(n){if(!Zt.isDocumentKey(n))throw new Rt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zL(n){if(Zt.isDocumentKey(n))throw new Rt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":sn()}function hi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Rt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=DA(n);throw new Rt(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GL(n,e){if(e<=0)throw new Rt(ct.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class $L{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Rt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=BL(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Rt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class XE{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $L({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $L(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new JC;switch(i.type){case"firstParty":return new tD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Rt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=UL.get(t);i&&(Pt("ComponentProvider","Removing Datastore"),UL.delete(t),i.terminate())}(this),Promise.resolve()}}class Uo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class sr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class _u extends Uo{constructor(e,t,i){super(e,t,kf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Zt(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function ZL(n,e,...t){if(n=(0,_e.m9)(n),CO("collection","path",e),n instanceof XE){const i=mi.fromString(e,...t);return zL(i),new _u(n,null,i)}{if(!(n instanceof sr||n instanceof _u))throw new Rt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mi.fromString(e,...t));return zL(i),new _u(n.firestore,null,i)}}function AA(n,e,...t){if(n=(0,_e.m9)(n),1===arguments.length&&(e=Ty.newId()),CO("doc","path",e),n instanceof XE){const i=mi.fromString(e,...t);return HL(i),new sr(n,null,new Zt(i))}{if(!(n instanceof sr||n instanceof _u))throw new Rt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mi.fromString(e,...t));return HL(i),new sr(n.firestore,n instanceof _u?n.converter:null,new Zt(i))}}function qL(n,e){return n=(0,_e.m9)(n),e=(0,_e.m9)(e),(n instanceof sr||n instanceof _u)&&(e instanceof sr||e instanceof _u)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function DO(n,e){return n=(0,_e.m9)(n),e=(0,_e.m9)(e),n instanceof Uo&&e instanceof Uo&&n.firestore===e.firestore&&Ng(n._query,e._query)&&n.converter===e.converter}class O4{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new bP(this,"async_queue_retry"),this.iu=()=>{const t=wA();t&&Pt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=wA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=wA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Fr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,dt.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!rl(t))throw t;Pt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,rr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=BP.createAndSchedule(this,e,t,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&sn()}verifyOperationInProgress(){}uu(){var e=this;return(0,dt.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function AO(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class N4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xi extends XE{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new O4,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YL(this),this._firestoreClient.terminate()}}function Dr(n){return n._firestoreClient||YL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YL(n){var e,t,i;const r=n._freezeSettings(),s=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wk(n._databaseId,p,n._persistenceKey,(T=r).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,BL(T.experimentalLongPollingOptions),T.useFetchStreams));var p,T;n._firestoreClient=new E4(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function KL(n,e,t){const i=new Fr;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield TA(n,t),yield yO(n,e),i.resolve()}catch(r){const s=r;if(!PL(s))throw s;ts("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function QL(n){if(n._initialized||n._terminated)throw new Rt(ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Tr.fromBase64String(e))}catch(t){throw new Rt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vu(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Rt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zg{constructor(e){this._methodName=e}}class SA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const W4=/^__.*__$/;class Z4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new dl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nf(e,this.data,t,this.fieldTransforms)}}class XL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new dl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class MA{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new MA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return PA(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(JL(this.Iu)&&W4.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class q4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||qE(e)}pu(e,t,i,r=!1){return new MA({Iu:e,methodName:t,gu:i,path:xi.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(n){const e=n._freezeSettings(),t=qE(n._databaseId);return new q4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RA(n,e,t,i,r,s={}){const l=n.pu(s.merge||s.mergeFields?2:0,e,t,r);kO("Data must be an object, but it was:",l,i);const h=n2(i,l);let p,v;if(s.merge)p=new Bo(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const T=[];for(const R of s.mergeFields){const q=tx(e,R,t);if(!l.contains(q))throw new Rt(ct.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);o2(T,q)||T.push(q)}p=new Bo(T),v=l.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,v=l.fieldTransforms;return new Z4(new Yr(h),p,v)}class ex extends Zg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ex}}function e2(n,e,t){return new MA({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class SO extends Zg{_toFieldTransform(e){return new ul(e.path,new Lg)}isEqual(e){return e instanceof SO}}class Y4 extends Zg{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=e2(this,e,!0),i=this.yu.map(s=>Yg(s,t)),r=new Fd(i);return new ul(e.path,r)}isEqual(e){return this===e}}class K4 extends Zg{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=e2(this,e,!0),i=this.yu.map(s=>Yg(s,t)),r=new Ld(i);return new ul(e.path,r)}isEqual(e){return this===e}}class Q4 extends Zg{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Of(e.serializer,wE(e.serializer,this.wu));return new ul(e.path,t)}isEqual(e){return this===e}}function MO(n,e,t,i){const r=n.pu(1,e,t);kO("Data must be an object, but it was:",r,i);const s=[],l=Yr.empty();cu(i,(p,v)=>{const T=kA(e,p,t);v=(0,_e.m9)(v);const R=r.Ru(T);if(v instanceof ex)s.push(T);else{const q=Yg(v,R);null!=q&&(s.push(T),l.set(T,q))}});const h=new Bo(s);return new XL(l,h,r.fieldTransforms)}function RO(n,e,t,i,r,s){const l=n.pu(1,e,t),h=[tx(e,i,t)],p=[r];if(s.length%2!=0)throw new Rt(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<s.length;q+=2)h.push(tx(e,s[q])),p.push(s[q+1]);const v=[],T=Yr.empty();for(let q=h.length-1;q>=0;--q)if(!o2(v,h[q])){const me=h[q];let Te=p[q];Te=(0,_e.m9)(Te);const Me=l.Ru(me);if(Te instanceof ex)v.push(me);else{const Ge=Yg(Te,Me);null!=Ge&&(v.push(me),T.set(me,Ge))}}const R=new Bo(v);return new XL(T,R,l.fieldTransforms)}function t2(n,e,t,i=!1){return Yg(t,n.pu(i?4:3,e))}function Yg(n,e){if(r2(n=(0,_e.m9)(n)))return kO("Unsupported field value:",e,n),n2(n,e);if(n instanceof Zg)return function(i,r){if(!JL(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const s=[];let l=0;for(const h of i){let p=Yg(h,r.Vu(l));null==p&&(p={nullValue:"NULL_VALUE"}),s.push(p),l++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if(null===(i=(0,_e.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return wE(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=Ki.fromDate(i);return{timestampValue:Bf(r.serializer,s)}}if(i instanceof Ki){const s=new Ki(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bf(r.serializer,s)}}if(i instanceof SA)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vu)return{bytesValue:RE(r.serializer,i._byteString)};if(i instanceof sr){const s=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(s))throw r.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ky(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${DA(i)}`)}(n,e)}function n2(n,e){const t={};return Dg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cu(n,(i,r)=>{const s=Yg(r,e.Eu(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function r2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ki||n instanceof SA||n instanceof vu||n instanceof sr||n instanceof Zg)}function kO(n,e,t){if(!r2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=DA(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function tx(n,e,t){if((e=(0,_e.m9)(e))instanceof Yd)return e._internalPath;if("string"==typeof e)return kA(n,e);throw PA("Field path arguments must be of type string or ",n,!1,void 0,t)}const X4=new RegExp("[~\\*/\\[\\]]");function kA(n,e,t){if(e.search(X4)>=0)throw PA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yd(...e.split("."))._internalPath}catch{throw PA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PA(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new Rt(ct.INVALID_ARGUMENT,h+n+p)}function o2(n,e){return n.some(t=>t.isEqual(e))}class nx{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new J4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class J4 extends nx{data(){return super.data()}}function OA(n,e){return"string"==typeof e?kA(n,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}function s2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Rt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PO{}class ix extends PO{}function qf(n,e,...t){let i=[];e instanceof PO&&i.push(e),i=i.concat(t),function(s){const l=s.filter(p=>p instanceof pb).length,h=s.filter(p=>p instanceof rx).length;if(l>1||l>0&&h>0)throw new Rt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class rx extends ix{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new rx(e,t,i)}_apply(e){const t=this._parse(e);return u2(e._query,t),new Uo(e.firestore,e.converter,By(e._query,t))}_parse(e){const t=qg(e.firestore);return function(s,l,h,p,v,T,R){let q;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Rt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){l2(R,T);const me=[];for(const Te of R)me.push(c2(p,s,Te));q={arrayValue:{values:me}}}else q=c2(p,s,R)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||l2(R,T),q=t2(h,"where",R,"in"===T||"not-in"===T);return si.create(v,T,q)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class pb extends PO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pb(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let l=r;const h=s.getFlattenedFilters();for(const p of h)u2(l,p),l=By(l,p)}(e._query,t),new Uo(e.firestore,e.converter,By(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class OO extends ix{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new OO(e,t)}_apply(e){const t=function(r,s,l){if(null!==r.startAt)throw new Rt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Rt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fy(s,l)}(e._query,this._field,this._direction);return new Uo(e.firestore,e.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new cl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class NA extends ix{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new NA(e,t,i)}_apply(e){return new Uo(e.firestore,e.converter,Og(e._query,this._limit,this._limitType))}}class FA extends ix{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new FA(e,t,i)}_apply(e){const t=a2(e,this.type,this._docOrFields,this._inclusive);return new Uo(e.firestore,e.converter,(s=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class LA extends ix{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new LA(e,t,i)}_apply(e){const t=a2(e,this.type,this._docOrFields,this._inclusive);return new Uo(e.firestore,e.converter,(s=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function a2(n,e,t,i){if(t[0]=(0,_e.m9)(t[0]),t[0]instanceof nx)return function(s,l,h,p,v){if(!p)throw new Rt(ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const R of Od(s))if(R.field.isKeyField())T.push(kd(l,p.key));else{const q=p.data.field(R.field);if(Ag(q))throw new Rt(ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===q){const me=R.field.canonicalString();throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${me}' (used as the orderBy) does not exist.`)}T.push(q)}return new Ss(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=qg(n.firestore);return function(l,h,p,v,T,R){const q=l.explicitOrderBy;if(T.length>q.length)throw new Rt(ct.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const me=[];for(let Te=0;Te<T.length;Te++){const Me=T[Te];if(q[Te].field.isKeyField()){if("string"!=typeof Me)throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Me}`);if(!_E(l)&&-1!==Me.indexOf("/"))throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Me}' contains a slash.`);const Ge=l.path.child(mi.fromString(Me));if(!Zt.isDocumentKey(Ge))throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Ge}' is not because it contains an odd number of segments.`);const At=new Zt(Ge);me.push(kd(h,At))}else{const Ge=t2(p,v,Me);me.push(Ge)}}return new Ss(me,R)}(n._query,n.firestore._databaseId,r,e,t,i)}}function c2(n,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Rt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(e)&&-1!==t.indexOf("/"))throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mi.fromString(t));if(!Zt.isDocumentKey(i))throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kd(n,new Zt(i))}if(t instanceof sr)return kd(n,t._key);throw new Rt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DA(t)}.`)}function l2(n,e){if(!Array.isArray(n)||0===n.length)throw new Rt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u2(n,e){const t=function(r,s){for(const l of r)for(const h of l.getFlattenedFilters())if(s.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Rt(ct.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class NO{convertValue(e,t="none"){switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return cu(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new SA(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Af(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mi.fromString(e);gn(eA(i));const r=new ol(i.get(1),i.get(3)),s=new Zt(i.popFirst(5));return r.isEqual(t)||rr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function VA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class c6 extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}class Kg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kd extends nx{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(OA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ox extends Kd{data(e={}){return super.data(e)}}class Yf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ox(this._firestore,this._userDataWriter,i.key,i,new Kg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new ox(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Kg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>s||3!==h.type).map(h=>{const p=new ox(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Kg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==h.type&&(v=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:u6(h.type),doc:p,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function u6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}function h2(n,e){return n instanceof Kd&&e instanceof Kd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yf&&e instanceof Yf&&n._firestore===e._firestore&&DO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Kf extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function f2(n,e,t){n=hi(n,sr);const i=hi(n.firestore,Xi),r=VA(n.converter,e,t);return mb(i,[RA(qg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Qi.none())])}function p2(n,e,t,...i){n=hi(n,sr);const r=hi(n.firestore,Xi),s=qg(r);let l;return l="string"==typeof(e=(0,_e.m9)(e))||e instanceof Yd?RO(s,"updateDoc",n._key,e,t,i):MO(s,"updateDoc",n._key,e),mb(r,[l.toMutation(n._key,Qi.exists(!0))])}function m2(n,...e){var t,i,r;n=(0,_e.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||AO(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(AO(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),e[l+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let p,v,T;if(n instanceof sr)v=hi(n.firestore,Xi),T=kf(n._key.path),p={next:R=>{e[l]&&e[l](FO(v,n,R))},error:e[l+1],complete:e[l+2]};else{const R=hi(n,Uo);v=hi(R.firestore,Xi),T=R._query;const q=new Kf(v);p={next:me=>{e[l]&&e[l](new Yf(v,q,R,me))},error:e[l+1],complete:e[l+2]},s2(n._query)}return function(q,me,Te,Me){const Ge=new IA(Me),At=new $P(me,Ge,Te);return q.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return UP(yield fb(q),At)})),()=>{Ge.Na(),q.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return HP(yield fb(q),At)}))}}(Dr(v),T,h,p)}function mb(n,e){return function(i,r){const s=new Fr;return i.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function t4(n,e,t){return KP.apply(this,arguments)}(yield IO(i),r,s)})),s.promise}(Dr(n),e)}function FO(n,e,t){const i=t.docs.get(e._key),r=new Kf(n);return new Kd(n,r,e._key,i,new Kg(t.hasPendingWrites,t.fromCache),e.converter)}const A6={maxAttempts:5};class g2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qg(e)}set(e,t,i){this._verifyNotCommitted();const r=Qf(e,this._firestore),s=VA(r.converter,t,i),l=RA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Qi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Qf(e,this._firestore);let l;return l="string"==typeof(t=(0,_e.m9)(t))||t instanceof Yd?RO(this._dataReader,"WriteBatch.update",s._key,t,i,r):MO(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Qi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qf(e,this._firestore);return this._mutations=this._mutations.concat(new Ff(t._key,Qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qf(n,e){if((n=(0,_e.m9)(n)).firestore!==e)throw new Rt(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class S6 extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=qg(t)}get(t){const i=Qf(t,this._firestore),r=new c6(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return sn();const l=s[0];if(l.isFoundDocument())return new nx(this._firestore,r,l.key,l,i.converter);if(l.isNoDocument())return new nx(this._firestore,r,i._key,null,i.converter);throw sn()})}set(t,i,r){const s=Qf(t,this._firestore),l=VA(s.converter,i,r),h=RA(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,r);return this._transaction.set(s._key,h),this}update(t,i,r,...s){const l=Qf(t,this._firestore);let h;return h="string"==typeof(i=(0,_e.m9)(i))||i instanceof Yd?RO(this._dataReader,"Transaction.update",l._key,i,r,s):MO(this._dataReader,"Transaction.update",l._key,i),this._transaction.update(l._key,h),this}delete(t){const i=Qf(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qf(e,this._firestore),i=new Kf(this._firestore);return super.get(e).then(r=>new Kd(this._firestore,i,t._key,r._document,new Kg(!1,!1),t.converter))}}function VO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Rt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function b2(){if(typeof Uint8Array>"u")throw new Rt("unimplemented","Uint8Arrays are not available in this environment.")}function w2(){if(!function bk(){return typeof atob<"u"}())throw new Rt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Id=Xo.SDK_VERSION,(0,Xo._registerComponent)(new Es.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const l=i.getProvider("app").getImmediate(),h=new Xi(new rk(i.getProvider("auth-internal")),new sk(i.getProvider("app-check-internal")),function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Rt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(v.options.projectId,T)}(l,r),l);return s=Object.assign({useFetchStreams:t},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(xy,"4.4.0",e),(0,Xo.registerVersion)(xy,"4.4.0","esm2017")}();class sx{constructor(e){this._delegate=e}static fromBase64String(e){return w2(),new sx(vu.fromBase64String(e))}static fromUint8Array(e){return b2(),new sx(vu.fromUint8Array(e))}toBase64(){return w2(),this._delegate.toBase64()}toUint8Array(){return b2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BO(n){return function B6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class U6{enableIndexedDbPersistence(e,t){return function L4(n,e){QL(n=hi(n,Xi));const t=Dr(n);if(t._uninitializedComponentsProvider)throw new Rt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new db;return KL(t,r,new _O(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function V4(n){QL(n=hi(n,Xi));const e=Dr(n);if(e._uninitializedComponentsProvider)throw new Rt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new db;return KL(e,i,new RL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function B4(n){if(n._initialized&&!n._terminated)throw new Rt(ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(t=(0,dt.Z)(function*(r){if(!Da.D())return Promise.resolve();const s=r+"main";yield Da.delete(s)}),function i(r){return t.apply(this,arguments)})(Sa(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class E2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ol||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function WL(n,e,t,i={}){var r;const s=(n=hi(n,XE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let h,p;if("string"==typeof i.mockUserToken)h=i.mockUserToken,p=Wr.MOCK_USER;else{h=(0,_e.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Rt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wr(v)}n._authCredentials=new eD(new XC(h,p))}}(this._delegate,e,t,i)}enableNetwork(){return function j4(n){return function x4(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield OL(n),t=yield NL(n);return e.setNetworkEnabled(!0),function(r){const s=Wt(r);return s.C_.delete(0),YE(s)}(t)}))}(Dr(n=hi(n,Xi)))}(this._delegate)}disableNetwork(){return function H4(n){return function I4(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield OL(n),t=yield NL(n);return e.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(s){const l=Wt(s);l.C_.add(0),yield rb(l),l.M_.set("Offline")}),function r(s){return i.apply(this,arguments)})(t);var i}))}(Dr(n=hi(n,Xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,jL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function U4(n){return function(t){const i=new Fr;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function s4(n,e){return tO.apply(this,arguments)}(yield IO(t),i)})),i.promise}(Dr(n=hi(n,Xi)))}(this._delegate)}onSnapshotsInSync(e){return function y6(n,e){return function D4(n,e){const t=new IA(e);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return r=yield fb(n),s=t,Wt(r).q_.add(s),void s.next();var r,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return r=yield fb(n),s=t,void Wt(r).q_.delete(s);var r,s}))}}(Dr(n=hi(n,Xi)),AO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Rt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gb(this,ZL(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new gc(this,AA(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function P4(n,e){if(n=hi(n,XE),CO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Rt(ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Uo(n,null,(i=e,new cl(mi.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function M6(n,e,t){n=hi(n,Xi);const i=Object.assign(Object.assign({},A6),t);return function(s){if(s.maxAttempts<1)throw new Rt(ct.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,l,h){const p=new Fr;return s.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function FL(n){return CA(n).then(e=>e.datastore)}(s);new w4(s.asyncQueue,v,h,l,p).run()})),p.promise}(Dr(n),r=>e(new S6(n,r)),i)}(this._delegate,t=>e(new x2(this,t)))}batch(){return Dr(this._delegate),new I2(new g2(this._delegate,e=>mb(this._delegate,e)))}loadBundle(e){return function z4(n,e){const t=Dr(n=hi(n,Xi)),i=new N4;return function A4(n,e,t,i){const r=function(l,h){let p;return p="string"==typeof l?AE().encode(l):l,T=function(T,R){if(T instanceof Uint8Array)return kL(T,R);if(T instanceof ArrayBuffer)return kL(new Uint8Array(T),R);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new y4(T,h);var T}(t,qE(e));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function _4(n,e,t){const i=Wt(n);var r;(r=(0,dt.Z)(function*(l,h,p){try{const v=yield h.getMetadata();if(yield function(Te,Me){const Ge=Wt(Te),At=or(Me.createTime);return Ge.persistence.runTransaction("hasNewerBundle","readonly",Lt=>Ge.Kr.getBundleMetadata(Lt,Me.id)).then(Lt=>!!Lt&&Lt.createTime.compareTo(At)>=0)}(l.localStore,v))return yield h.close(),p._completeWith({taskState:"Success",documentsLoaded:(Te=v).totalDocuments,bytesLoaded:Te.totalBytes,totalDocuments:Te.totalDocuments,totalBytes:Te.totalBytes}),Promise.resolve(new Set);p._updateProgress(EL(v));const T=new Yj(v,l.localStore,h.serializer);let R=yield h.Ma();for(;R;){const me=yield T.ea(R);me&&p._updateProgress(me),R=yield h.Ma()}const q=yield T.complete();return yield qd(l,q.ra,void 0),yield function(Te,Me){const Ge=Wt(Te);return Ge.persistence.runTransaction("Save bundle","readwrite",At=>Ge.Kr.saveBundleMetadata(At,Me))}(l.localStore,v),p._completeWith(q.progress),Promise.resolve(q.na)}catch(v){return ts("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var Te}),function s(l,h,p){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield IO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function G4(n,e){return function S4(n,e){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(i,r){const s=Wt(i);return s.persistence.runTransaction("Get named query","readonly",l=>s.Kr.getNamedQuery(l,r))}(yield hb(n),e)}))}(Dr(n=hi(n,Xi)),e).then(t=>t?new Uo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class UA extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new sx(new vu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gc.forKey(t,this.firestore,null)}}class x2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UA(e)}get(e){const t=Xg(e);return this._delegate.get(t).then(i=>new ax(this._firestore,new Kd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Xg(e);return i?(VO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Xg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Xg(e);return this._delegate.delete(t),this}}class I2{constructor(e){this._delegate=e}set(e,t,i){const r=Xg(e);return i?(VO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Xg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Xg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new ox(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cx(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Qg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Qg(e,new UA(e),t),r.set(t,s)),s}}Qg.INSTANCES=new WeakMap;class gc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Rt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gc(t,new sr(t._delegate,i,new Zt(e)))}static forKey(e,t,i){return new gc(t,new sr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new gb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gb(this.firestore,ZL(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.m9)(e))instanceof sr&&qL(this._delegate,e)}set(e,t){t=VO("DocumentReference.set",t);try{return t?f2(this._delegate,e,t):f2(this._delegate,e)}catch(i){throw Ms(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?p2(this._delegate,e):p2(this._delegate,e,t,...i)}catch(r){throw Ms(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _6(n){return mb(hi(n.firestore,Xi),[new Ff(n._key,Qi.none())])}(this._delegate)}onSnapshot(...e){const t=T2(e),i=C2(e,r=>new ax(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return m2(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function h6(n){n=hi(n,sr);const e=hi(n.firestore,Xi),t=Dr(e),i=new Kf(e);return function T4(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(s,l,h){try{const p=yield function(T,R){const q=Wt(T);return q.persistence.runTransaction("read document","readonly",me=>q.localDocuments.getDocument(me,R))}(s,l);p.isFoundDocument()?h.resolve(p):p.isNoDocument()?h.resolve(null):h.reject(new Rt(ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=ab(p,`Failed to get document '${l} from cache`);h.reject(v)}}),function r(s,l,h){return i.apply(this,arguments)})(yield hb(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Kd(e,i,n._key,r,new Kg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function f6(n){n=hi(n,sr);const e=hi(n.firestore,Xi);return LL(Dr(e),n._key,{source:"server"}).then(t=>FO(e,n,t))}(this._delegate):function d6(n){n=hi(n,sr);const e=hi(n.firestore,Xi);return LL(Dr(e),n._key).then(t=>FO(e,n,t))}(this._delegate),t.then(i=>new ax(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new gc(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function T2(n){for(const e of n)if("object"==typeof e&&!BO(e))return e;return{}}function C2(n,e){var t,i;let r;return r=BO(n[0])?n[0]:BO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ax{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return h2(this._delegate,e._delegate)}}class cx extends ax{data(e){const t=this._delegate.data(e);return this._delegate._converter||function ik(n,e){n||sn()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UA(e)}where(e,t,i){try{return new Rs(this.firestore,qf(this._delegate,function e6(n,e,t){const i=e,r=OA("where",n);return rx._create(r,i,t)}(e,t,i)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,qf(this._delegate,function t6(n,e="asc"){const t=e,i=OA("orderBy",n);return OO._create(i,t)}(e,t)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,qf(this._delegate,function n6(n){return GL("limit",n),NA._create("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,qf(this._delegate,function i6(n){return GL("limitToLast",n),NA._create("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,qf(this._delegate,function r6(...n){return FA._create("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,qf(this._delegate,function o6(...n){return FA._create("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,qf(this._delegate,function s6(...n){return LA._create("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,qf(this._delegate,function a6(...n){return LA._create("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return DO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function m6(n){n=hi(n,Uo);const e=hi(n.firestore,Xi),t=Dr(e),i=new Kf(e);return function C4(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(s,l,h){try{const p=yield _A(s,l,!0),v=new TL(l,p.ls),T=v.ca(p.documents),R=v.applyChanges(T,!1);h.resolve(R.snapshot)}catch(p){const v=ab(p,`Failed to execute query '${l} against cache`);h.reject(v)}}),function r(s,l,h){return i.apply(this,arguments)})(yield hb(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Yf(e,i,n,r))}(this._delegate):"server"===e?.source?function g6(n){n=hi(n,Uo);const e=hi(n.firestore,Xi),t=Dr(e),i=new Kf(e);return VL(t,n._query,{source:"server"}).then(r=>new Yf(e,i,n,r))}(this._delegate):function p6(n){n=hi(n,Uo);const e=hi(n.firestore,Xi),t=Dr(e),i=new Kf(e);return s2(n._query),VL(t,n._query).then(r=>new Yf(e,i,n,r))}(this._delegate),t.then(i=>new UO(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=T2(e),i=C2(e,r=>new UO(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return m2(this._delegate,t,i)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}class H6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cx(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new H6(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new cx(this._firestore,i))})}isEqual(e){return h2(this._delegate,e._delegate)}}class gb extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gc(this.firestore,e):null}doc(e){try{return new gc(this.firestore,void 0===e?AA(this._delegate):AA(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function v6(n,e){const t=hi(n.firestore,Xi),i=AA(n),r=VA(n.converter,e);return mb(t,[RA(qg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Qi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new gc(this.firestore,t))}isEqual(e){return qL(this._delegate,e._delegate)}withConverter(e){return new gb(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}function Xg(n){return hi(n,sr)}class jO{constructor(...e){this._delegate=new Yd(...e)}static documentId(){return new jO(xi.keyField().canonicalString())}isEqual(e){return(e=(0,_e.m9)(e))instanceof Yd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function k6(){return new SO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jg(e)}static delete(){const e=function R6(){return new ex("deleteField")}();return e._methodName="FieldValue.delete",new Jg(e)}static arrayUnion(...e){const t=function P6(...n){return new Y4("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jg(t)}static arrayRemove(...e){const t=function O6(...n){return new K4("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jg(t)}static increment(e){const t=function N6(n){return new Q4("increment",n)}(e);return t._methodName="FieldValue.increment",new Jg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const z6={Firestore:E2,GeoPoint:SA,Timestamp:Ki,Blob:sx,Transaction:x2,WriteBatch:I2,DocumentReference:gc,DocumentSnapshot:ax,Query:Rs,QueryDocumentSnapshot:cx,QuerySnapshot:UO,CollectionReference:gb,FieldPath:jO,FieldValue:Jg,setLogLevel:function j6(n){!function nk(n){tl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function D2(n,e){return function W6(n,e=ue.z){return new De.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function HO(n,e){return D2(n,e).pipe((0,Xe.U)(t=>({payload:t,type:"query"})))}!function $6(n){(function G6(n,e){n.INTERNAL.registerComponent(new Es.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},z6)))})(n,(e,t)=>new E2(e,t,new U6)),n.registerVersion("@firebase/firestore-compat","0.3.23")}(ws.Z);class A2{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=O2(i,t);return new R2(r,s,this.afs)}snapshotChanges(){return function Z6(n,e){return D2(n,e).pipe((0,wt.O)(void 0),zv(),(0,Xe.U)(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ji)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Xe.U)(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return(0,ve.D)(this.ref.get(e)).pipe(ji)}}function jA(n,e){return HO(n,e).pipe((0,wt.O)(void 0),zv(),(0,Xe.U)(t=>{const[i,r]=t,s=r.payload.docChanges(),l=s.map(h=>({type:h.type,payload:h}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,p)=>{const v=s.find(R=>R.doc.ref.isEqual(h.ref)),T=i?.payload.docs.find(R=>R.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:h}})}),l}))}function S2(n,e,t){return jA(n,t).pipe(Gn((i,r)=>function q6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Y6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,qm.x)(),(0,Xe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function zO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function M2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class R2{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=jA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Xe.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe((0,wt.O)(void 0),zv(),(0,Vt.h)(([i,r])=>r.length>0||!i),(0,Xe.U)(([,i])=>i),ji)}auditTrail(e){return this.stateChanges(e).pipe(Gn((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=M2(e);return S2(this.query,t,this.afs.schedulers.outsideAngular).pipe(ji)}valueChanges(e={}){return HO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),ji)}get(e){return(0,ve.D)(this.query.get(e)).pipe(ji)}add(e){return this.ref.add(e)}doc(e){return new A2(this.ref.doc(e),this.afs)}}class K6{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Vt.h)(t=>t.length>0),ji):jA(this.query,this.afs.schedulers.outsideAngular).pipe(ji)}auditTrail(e){return this.stateChanges(e).pipe(Gn((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=M2(e);return S2(this.query,t,this.afs.schedulers.outsideAngular).pipe(ji)}valueChanges(e={}){return HO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.U)(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),ji)}get(e){return(0,ve.D)(this.query.get(e)).pipe(ji)}}const k2=new a.OlP("angularfire2.enableFirestorePersistence"),P2=new a.OlP("angularfire2.firestore.persistenceSettings"),Q6=new a.OlP("angularfire2.firestore.settings"),X6=new a.OlP("angularfire2.firestore.use-emulator");function O2(n,e=(t=>t)){return{query:e(n),ref:n}}let J6=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,s,l,h,p,v,T,R,q,me,Te,Me,Ge,At,Lt){this.schedulers=p;const pt=km(t,h,i),Bt=T;R&&Js(pt,h,q,Te,Me,Ge,me,At),[this.firestore,this.persistenceEnabled$]=Pm(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Cn=h.runOutsideAngular(()=>pt.firestore());if(s&&Cn.settings(s),Bt&&Cn.useEmulator(...Bt),r&&!(0,I.PM)(l)){const Pn=()=>{try{return(0,ve.D)(Cn.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(ni){return typeof console<"u"&&console.warn(ni),(0,pe.of)(!1)}};return[Cn,h.runOutsideAngular(Pn)]}return[Cn,(0,pe.of)(!1)]},[s,Bt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=O2(r,i),h=this.schedulers.ngZone.run(()=>s);return new R2(h,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new K6(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new A2(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(a.LFG(eu),a.LFG(ad,8),a.LFG(k2,8),a.LFG(Q6,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tv),a.LFG(P2,8),a.LFG(X6,8),a.LFG(Hh,8),a.LFG(tc,8),a.LFG(Om,8),a.LFG(Q0,8),a.LFG(jI,8),a.LFG(X0,8),a.LFG(Nm,8),a.LFG(Mm,8))};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),eH=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",Uh.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:k2,useValue:!0},{provide:P2,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({providers:[J6]})}return n})();const N2="@firebase/database";let GO="";function $O(n){GO=n}class iH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,_e.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,_e.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,_e.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const L2=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iH(e)}}catch{}return new rH},e_=L2("localStorage"),WO=L2("sessionStorage"),_b=new xs.Yd("@firebase/database"),V2=function(){let n=1;return function(){return n++}}(),B2=function(n){const e=(0,_e.dS)(n),t=new _e.gQ;t.update(e);const i=t.digest();return _e.US.encodeByteArray(i)},lx=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=lx.apply(null,i):e+="object"==typeof i?(0,_e.Wl)(i):i,e+=" "}return e};let t_=null,U2=!0;const j2=function(n,e){(0,_e.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(_b.logLevel=xs.in.VERBOSE,t_=_b.log.bind(_b),e&&WO.set("logging_enabled",!0)):"function"==typeof n?t_=n:(t_=null,WO.remove("logging_enabled"))},Io=function(...n){if(!0===U2&&(U2=!1,null===t_&&!0===WO.get("logging_enabled")&&j2(!0)),t_){const e=lx.apply(null,n);t_(e)}},ux=function(n){return function(...e){Io(n,...e)}},ZO=function(...n){const e="FIREBASE INTERNAL ERROR: "+lx(...n);_b.error(e)},yu=function(...n){const e=`FIREBASE FATAL ERROR: ${lx(...n)}`;throw _b.error(e),new Error(e)},rs=function(...n){const e="FIREBASE WARNING: "+lx(...n);_b.warn(e)},HA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Xf="[MIN_NAME]",Qd="[MAX_NAME]",n_=function(n,e){if(n===e)return 0;if(n===Xf||e===Qd)return-1;if(e===Xf||n===Qd)return 1;{const t=G2(n),i=G2(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},aH=function(n,e){return n===e?0:n<e?-1:1},dx=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,_e.Wl)(e))},qO=function(n){if("object"!=typeof n||null===n)return(0,_e.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,_e.Wl)(e[i]),t+=":",t+=qO(n[e[i]]);return t+="}",t},H2=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function To(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const z2=function(n){(0,_e.hu)(!HA(n),"Invalid JSON number");const i=1023;let r,s,l,h,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const T=v.join("");let R="";for(p=0;p<64;p+=8){let q=parseInt(T.substr(p,8),2).toString(16);1===q.length&&(q="0"+q),R+=q}return R.toLowerCase()},dH=new RegExp("^-?(0*)\\d{1,10}$"),G2=function(n){if(dH.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},vb=function(n){try{n()}catch(e){setTimeout(()=>{throw rs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},hx=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class mH{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){rs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gH{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Io("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rs(e)}}let fx=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Y2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X2="websocket",J2="long_polling";class KO{constructor(e,t,i,r,s=!1,l="",h=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=e_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&e_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function eV(n,e,t){let i;if((0,_e.hu)("string"==typeof e,"typeof type must == string"),(0,_e.hu)("object"==typeof t,"typeof params must == object"),e===X2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==J2)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _H(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return To(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class vH{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,_e.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,_e.p$)(this.counters_)}}const QO={},XO={};function JO(n){const e=n.toString();return QO[e]||(QO[e]=new vH),QO[e]}class bH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&vb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jf{constructor(e,t,i,r,s,l,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ux(e),this.stats_=JO(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),eV(t,J2,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,_e.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new e1((...s)=>{const[l,h,p,v,T]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Y2.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jf.forceAllow_=!0}static forceDisallow(){Jf.forceDisallow_=!0}static isAvailable(){return!((0,_e.Yr)()||!Jf.forceAllow_&&(Jf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,_e.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,_e.h$)(t),r=H2(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,_e.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,_e.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class e1{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,_e.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=V2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=e1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Io("frame writing exception"),h.stack&&Io(h.stack),Io(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Io("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,_e.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Io("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let GA=null;typeof MozWebSocket<"u"?GA=MozWebSocket:typeof WebSocket<"u"&&(GA=WebSocket);let yb=(()=>{class n{constructor(t,i,r,s,l,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ux(this.connId),this.stats_=JO(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const h={v:"5"};return!(0,_e.Yr)()&&typeof location<"u"&&location.hostname&&Y2.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),l&&(h.p=l),eV(t,X2,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,e_.set("previous_websocket_failure",!0);try{let r;if((0,_e.Yr)()){r={headers:{"User-Agent":`Firebase/5/${GO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new GA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==GA&&!n.forceDisallow_}static previouslyFailed(){return e_.isInMemoryStorage||!0===e_.get("previous_websocket_failure")}markConnectionHealthy(){e_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,_e.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,_e.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,_e.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=H2(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),aV=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Jf,yb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=yb&&yb.isAvailable();let r=i&&!yb.previouslyFailed();if(t.webSocketOnly&&(i||rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yb];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class pV{constructor(e,t,i,r,s,l,h,p,v,T){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ux("c:"+this.id+":"),this.transportManager_=new aV(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=hx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=dx("t",e),i=dx("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=dx("t",e),i=dx("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=dx("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?ZO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&rs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),hx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(e_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mV{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class gV{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,_e.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,_e.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $A extends gV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,_e.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $A}getInitialEvent(e){return(0,_e.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Li{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ai(){return new Li("")}function ai(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ep(n){return n.pieces_.length-n.pieceNum_}function $i(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Li(n.pieces_,e)}function n1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function px(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function yV(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Li(e,0)}function lr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Li)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Li(t,0)}function ci(n){return n.pieceNum_>=n.pieces_.length}function ks(n,e){const t=ai(n),i=ai(e);if(null===t)return e;if(t===i)return ks($i(n),$i(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function HH(n,e){const t=px(n,0),i=px(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=n_(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function r1(n,e){if(ep(n)!==ep(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function _c(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ep(n)>ep(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class zH{constructor(e,t){this.errorPrefix_=t,this.parts_=px(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,_e.ug)(this.parts_[i]);bV(this)}}function bV(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+i_(n))}function i_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class o1 extends gV{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new o1}getInitialEvent(e){return(0,_e.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mx=1e3;let ZA,r_=(()=>{class n extends mV{constructor(t,i,r,s,l,h,p,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=ux("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mx,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,_e.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");o1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$A.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,_e.Wl)(l)),(0,_e.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new _e.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,_e.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,_e.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const v=p.d,T=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==T&&this.removeListen_(r,s),t.onComplete&&t.onComplete(T,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,_e.r3)(t,"w")){const r=(0,_e.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();rs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,_e.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,_e.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,h=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,_e.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,_e.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):ZO("Unrecognized action received from server: "+(0,_e.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,_e.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mx,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=mx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mx),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,dt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,v=null;const T=function(){v?v.close():(p=!0,s())};t.realtime_={close:T,sendRequest:function(me){(0,_e.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(me)}};const q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[me,Te]=yield Promise.all([t.authTokenProvider_.getToken(q),t.appCheckTokenProvider_.getToken(q)]);p?Io("getToken() completed but was canceled"):(Io("getToken() completed. Creating connection."),t.authToken_=me&&me.accessToken,t.appCheckToken_=Te&&Te.token,v=new pV(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,Me=>{rs(Me+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(me){t.log_("Failed to get token: "+me),p||(t.repoInfo_.nodeAdmin&&rs(me),T())}}})()}interrupt(t){Io("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Io("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,_e.xb)(this.interruptReasons_)&&(this.reconnectDelay_=mx,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>qO(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Li(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Io("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Io("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,_e.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+GO.replace(/\./g,"-")]=1,(0,_e.uI)()?t["framework.cordova"]=1:(0,_e.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$A.getInstance().currentlyOnline();return(0,_e.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ui{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ui(e,t)}}class WA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ui(Xf,e),r=new ui(Xf,t);return 0!==this.compare(i,r)}minPost(){return ui.MIN}}class xV extends WA{static get __EMPTY_NODE(){return ZA}static set __EMPTY_NODE(e){ZA=e}compare(e,t){return n_(e.name,t.name)}isDefinedOn(e){throw(0,_e.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ui.MIN}maxPost(){return new ui(Qd,ZA)}makePost(e,t){return(0,_e.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new ui(e,ZA)}toString(){return".key"}}const bu=new xV;class qA{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let a1,ml=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??sa.EMPTY_NODE,this.right=l??sa.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return sa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return sa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class sa{constructor(e,t=sa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ml.BLACK,null,null))}remove(e){return new sa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ml.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qA(this.root_,null,this.comparator_,!0,e)}}function QH(n,e){return n_(n.name,e.name)}function s1(n,e){return n_(n,e)}sa.EMPTY_NODE=new class KH{copy(e,t,i,r,s){return this}insert(e,t,i){return new ml(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const IV=function(n){return"number"==typeof n?"number:"+z2(n):"string:"+n},TV=function(n){if(n.isLeafNode()){const e=n.val();(0,_e.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,_e.r3)(e,".sv"),"Priority must be a string or number.")}else(0,_e.hu)(n===a1||n.isEmpty(),"priority of unexpected type.");(0,_e.hu)(n===a1||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let CV,DV,AV,bb=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,_e.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),TV(this.priorityNode_)}static set __childrenNodeConstructor(t){CV=t}static get __childrenNodeConstructor(){return CV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ci(t)?this:".priority"===ai(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ai(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,_e.hu)(".priority"!==r||1===ep(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($i(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+IV(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?z2(this.value_):this.value_,this.lazyHash_=B2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,_e.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,_e.hu)(s>=0,"Unknown leaf type: "+i),(0,_e.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ji=new class tz extends WA{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?n_(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ui.MIN}maxPost(){return new ui(Qd,new bb("[PRIORITY-POST]",AV))}makePost(e,t){const i=DV(e);return new ui(t,new bb("[PRIORITY-POST]",i))}toString(){return".priority"}},nz=Math.log(2);class iz{constructor(e){this.count=parseInt(Math.log(e+1)/nz,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const YA=function(n,e,t,i){n.sort(e);const r=function(p,v){const T=v-p;let R,q;if(0===T)return null;if(1===T)return R=n[p],q=t?t(R):R,new ml(q,R.node,ml.BLACK,null,null);{const me=parseInt(T/2,10)+p,Te=r(p,me),Me=r(me+1,v);return R=n[me],q=t?t(R):R,new ml(q,R.node,ml.BLACK,Te,Me)}},h=function(p){let v=null,T=null,R=n.length;const q=function(Te,Me){const Ge=R-Te,At=R;R-=Te;const Lt=r(Ge+1,At),pt=n[Ge],Bt=t?t(pt):pt;me(new ml(Bt,pt.node,Me,null,Lt))},me=function(Te){v?(v.left=Te,v=Te):(T=Te,v=Te)};for(let Te=0;Te<p.count;++Te){const Me=p.nextBitIsOne(),Ge=Math.pow(2,p.count-(Te+1));Me?q(Ge,ml.BLACK):(q(Ge,ml.BLACK),q(Ge,ml.RED))}return T}(new iz(n.length));return new sa(i||e,h)};let c1;const wb={};class Xd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,_e.hu)(wb&&Ji,"ChildrenNode.ts has not been loaded"),c1=c1||new Xd({".priority":wb},{".priority":Ji}),c1}get(e){const t=(0,_e.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof sa?t:null}hasIndex(e){return(0,_e.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,_e.hu)(e!==bu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(ui.Wrap);let h,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();h=r?YA(i,e.getCompare()):wb;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const T=Object.assign({},this.indexes_);return T[p]=h,new Xd(T,v)}addToIndexes(e,t){const i=(0,_e.UI)(this.indexes_,(r,s)=>{const l=(0,_e.DV)(this.indexSet_,s);if((0,_e.hu)(l,"Missing index implementation for "+s),r===wb){if(l.isDefinedOn(e.node)){const h=[],p=t.getIterator(ui.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&h.push(v),v=p.getNext();return h.push(e),YA(h,l.getCompare())}return wb}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new ui(e.name,h))),p.insert(e,e.node)}});return new Xd(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,_e.UI)(this.indexes_,r=>{if(r===wb)return r;{const s=t.get(e.name);return s?r.remove(new ui(e.name,s)):r}});return new Xd(i,this.indexSet_)}}let gx,ti=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&TV(this.priorityNode_),this.children_.isEmpty()&&(0,_e.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gx||(gx=new n(new sa(s1),null,Xd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gx}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?gx:i}}getChild(t){const i=ai(t);return null===i?this:this.getImmediateChild(i).getChild($i(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,_e.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new ui(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?gx:this.priorityNode_;return new n(s,h,l)}}updateChild(t,i){const r=ai(t);if(null===r)return i;{(0,_e.hu)(".priority"!==ai(t)||1===ep(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild($i(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Ji,(h,p)=>{i[h]=p.val(t),r++,l&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!t&&l&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+IV(this.getPriority().val())+":"),this.forEachChild(Ji,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":B2(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new ui(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ui(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ui(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ui.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ui.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_x?-1:0}withIndex(t){if(t===bu||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===bu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ji),s=i.getIterator(Ji);let l=r.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===bu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _x=new class rz extends ti{constructor(){super(new sa(s1),ti.EMPTY_NODE,Xd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ti.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ui,{MIN:{value:new ui(Xf,ti.EMPTY_NODE)},MAX:{value:new ui(Qd,_x)}}),xV.__EMPTY_NODE=ti.EMPTY_NODE,bb.__childrenNodeConstructor=ti,function XH(n){a1=n}(_x),function ez(n){AV=n}(_x);const oz=!0;function gr(n,e=null){if(null===n)return ti.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,_e.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new bb(n,gr(e));if(n instanceof Array||!oz){let t=ti.EMPTY_NODE;return To(n,(i,r)=>{if((0,_e.r3)(n,i)&&"."!==i.substring(0,1)){const s=gr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(gr(e))}{const t=[];let i=!1;if(To(n,(l,h)=>{if("."!==l.substring(0,1)){const p=gr(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new ui(l,p)))}}),0===t.length)return ti.EMPTY_NODE;const s=YA(t,QH,l=>l.name,s1);if(i){const l=YA(t,Ji.getCompare());return new ti(s,gr(e),new Xd({".priority":l},{".priority":Ji}))}return new ti(s,gr(e),Xd.Default)}}!function JH(n){DV=n}(gr);class l1 extends WA{constructor(e){super(),this.indexPath_=e,(0,_e.hu)(!ci(e)&&".priority"!==ai(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?n_(e.name,t.name):s}makePost(e,t){const i=gr(e),r=ti.EMPTY_NODE.updateChild(this.indexPath_,i);return new ui(t,r)}maxPost(){const e=ti.EMPTY_NODE.updateChild(this.indexPath_,_x);return new ui(Qd,e)}toString(){return px(this.indexPath_,0).join("/")}}const u1=new class sz extends WA{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?n_(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ui.MIN}maxPost(){return ui.MAX}makePost(e,t){const i=gr(e);return new ui(t,i)}toString(){return".value"}};function SV(n){return{type:"value",snapshotNode:n}}function Eb(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function vx(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function yx(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class d1{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,_e.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(vx(t,h)):(0,_e.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(Eb(t,i)):l.trackChildChange(yx(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ji,(r,s)=>{t.hasChild(r)||i.trackChildChange(vx(r,s))}),t.isLeafNode()||t.forEachChild(Ji,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(yx(r,s,l))}else i.trackChildChange(Eb(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ti.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bx{constructor(e){this.indexedFilter_=new d1(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bx.getStartPost_(e),this.endPost_=bx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new ui(t,i))||(i=ti.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ti.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ti.EMPTY_NODE);const s=this;return t.forEachChild(Ji,(l,h)=>{s.matches(new ui(l,h))||(r=r.updateImmediateChild(l,ti.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class cz{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new bx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new ui(t,i))||(i=ti.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ti.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=ti.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(ti.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const h=s.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:r=r.updateImmediateChild(h.name,ti.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const R=this.index_.getCompare();l=(q,me)=>R(me,q)}else l=this.index_.getCompare();const h=e;(0,_e.hu)(h.numChildren()===this.limit_,"");const p=new ui(t,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),T=this.rangedFilter_.matches(p);if(h.hasChild(t)){const R=h.getImmediateChild(t);let q=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=q&&(q.name===t||h.hasChild(q.name));)q=r.getChildAfterChild(this.index_,q,this.reverse_);const me=null==q?1:l(q,p);if(T&&!i.isEmpty()&&me>=0)return s?.trackChildChange(yx(t,i,R)),h.updateImmediateChild(t,i);{s?.trackChildChange(vx(t,R));const Me=h.updateImmediateChild(t,ti.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(s?.trackChildChange(Eb(q.name,q.node)),Me.updateImmediateChild(q.name,q.node)):Me}}return i.isEmpty()?e:T&&l(v,p)>=0?(null!=s&&(s.trackChildChange(vx(v.name,v.node)),s.trackChildChange(Eb(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(v.name,ti.EMPTY_NODE)):e}}class KA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ji}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,_e.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,_e.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,_e.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,_e.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,_e.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ji}copy(){const e=new KA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function h1(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function f1(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function QA(n,e){const t=n.copy();return t.index_=e,t}function MV(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ji?t="$priority":n.index_===u1?t="$value":n.index_===bu?t="$key":((0,_e.hu)(n.index_ instanceof l1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,_e.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,_e.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,_e.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,_e.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,_e.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function RV(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ji&&(e.i=n.index_.toString()),e}class XA extends mV{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ux("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,_e.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=XA.getListenId_(e,i),h={};this.listens_[l]=h;const p=MV(e._queryParams);this.restRequest_(s+".json",p,(v,T)=>{let R=T;if(404===v&&(R=null,v=null),null===v&&this.onDataUpdate_(s,R,!1,i),(0,_e.DV)(this.listens_,l)===h){let q;q=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(q,null)}})}unlisten(e,t){const i=XA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=MV(e._queryParams),i=e._path.toString(),r=new _e.BH;return this.restRequest_(i+".json",t,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,_e.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,_e.cI)(h.responseText)}catch{rs("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&rs("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class pz{constructor(){this.rootNode_=ti.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function JA(){return{value:null,children:new Map}}function xb(n,e,t){if(ci(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=ai(e);n.children.has(i)||n.children.set(i,JA()),xb(n.children.get(i),e=$i(e),t)}}function p1(n,e){if(ci(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ji,(i,r)=>{xb(n,new Li(i),r)}),p1(n,e)}}if(n.children.size>0){const t=ai(e);return e=$i(e),n.children.has(t)&&p1(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function m1(n,e,t){null!==n.value?t(e,n.value):function mz(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{m1(r,new Li(e.toString()+"/"+i),t)})}class gz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&To(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class yz{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gz(e);const i=1e4+2e4*Math.random();hx(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;To(e,(r,s)=>{s>0&&(0,_e.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),hx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(wu||{});function v1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class eS{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=wu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ci(this.path)){if(null!=this.affectedTree.value)return(0,_e.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Li(e));return new eS(Ai(),t,this.revert)}}return(0,_e.hu)(ai(this.path)===e,"operationForChild called for unrelated child."),new eS($i(this.path),this.affectedTree,this.revert)}}class wx{constructor(e,t){this.source=e,this.path=t,this.type=wu.LISTEN_COMPLETE}operationForChild(e){return ci(this.path)?new wx(this.source,Ai()):new wx(this.source,$i(this.path))}}class o_{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=wu.OVERWRITE}operationForChild(e){return ci(this.path)?new o_(this.source,Ai(),this.snap.getImmediateChild(e)):new o_(this.source,$i(this.path),this.snap)}}class Ib{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=wu.MERGE}operationForChild(e){if(ci(this.path)){const t=this.children.subtree(new Li(e));return t.isEmpty()?null:t.value?new o_(this.source,Ai(),t.value):new Ib(this.source,Ai(),t)}return(0,_e.hu)(ai(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ib(this.source,$i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ci(e))return this.isFullyInitialized()&&!this.filtered_;const t=ai(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ex(n,e,t,i,r,s){const l=i.filter(h=>h.type===t);l.sort((h,p)=>function xz(n,e,t){if(null==e.childName||null==t.childName)throw(0,_e.g5)("Should only compare child_ events.");const i=new ui(e.childName,e.snapshotNode),r=new ui(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),l.forEach(h=>{const p=function Ez(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(p,n.query_))})})}function tS(n,e){return{eventCache:n,serverCache:e}}function xx(n,e,t,i){return tS(new tp(e,t,i),n.serverCache)}function PV(n,e,t,i){return tS(n.eventCache,new tp(e,t,i))}function nS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function s_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let y1;class er{constructor(e,t=(()=>(y1||(y1=new sa(aH)),y1))()){this.value=e,this.children=t}static fromObject(e){let t=new er(null);return To(e,(i,r)=>{t=t.set(new Li(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ai(),value:this.value};if(ci(e))return null;{const i=ai(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue($i(e),t);return null!=s?{path:lr(new Li(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ci(e))return this;{const t=ai(e),i=this.children.get(t);return null!==i?i.subtree($i(e)):new er(null)}}set(e,t){if(ci(e))return new er(t,this.children);{const i=ai(e),s=(this.children.get(i)||new er(null)).set($i(e),t),l=this.children.insert(i,s);return new er(this.value,l)}}remove(e){if(ci(e))return this.children.isEmpty()?new er(null):new er(null,this.children);{const t=ai(e),i=this.children.get(t);if(i){const r=i.remove($i(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new er(null):new er(this.value,s)}return this}}get(e){if(ci(e))return this.value;{const t=ai(e),i=this.children.get(t);return i?i.get($i(e)):null}}setTree(e,t){if(ci(e))return t;{const i=ai(e),s=(this.children.get(i)||new er(null)).setTree($i(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new er(this.value,l)}}fold(e){return this.fold_(Ai(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(lr(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ai(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(ci(e))return null;{const s=ai(e),l=this.children.get(s);return l?l.findOnPath_($i(e),lr(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ai(),t)}foreachOnPath_(e,t,i){if(ci(e))return this;{this.value&&i(t,this.value);const r=ai(e),s=this.children.get(r);return s?s.foreachOnPath_($i(e),lr(t,r),i):new er(null)}}foreach(e){this.foreach_(Ai(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(lr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class gl{constructor(e){this.writeTree_=e}static empty(){return new gl(new er(null))}}function Ix(n,e,t){if(ci(e))return new gl(new er(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=ks(r,e);return s=s.updateChild(l,t),new gl(n.writeTree_.set(r,s))}{const r=new er(t),s=n.writeTree_.setTree(e,r);return new gl(s)}}}function b1(n,e,t){let i=n;return To(t,(r,s)=>{i=Ix(i,lr(e,r),s)}),i}function OV(n,e){if(ci(e))return gl.empty();{const t=n.writeTree_.setTree(e,new er(null));return new gl(t)}}function w1(n,e){return null!=a_(n,e)}function a_(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ks(t.path,e)):null}function NV(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ji,(i,r)=>{e.push(new ui(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new ui(i,r.value))}),e}function np(n,e){if(ci(e))return n;{const t=a_(n,e);return new gl(null!=t?new er(t):n.writeTree_.subtree(e))}}function E1(n){return n.writeTree_.isEmpty()}function Tb(n,e){return FV(Ai(),n.writeTree_,e)}function FV(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,_e.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=FV(lr(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(lr(n,".priority"),i)),t}}function iS(n,e){return jV(e,n)}function Sz(n,e){if(n.snap)return _c(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&_c(lr(n.path,t),e))return!0;return!1}function Rz(n){return n.visible}function LV(n,e,t){let i=gl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let h;if(s.snap)_c(t,l)?(h=ks(t,l),i=Ix(i,h,s.snap)):_c(l,t)&&(h=ks(l,t),i=Ix(i,Ai(),s.snap.getChild(h)));else{if(!s.children)throw(0,_e.g5)("WriteRecord should have .snap or .children");if(_c(t,l))h=ks(t,l),i=b1(i,h,s.children);else if(_c(l,t))if(h=ks(l,t),ci(h))i=b1(i,Ai(),s.children);else{const p=(0,_e.DV)(s.children,ai(h));if(p){const v=p.getChild($i(h));i=Ix(i,Ai(),v)}}}}}return i}function VV(n,e,t,i,r){if(i||r){const s=np(n.visibleWrites,e);return!r&&E1(s)?t:r||null!=t||w1(s,Ai())?Tb(LV(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(_c(v.path,e)||_c(e,v.path))},e),t||ti.EMPTY_NODE):null}{const s=a_(n.visibleWrites,e);if(null!=s)return s;{const l=np(n.visibleWrites,e);return E1(l)?t:null!=t||w1(l,Ai())?Tb(l,t||ti.EMPTY_NODE):null}}}function rS(n,e,t,i){return VV(n.writeTree,n.treePath,e,t,i)}function x1(n,e){return function kz(n,e,t){let i=ti.EMPTY_NODE;const r=a_(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ji,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=np(n.visibleWrites,e);return t.forEachChild(Ji,(l,h)=>{const p=Tb(np(s,new Li(l)),h);i=i.updateImmediateChild(l,p)}),NV(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return NV(np(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function BV(n,e,t,i){return function Pz(n,e,t,i,r){(0,_e.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=lr(e,t);if(w1(n.visibleWrites,s))return null;{const l=np(n.visibleWrites,s);return E1(l)?r.getChild(t):Tb(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function oS(n,e){return function Nz(n,e){return a_(n.visibleWrites,e)}(n.writeTree,lr(n.treePath,e))}function I1(n,e,t){return function Oz(n,e,t,i){const r=lr(e,t),s=a_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Tb(np(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function UV(n,e){return jV(lr(n.treePath,e),n.writeTree)}function jV(n,e){return{treePath:n,writeTree:e}}class Bz{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,_e.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,_e.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,yx(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,vx(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Eb(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,_e.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,yx(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const HV=new class Uz{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class T1{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new tp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return I1(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:s_(this.viewCache_),s=function Vz(n,e,t,i,r,s){return function Fz(n,e,t,i,r,s,l){let h;const p=np(n.visibleWrites,e),v=a_(p,Ai());if(null!=v)h=v;else{if(null==t)return[];h=Tb(p,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const T=[],R=l.getCompare(),q=s?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let me=q.getNext();for(;me&&T.length<r;)0!==R(me,i)&&T.push(me),me=q.getNext();return T}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function zV(n,e,t,i,r,s){const l=e.eventCache;if(null!=oS(i,t))return e;{let h,p;if(ci(t))if((0,_e.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=s_(e),R=x1(i,v instanceof ti?v:ti.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),R,s)}else{const v=rS(i,s_(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=ai(t);if(".priority"===v){(0,_e.hu)(1===ep(t),"Can't have a priority with additional path components");const T=l.getNode();p=e.serverCache.getNode();const R=BV(i,t,T,p);h=null!=R?n.filter.updatePriority(T,R):l.getNode()}else{const T=$i(t);let R;if(l.isCompleteForChild(v)){p=e.serverCache.getNode();const q=BV(i,t,l.getNode(),p);R=null!=q?l.getNode().getImmediateChild(v).updateChild(T,q):l.getNode().getImmediateChild(v)}else R=I1(i,v,e.serverCache);h=null!=R?n.filter.updateChild(l.getNode(),v,R,T,r,s):l.getNode()}}return xx(e,h,l.isFullyInitialized()||ci(t),n.filter.filtersNodes())}}function sS(n,e,t,i,r,s,l,h){const p=e.serverCache;let v;const T=l?n.filter:n.filter.getIndexedFilter();if(ci(t))v=T.updateFullNode(p.getNode(),i,null);else if(T.filtersNodes()&&!p.isFiltered()){const me=p.getNode().updateChild(t,i);v=T.updateFullNode(p.getNode(),me,null)}else{const me=ai(t);if(!p.isCompleteForPath(t)&&ep(t)>1)return e;const Te=$i(t),Ge=p.getNode().getImmediateChild(me).updateChild(Te,i);v=".priority"===me?T.updatePriority(p.getNode(),Ge):T.updateChild(p.getNode(),me,Ge,Te,HV,null)}const R=PV(e,v,p.isFullyInitialized()||ci(t),T.filtersNodes());return zV(n,R,t,r,new T1(r,R,s),h)}function C1(n,e,t,i,r,s,l){const h=e.eventCache;let p,v;const T=new T1(r,e,s);if(ci(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,l),p=xx(e,v,!0,n.filter.filtersNodes());else{const R=ai(t);if(".priority"===R)v=n.filter.updatePriority(e.eventCache.getNode(),i),p=xx(e,v,h.isFullyInitialized(),h.isFiltered());else{const q=$i(t),me=h.getNode().getImmediateChild(R);let Te;if(ci(q))Te=i;else{const Me=T.getCompleteChild(R);Te=null!=Me?".priority"===n1(q)&&Me.getChild(yV(q)).isEmpty()?Me:Me.updateChild(q,i):ti.EMPTY_NODE}p=me.equals(Te)?e:xx(e,n.filter.updateChild(h.getNode(),R,Te,q,T,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function GV(n,e){return n.eventCache.isCompleteForChild(e)}function $V(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function D1(n,e,t,i,r,s,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=ci(t)?i:new er(null).setTree(t,i);const T=e.serverCache.getNode();return v.children.inorderTraversal((R,q)=>{if(T.hasChild(R)){const Te=$V(0,e.serverCache.getNode().getImmediateChild(R),q);p=sS(n,p,new Li(R),Te,r,s,l,h)}}),v.children.inorderTraversal((R,q)=>{const me=!e.serverCache.isCompleteForChild(R)&&null===q.value;if(!T.hasChild(R)&&!me){const Me=$V(0,e.serverCache.getNode().getImmediateChild(R),q);p=sS(n,p,new Li(R),Me,r,s,l,h)}}),p}class Yz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new d1(i.getIndex()),s=function lz(n){return n.loadsAllData()?new d1(n.getIndex()):n.hasLimit()?new cz(n):new bx(n)}(i);this.processor_=function jz(n){return{filter:n}}(s);const l=t.serverCache,h=t.eventCache,p=r.updateFullNode(ti.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(ti.EMPTY_NODE,h.getNode(),null),T=new tp(p,l.isFullyInitialized(),r.filtersNodes()),R=new tp(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=tS(R,T),this.eventGenerator_=new bz(this.query_)}get query(){return this.query_}}function Xz(n,e){const t=s_(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ci(e)&&!t.getImmediateChild(ai(e)).isEmpty())?t.getChild(e):null}function WV(n){return 0===n.eventRegistrations_.length}function ZV(n,e,t){const i=[];if(t){(0,_e.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function qV(n,e,t,i){e.type===wu.MERGE&&null!==e.source.queryId&&((0,_e.hu)(s_(n.viewCache_),"We should always have a full cache before handling merges"),(0,_e.hu)(nS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function zz(n,e,t,i,r){const s=new Bz;let l,h;if(t.type===wu.OVERWRITE){const v=t;v.source.fromUser?l=C1(n,e,v.path,v.snap,i,r,s):((0,_e.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!ci(v.path),l=sS(n,e,v.path,v.snap,i,r,h,s))}else if(t.type===wu.MERGE){const v=t;v.source.fromUser?l=function $z(n,e,t,i,r,s,l){let h=e;return i.foreach((p,v)=>{const T=lr(t,p);GV(e,ai(T))&&(h=C1(n,h,T,v,r,s,l))}),i.foreach((p,v)=>{const T=lr(t,p);GV(e,ai(T))||(h=C1(n,h,T,v,r,s,l))}),h}(n,e,v.path,v.children,i,r,s):((0,_e.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),l=D1(n,e,v.path,v.children,i,r,h,s))}else if(t.type===wu.ACK_USER_WRITE){const v=t;l=v.revert?function qz(n,e,t,i,r,s){let l;if(null!=oS(i,t))return e;{const h=new T1(i,e,r),p=e.eventCache.getNode();let v;if(ci(t)||".priority"===ai(t)){let T;if(e.serverCache.isFullyInitialized())T=rS(i,s_(e));else{const R=e.serverCache.getNode();(0,_e.hu)(R instanceof ti,"serverChildren would be complete if leaf node"),T=x1(i,R)}v=n.filter.updateFullNode(p,T,s)}else{const T=ai(t);let R=I1(i,T,e.serverCache);null==R&&e.serverCache.isCompleteForChild(T)&&(R=p.getImmediateChild(T)),v=null!=R?n.filter.updateChild(p,T,R,$i(t),h,s):e.eventCache.getNode().hasChild(T)?n.filter.updateChild(p,T,ti.EMPTY_NODE,$i(t),h,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=rS(i,s_(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=oS(i,Ai()),xx(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function Wz(n,e,t,i,r,s,l){if(null!=oS(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(ci(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return sS(n,e,t,p.getNode().getChild(t),r,s,h,l);if(ci(t)){let v=new er(null);return p.getNode().forEachChild(bu,(T,R)=>{v=v.set(new Li(T),R)}),D1(n,e,t,v,r,s,h,l)}return e}{let v=new er(null);return i.foreach((T,R)=>{const q=lr(t,T);p.isCompleteForPath(q)&&(v=v.set(T,p.getNode().getChild(q)))}),D1(n,e,t,v,r,s,h,l)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==wu.LISTEN_COMPLETE)throw(0,_e.g5)("Unknown operation type: "+t.type);l=function Zz(n,e,t,i,r){const s=e.serverCache;return zV(n,PV(e,s.getNode(),s.isFullyInitialized()||ci(t),s.isFiltered()),t,i,HV,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function Gz(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=nS(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(SV(nS(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,r,e,t,i);return function Hz(n,e){(0,_e.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,_e.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,_e.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,YV(n,s.changes,s.viewCache.eventCache.getNode(),null)}function YV(n,e,t,i){return function wz(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function az(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Ex(n,r,"child_removed",e,i,t),Ex(n,r,"child_added",e,i,t),Ex(n,r,"child_moved",s,i,t),Ex(n,r,"child_changed",e,i,t),Ex(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let aS,lS;class KV{constructor(){this.views=new Map}}function A1(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,_e.hu)(null!=s,"SyncTree gave us an op for an invalid query."),qV(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(qV(l,e,t,i));return s}}function QV(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let h=rS(t,r?i:null),p=!1;h?p=!0:i instanceof ti?(h=x1(t,i),p=!1):(h=ti.EMPTY_NODE,p=!1);const v=tS(new tp(h,p,!1),new tp(i,r,!1));return new Yz(e,v)}return l}function XV(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ip(n,e){let t=null;for(const i of n.views.values())t=t||Xz(i,e);return t}function JV(n,e){return e._queryParams.loadsAllData()?cS(n):n.views.get(e._queryIdentifier)}function eB(n,e){return null!=JV(n,e)}function rp(n){return null!=cS(n)}function cS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let c8=1;class tB{constructor(e){this.listenProvider_=e,this.syncPointTree_=new er(null),this.pendingWriteTree_=function Lz(){return{visibleWrites:gl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S1(n,e,t,i,r){return function Tz(n,e,t,i,r){(0,_e.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Ix(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Cb(n,new o_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function op(n,e,t=!1){const i=function Dz(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Az(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,_e.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&Sz(h,i.path)?r=!1:_c(i.path,h.path)&&(s=!0)),l--}return!!r&&(s?(function Mz(n){n.visibleWrites=LV(n.allWrites,Rz,Ai()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=OV(n.visibleWrites,i.path):To(i.children,p=>{n.visibleWrites=OV(n.visibleWrites,lr(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new er(null);return null!=i.snap?s=s.set(Ai(),!0):To(i.children,l=>{s=s.set(new Li(l),!0)}),Cb(n,new eS(i.path,s,t))}return[]}function Tx(n,e,t){return Cb(n,new o_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function uS(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let h=[];if(l&&("default"===e._queryIdentifier||eB(l,e))){const p=function o8(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const h=rp(n);if("default"===r)for(const[p,v]of n.views.entries())l=l.concat(ZV(v,t,i)),WV(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(l=l.concat(ZV(p,t,i)),WV(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!rp(n)&&s.push(new(function n8(){return(0,_e.hu)(aS,"Reference.ts has not been loaded"),aS}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function i8(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=p.removed;if(h=p.events,!r){const T=-1!==v.findIndex(q=>q._queryParams.loadsAllData()),R=n.syncPointTree_.findOnPath(s,(q,me)=>rp(me));if(T&&!R){const q=n.syncPointTree_.subtree(s);if(!q.isEmpty()){const me=function m8(n){return n.fold((e,t,i)=>{if(t&&rp(t))return[cS(t)];{let r=[];return t&&(r=XV(t)),To(i,(s,l)=>{r=r.concat(l)}),r}})}(q);for(let Te=0;Te<me.length;++Te){const Me=me[Te],Ge=Me.query,At=oB(n,Me);n.listenProvider_.startListening(Dx(Ge),Cx(n,Ge),At.hashFn,At.onComplete)}}}!R&&v.length>0&&!i&&(T?n.listenProvider_.stopListening(Dx(e),null):v.forEach(q=>{const me=n.queryToTagMap.get(hS(q));n.listenProvider_.stopListening(Dx(q),me)}))}!function g8(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=hS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function nB(n,e,t,i){const r=R1(n,i);if(null!=r){const s=k1(r),l=s.path,h=s.queryId,p=ks(l,e);return P1(n,l,new o_(v1(h),p,t))}return[]}function M1(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(q,me)=>{const Te=ks(q,r);s=s||ip(me,Te),l=l||rp(me)});let p,h=n.syncPointTree_.get(r);h?(l=l||rp(h),s=s||ip(h,Ai())):(h=new KV,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?p=!0:(p=!1,s=ti.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((me,Te)=>{const Me=ip(Te,Ai());Me&&(s=s.updateImmediateChild(me,Me))}));const v=eB(h,e);if(!v&&!e._queryParams.loadsAllData()){const q=hS(e);(0,_e.hu)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const me=function _8(){return c8++}();n.queryToTagMap.set(q,me),n.tagToQueryMap.set(me,q)}let R=function r8(n,e,t,i,r,s){const l=QV(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function Jz(n,e){n.eventRegistrations_.push(e)}(l,t),function e8(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ji,(s,l)=>{i.push(Eb(s,l))}),t.isFullyInitialized()&&i.push(SV(t.getNode())),YV(n,i,t.getNode(),e)}(l,t)}(h,e,t,iS(n.pendingWriteTree_,r),s,p);if(!v&&!l&&!i){const q=JV(h,e);R=R.concat(function v8(n,e,t){const i=e._path,r=Cx(n,e),s=oB(n,t),l=n.listenProvider_.startListening(Dx(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,_e.hu)(!rp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((v,T,R)=>{if(!ci(v)&&T&&rp(T))return[cS(T).query];{let q=[];return T&&(q=q.concat(XV(T).map(me=>me.query))),To(R,(me,Te)=>{q=q.concat(Te)}),q}});for(let v=0;v<p.length;++v){const T=p[v];n.listenProvider_.stopListening(Dx(T),Cx(n,T))}}return l}(n,e,q))}return R}function dS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,h)=>{const v=ip(h,ks(l,e));if(v)return v});return VV(r,e,s,t,!0)}function Cb(n,e){return iB(e,n.syncPointTree_,null,iS(n.pendingWriteTree_,Ai()))}function iB(n,e,t,i){if(ci(n.path))return rB(n,e,t,i);{const r=e.get(Ai());null==t&&null!=r&&(t=ip(r,Ai()));let s=[];const l=ai(n.path),h=n.operationForChild(l),p=e.children.get(l);if(p&&h){const v=t?t.getImmediateChild(l):null,T=UV(i,l);s=s.concat(iB(h,p,v,T))}return r&&(s=s.concat(A1(r,n,i,t))),s}}function rB(n,e,t,i){const r=e.get(Ai());null==t&&null!=r&&(t=ip(r,Ai()));let s=[];return e.children.inorderTraversal((l,h)=>{const p=t?t.getImmediateChild(l):null,v=UV(i,l),T=n.operationForChild(l);T&&(s=s.concat(rB(T,h,p,v)))}),r&&(s=s.concat(A1(r,n,i,t))),s}function oB(n,e){const t=e.query,i=Cx(n,t);return{hashFn:()=>(function Kz(n){return n.viewCache_.serverCache.getNode()}(e)||ti.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function h8(n,e,t){const i=R1(n,t);if(i){const r=k1(i),s=r.path,l=r.queryId,h=ks(s,e);return P1(n,s,new wx(v1(l),h))}return[]}(n,t._path,i):function d8(n,e){return Cb(n,new wx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function uH(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return uS(n,t,null,s)}}}}function Cx(n,e){const t=hS(e);return n.queryToTagMap.get(t)}function hS(n){return n._path.toString()+"$"+n._queryIdentifier}function R1(n,e){return n.tagToQueryMap.get(e)}function k1(n){const e=n.indexOf("$");return(0,_e.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Li(n.substr(0,e))}}function P1(n,e,t){const i=n.syncPointTree_.get(e);return(0,_e.hu)(i,"Missing sync point for query tag that we're tracking"),A1(i,t,iS(n.pendingWriteTree_,e),null)}function Dx(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function a8(){return(0,_e.hu)(lS,"Reference.ts has not been loaded"),lS}())(n._repo,n._path):n}class O1{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new O1(t)}node(){return this.node_}}class N1{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=lr(this.path_,e);return new N1(this.syncTree_,t)}node(){return dS(this.syncTree_,this.path_)}}const y8=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},sB=function(n,e,t){return n&&"object"==typeof n?((0,_e.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?b8(n[".sv"],e,t):"object"==typeof n[".sv"]?w8(n[".sv"],e):void(0,_e.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},b8=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,_e.hu)(!1,"Unexpected server value: "+n)},w8=function(n,e,t){n.hasOwnProperty("increment")||(0,_e.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,_e.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,_e.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},aB=function(n,e,t,i){return L1(e,new N1(t,n),i)},F1=function(n,e,t){return L1(n,new O1(e),t)};function L1(n,e,t){const i=n.getPriority().val(),r=sB(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,h=sB(l.getValue(),e,t);return h!==l.getValue()||r!==l.getPriority().val()?new bb(h,gr(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new bb(r))),l.forEachChild(Ji,(h,p)=>{const v=L1(p,e.getImmediateChild(h),t);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}class V1{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function fS(n,e){let t=e instanceof Li?e:new Li(e),i=n,r=ai(t);for(;null!==r;){const s=(0,_e.DV)(i.node.children,r)||{children:{},childCount:0};i=new V1(r,i,s),t=$i(t),r=ai(t)}return i}function c_(n){return n.node.value}function B1(n,e){n.node.value=e,U1(n)}function cB(n){return n.node.childCount>0}function pS(n,e){To(n.node.children,(t,i)=>{e(new V1(t,n,i))})}function lB(n,e,t,i){t&&!i&&e(n),pS(n,r=>{lB(r,e,!0,i)}),t&&i&&e(n)}function Ax(n){return new Li(null===n.parent?n.name:Ax(n.parent)+"/"+n.name)}function U1(n){null!==n.parent&&function I8(n,e,t){const i=function E8(n){return void 0===c_(n)&&!cB(n)}(t),r=(0,_e.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,U1(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,U1(n))}(n.parent,n.name,n)}const T8=/[\[\].#$\/\u0000-\u001F\u007F]/,C8=/[\[\].#$\u0000-\u001F\u007F]/,j1=10485760,mS=function(n){return"string"==typeof n&&0!==n.length&&!T8.test(n)},uB=function(n){return"string"==typeof n&&0!==n.length&&!C8.test(n)},Sx=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!HA(n)||n&&"object"==typeof n&&(0,_e.r3)(n,".sv")},Eu=function(n,e,t,i){i&&void 0===e||Mx((0,_e.gK)(n,"value"),e,t)},Mx=function(n,e,t){const i=t instanceof Li?new zH(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+i_(i));if("function"==typeof e)throw new Error(n+"contains a function "+i_(i)+" with contents = "+e.toString());if(HA(e))throw new Error(n+"contains "+e.toString()+" "+i_(i));if("string"==typeof e&&e.length>j1/3&&(0,_e.ug)(e)>j1)throw new Error(n+"contains a string greater than "+j1+" utf8 bytes "+i_(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(To(e,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!mS(l)))throw new Error(n+" contains an invalid key ("+l+") "+i_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function GH(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,_e.ug)(e),bV(n)})(i,l),Mx(n,h,i),function $H(n){const e=n.parts_.pop();n.byteLength_-=(0,_e.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+i_(i)+" in addition to actual children.")}},dB=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,_e.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];To(e,(l,h)=>{const p=new Li(l);if(Mx(r,h,lr(t,p)),".priority"===n1(p)&&!Sx(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=px(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!mS(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(HH);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&_c(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},H1=function(n,e,t){if(!t||void 0!==e){if(HA(e))throw new Error((0,_e.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sx(e))throw new Error((0,_e.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rx=function(n,e,t,i){if(!(i&&void 0===t||mS(t)))throw new Error((0,_e.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kx=function(n,e,t,i){if(!(i&&void 0===t||uB(t)))throw new Error((0,_e.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},S8=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kx(n,e,t,i)},vc=function(n,e){if(".info"===ai(e))throw new Error(n+" failed = Can't modify data under /.info/")},hB=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!mS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uB(n)}(t))throw new Error((0,_e.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class M8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!r1(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function fB(n,e,t){gS(n,t),pB(n,i=>r1(i,e))}function Ma(n,e,t){gS(n,t),pB(n,i=>_c(i,e)||_c(e,i))}function pB(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(R8(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function R8(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();t_&&Io("event: "+t.toString()),vb(i)}}}const mB="repo_interrupt",k8=25;class P8{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new M8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JA(),this.transactionQueueTree_=new V1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gB(n){const t=n.infoData_.getNode(new Li(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Px(n){return y8({timestamp:gB(n)})}function _B(n,e,t,i,r){n.dataUpdateCount++;const s=new Li(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const p=(0,_e.UI)(t,v=>gr(v));l=function f8(n,e,t,i){const r=R1(n,i);if(r){const s=k1(r),l=s.path,h=s.queryId,p=ks(l,e),v=er.fromObject(t);return P1(n,l,new Ib(v1(h),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=gr(t);l=nB(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,_e.UI)(t,v=>gr(v));l=function u8(n,e,t){const i=er.fromObject(t);return Cb(n,new Ib({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=gr(t);l=Tx(n.serverSyncTree_,s,p)}let h=s;l.length>0&&(h=Ab(n,s)),Ma(n.eventQueue_,h,l)}function vB(n,e){z1(n,"connected",e),!1===e&&function V8(n){Db(n,"onDisconnectEvents");const e=Px(n),t=JA();m1(n.onDisconnect_,Ai(),(r,s)=>{const l=aB(r,s,n.serverSyncTree_,e);xb(t,r,l)});let i=[];m1(t,Ai(),(r,s)=>{i=i.concat(Tx(n.serverSyncTree_,r,s));const l=Z1(n,r);Ab(n,l)}),n.onDisconnect_=JA(),Ma(n.eventQueue_,Ai(),i)}(n)}function z1(n,e,t){const i=new Li("/.info/"+e),r=gr(t);n.infoData_.updateSnapshot(i,r);const s=Tx(n.infoSyncTree_,i,r);Ma(n.eventQueue_,i,s)}function _S(n){return n.nextWriteId_++}function G1(n,e,t,i,r){Db(n,"set",{path:e.toString(),value:t,priority:i});const s=Px(n),l=gr(t,i),h=dS(n.serverSyncTree_,e),p=F1(l,h,s),v=_S(n),T=S1(n.serverSyncTree_,e,p,v,!0);gS(n.eventQueue_,T),n.server_.put(e.toString(),l.val(!0),(q,me)=>{const Te="ok"===q;Te||rs("set at "+e+" failed: "+q);const Me=op(n.serverSyncTree_,v,!Te);Ma(n.eventQueue_,e,Me),sp(0,r,q,me)});const R=Z1(n,e);Ab(n,R),Ma(n.eventQueue_,R,[])}function B8(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&p1(n.onDisconnect_,e),sp(0,t,i,r)})}function yB(n,e,t,i){const r=gr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&xb(n.onDisconnect_,e,r),sp(0,i,s,l)})}function $1(n,e,t){let i;i=".info"===ai(e._path)?uS(n.infoSyncTree_,e,t):uS(n.serverSyncTree_,e,t),fB(n.eventQueue_,e._path,i)}function bB(n){n.persistentConnection_&&n.persistentConnection_.interrupt(mB)}function Db(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Io(t,...e)}function sp(n,e,t,i){e&&vb(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function W1(n,e,t){return dS(n.serverSyncTree_,e,t)||ti.EMPTY_NODE}function vS(n,e=n.transactionQueueTree_){if(e||yS(n,e),c_(e)){const t=EB(n,e);(0,_e.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function $8(n,e,t){const i=t.map(v=>v.currentWriteId),r=W1(n,e,i);let s=r;const l=r.hash();for(let v=0;v<t.length;v++){const T=t[v];(0,_e.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const R=ks(e,T.path);s=s.updateChild(R,T.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,v=>{Db(n,"transaction put response",{path:p.toString(),status:v});let T=[];if("ok"===v){const R=[];for(let q=0;q<t.length;q++)t[q].status=2,T=T.concat(op(n.serverSyncTree_,t[q].currentWriteId)),t[q].onComplete&&R.push(()=>t[q].onComplete(null,!0,t[q].currentOutputSnapshotResolved)),t[q].unwatcher();yS(n,fS(n.transactionQueueTree_,e)),vS(n,n.transactionQueueTree_),Ma(n.eventQueue_,e,T);for(let q=0;q<R.length;q++)vb(R[q])}else{if("datastale"===v)for(let R=0;R<t.length;R++)t[R].status=3===t[R].status?4:0;else{rs("transaction at "+p.toString()+" failed: "+v);for(let R=0;R<t.length;R++)t[R].status=4,t[R].abortReason=v}Ab(n,e)}},l)}(n,Ax(e),t)}else cB(e)&&pS(e,t=>{vS(n,t)})}function Ab(n,e){const t=wB(n,e),i=Ax(t);return function W8(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],v=ks(t,p.path);let R,T=!1;if((0,_e.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)T=!0,R=p.abortReason,r=r.concat(op(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=k8)T=!0,R="maxretry",r=r.concat(op(n.serverSyncTree_,p.currentWriteId,!0));else{const q=W1(n,p.path,l);p.currentInputSnapshot=q;const me=e[h].update(q.val());if(void 0!==me){Mx("transaction failed: Data returned ",me,p.path);let Te=gr(me);"object"==typeof me&&null!=me&&(0,_e.r3)(me,".priority")||(Te=Te.updatePriority(q.getPriority()));const Ge=p.currentWriteId,At=Px(n),Lt=F1(Te,q,At);p.currentOutputSnapshotRaw=Te,p.currentOutputSnapshotResolved=Lt,p.currentWriteId=_S(n),l.splice(l.indexOf(Ge),1),r=r.concat(S1(n.serverSyncTree_,p.path,Lt,p.currentWriteId,p.applyLocally)),r=r.concat(op(n.serverSyncTree_,Ge,!0))}else T=!0,R="nodata",r=r.concat(op(n.serverSyncTree_,p.currentWriteId,!0))}Ma(n.eventQueue_,t,r),r=[],T&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===R?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(R),!1,null)))}yS(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)vb(i[h]);vS(n,n.transactionQueueTree_)}(n,EB(n,t),i),i}function wB(n,e){let t,i=n.transactionQueueTree_;for(t=ai(e);null!==t&&void 0===c_(i);)i=fS(i,t),t=ai(e=$i(e));return i}function EB(n,e){const t=[];return xB(n,e,t),t.sort((i,r)=>i.order-r.order),t}function xB(n,e,t){const i=c_(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);pS(e,r=>{xB(n,r,t)})}function yS(n,e){const t=c_(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,B1(e,t.length>0?t:void 0)}pS(e,i=>{yS(n,i)})}function Z1(n,e){const t=Ax(wB(n,e)),i=fS(n.transactionQueueTree_,e);return function x8(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{q1(n,r)}),q1(n,i),lB(i,r=>{q1(n,r)}),t}function q1(n,e){const t=c_(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,_e.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,_e.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(op(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?B1(e,void 0):t.length=s+1,Ma(n.eventQueue_,Ax(e),r);for(let l=0;l<i.length;l++)vb(i[l])}}const Y1=function(n,e){const t=Y8(n),i=t.namespace;return"firebase.com"===t.domain&&yu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&yu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new KO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Li(t.pathString)}},Y8=function(n){let e="",t="",i="",r="",s="",l=!0,h="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let T=n.indexOf("/");-1===T&&(T=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),e=n.substring(0,Math.min(T,R)),T<R&&(r=function Z8(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(T,R)));const q=function q8(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):rs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,R)));v=e.indexOf(":"),v>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(v+1),10)):v=e.length;const me=e.slice(0,v);if("localhost"===me.toLowerCase())t="localhost";else if(me.split(".").length<=2)t=me;else{const Te=e.indexOf(".");i=e.substring(0,Te).toLowerCase(),t=e.substring(Te+1),s=i}"ns"in q&&(s=q.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:l,scheme:h,pathString:r,namespace:s}},IB="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",K8=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=IB.charAt(t%64),t=Math.floor(t/64);(0,_e.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=IB.charAt(e[r]);return(0,_e.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class TB{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,_e.Wl)(this.snapshot.exportVal())}}class CB{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class K1{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,_e.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class DB{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new _e.BH;return B8(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){vc("OnDisconnect.remove",this._path);const e=new _e.BH;return yB(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){vc("OnDisconnect.set",this._path),Eu("OnDisconnect.set",e,this._path,!1);const t=new _e.BH;return yB(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){vc("OnDisconnect.setWithPriority",this._path),Eu("OnDisconnect.setWithPriority",e,this._path,!1),H1("OnDisconnect.setWithPriority",t,!1);const i=new _e.BH;return function U8(n,e,t,i,r){const s=gr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,h)=>{"ok"===l&&xb(n.onDisconnect_,e,s),sp(0,r,l,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){vc("OnDisconnect.update",this._path),dB("OnDisconnect.update",e,this._path,!1);const t=new _e.BH;return function j8(n,e,t,i){if((0,_e.xb)(t))return Io("onDisconnect().update() called with empty data.  Don't do anything."),void sp(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&To(t,(l,h)=>{const p=gr(h);xb(n.onDisconnect_,lr(e,l),p)}),sp(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class aa{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ci(this._path)?null:n1(this._path)}get ref(){return new yc(this._repo,this._path)}get _queryIdentifier(){const e=RV(this._queryParams),t=qO(e);return"{}"===t?"default":t}get _queryObject(){return RV(this._queryParams)}isEqual(e){if(!((e=(0,_e.m9)(e))instanceof aa))return!1;const t=this._repo===e._repo,i=r1(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jH(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function bS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ap(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===bu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Xf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Qd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Ji){if(null!=e&&!Sx(e)||null!=t&&!Sx(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,_e.hu)(n.getIndex()instanceof l1||n.getIndex()===u1,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class yc extends aa{constructor(e,t){super(e,t,new KA,!1)}get parent(){const e=yV(this._path);return null===e?null:new yc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class l_{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Li(e),i=u_(this.ref,e);return new l_(this._node.getChild(t),i,Ji)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new l_(r,u_(this.ref,i),Ji)))}hasChild(e){const t=new Li(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function AB(n,e){return(n=(0,_e.m9)(n))._checkNotDeleted("ref"),void 0!==e?u_(n._root,e):n._root}function SB(n,e){(n=(0,_e.m9)(n))._checkNotDeleted("refFromURL");const t=Y1(e,n._repo.repoInfo_.nodeAdmin);hB("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&yu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),AB(n,t.path.toString())}function u_(n,e){return null===ai((n=(0,_e.m9)(n))._path)?S8("child","path",e,!1):kx("child","path",e,!1),new yc(n._repo,lr(n._path,e))}function Q1(n,e){n=(0,_e.m9)(n),vc("set",n._path),Eu("set",e,n._path,!1);const t=new _e.BH;return G1(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function t5(n,e){dB("update",e,n._path,!1);const t=new _e.BH;return function L8(n,e,t,i){Db(n,"update",{path:e.toString(),value:t});let r=!0;const s=Px(n),l={};if(To(t,(h,p)=>{r=!1,l[h]=aB(lr(e,h),gr(p),n.serverSyncTree_,s)}),r)Io("update() called with empty data.  Don't do anything."),sp(0,i,"ok",void 0);else{const h=_S(n),p=function l8(n,e,t,i){!function Cz(n,e,t,i){(0,_e.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=b1(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=er.fromObject(t);return Cb(n,new Ib({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,h);gS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(v,T)=>{const R="ok"===v;R||rs("update at "+e+" failed: "+v);const q=op(n.serverSyncTree_,h,!R),me=q.length>0?Ab(n,e):e;Ma(n.eventQueue_,me,q),sp(0,i,v,T)}),To(t,v=>{const T=Z1(n,lr(e,v));Ab(n,T)}),Ma(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function n5(n){n=(0,_e.m9)(n);const e=new K1(()=>{}),t=new Ox(e);return function F8(n,e,t){const i=function p8(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,T)=>{const R=ks(v,t);i=i||ip(T,R)});let r=n.syncPointTree_.get(t);r?i=i||ip(r,Ai()):(r=new KV,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new tp(i,!0,!1):null;return function Qz(n){return nS(n.viewCache_)}(QV(r,e,iS(n.pendingWriteTree_,e._path),s?l.getNode():ti.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=gr(r).withIndex(e._queryParams.getIndex());let l;if(M1(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=Tx(n.serverSyncTree_,e._path,s);else{const h=Cx(n.serverSyncTree_,e);l=nB(n.serverSyncTree_,e._path,s,h)}return Ma(n.eventQueue_,e._path,l),uS(n.serverSyncTree_,e,t,null,!0),s},r=>(Db(n,"get for query "+(0,_e.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new l_(i,new yc(n._repo,n._path),n._queryParams.getIndex()))}class Ox{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new TB("value",this,new l_(e.snapshotNode,new yc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new CB(this,e,t):null}matches(e){return e instanceof Ox&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ES{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new CB(this,e,t):null}createEvent(e,t){(0,_e.hu)(null!=e.childName,"Child events should have a childName.");const i=u_(new yc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new TB(e.type,this,new l_(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ES&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nx(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,v=(T,R)=>{$1(n._repo,n,h),p(T,R)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new K1(t,s||void 0),h="value"===e?new Ox(l):new ES(e,l);return function H8(n,e,t){let i;i=".info"===ai(e._path)?M1(n.infoSyncTree_,e,t):M1(n.serverSyncTree_,e,t),fB(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>$1(n._repo,n,h)}function X1(n,e,t,i){return Nx(n,"value",e,t,i)}function MB(n,e,t,i){return Nx(n,"child_added",e,t,i)}function RB(n,e,t,i){return Nx(n,"child_changed",e,t,i)}function kB(n,e,t,i){return Nx(n,"child_moved",e,t,i)}function PB(n,e,t,i){return Nx(n,"child_removed",e,t,i)}function OB(n,e,t){let i=null;const r=t?new K1(t):null;"value"===e?i=new Ox(r):e&&(i=new ES(e,r)),$1(n._repo,n,i)}class _l{}class NB extends _l{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Eu("endAt",this._value,e._path,!0);const t=f1(e._queryParams,this._value,this._key);if(wS(t),ap(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new aa(e._repo,e._path,t,e._orderByCalled)}}class o5 extends _l{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Eu("endBefore",this._value,e._path,!1);const t=function fz(n,e,t){let i;return i=f1(n,e,n.index_===bu||t?t:Xf),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(wS(t),ap(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new aa(e._repo,e._path,t,e._orderByCalled)}}class FB extends _l{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Eu("startAt",this._value,e._path,!0);const t=h1(e._queryParams,this._value,this._key);if(wS(t),ap(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new aa(e._repo,e._path,t,e._orderByCalled)}}class c5 extends _l{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Eu("startAfter",this._value,e._path,!1);const t=function hz(n,e,t){let i;return i=h1(n,e,n.index_===bu||t?t:Qd),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(wS(t),ap(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new aa(e._repo,e._path,t,e._orderByCalled)}}class u5 extends _l{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new aa(e._repo,e._path,function uz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class h5 extends _l{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new aa(e._repo,e._path,function dz(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class p5 extends _l{constructor(e){super(),this._path=e}_apply(e){bS(e,"orderByChild");const t=new Li(this._path);if(ci(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new l1(t),r=QA(e._queryParams,i);return ap(r),new aa(e._repo,e._path,r,!0)}}class g5 extends _l{_apply(e){bS(e,"orderByKey");const t=QA(e._queryParams,bu);return ap(t),new aa(e._repo,e._path,t,!0)}}class v5 extends _l{_apply(e){bS(e,"orderByPriority");const t=QA(e._queryParams,Ji);return ap(t),new aa(e._repo,e._path,t,!0)}}class b5 extends _l{_apply(e){bS(e,"orderByValue");const t=QA(e._queryParams,u1);return ap(t),new aa(e._repo,e._path,t,!0)}}class E5 extends _l{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Eu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new NB(this._value,this._key)._apply(new FB(this._value,this._key)._apply(e))}}function vl(n,...e){let t=(0,_e.m9)(n);for(const i of e)t=i._apply(t);return t}(function t8(n){(0,_e.hu)(!aS,"__referenceConstructor has already been defined"),aS=n})(yc),function s8(n){(0,_e.hu)(!lS,"__referenceConstructor has already been defined"),lS=n}(yc);const J1={};function eN(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||yu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Io("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,l=Y1(s,r),h=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${h.namespace}`,l=Y1(s,r),h=l.repoInfo):p=!l.repoInfo.secure;const T=r&&p?new fx(fx.OWNER):new gH(n.name,n.options,e);hB("Invalid Firebase Database URL",l),ci(l.path)||yu("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function D5(n,e,t,i){let r=J1[e.name];r||(r={},J1[e.name]=r);let s=r[n.toURLString()];return s&&yu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new P8(n,false,t,i),r[n.toURLString()]=s,s}(h,n,T,new mH(n.name,t));return new S5(R,n)}class S5{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function O8(n,e,t){if(n.stats_=JO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new XA(n.repoInfo_,(i,r,s,l)=>{_B(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>vB(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,_e.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new r_(n.repoInfo_,e,(i,r,s,l)=>{_B(n,i,r,s,l)},i=>{vB(n,i)},i=>{!function N8(n,e){To(e,(t,i)=>{z1(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function yH(n,e){const t=n.toString();return XO[t]||(XO[t]=e()),XO[t]}(n.repoInfo_,()=>new yz(n.stats_,n.server_)),n.infoData_=new pz,n.infoSyncTree_=new tB({startListening:(i,r,s,l)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=Tx(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),z1(n,"connected",!1),n.serverSyncTree_=new tB({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(h,p)=>{const v=l(h,p);Ma(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yc(this._repo,Ai())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function C5(n,e){const t=J1[e];(!t||t[n.key]!==n)&&yu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),bB(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&yu("Cannot call "+e+" on a deleted database.")}}function VB(){aV.IS_TRANSPORT_INITIALIZED&&rs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function M5(){VB(),Jf.forceDisallow()}function R5(){VB(),yb.forceDisallow(),Jf.forceAllow()}function O5(n,e){j2(n,e)}const F5={".sv":"timestamp"};class B5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}r_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},r_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function N5(n){$O(Xo.SDK_VERSION),(0,Xo._registerComponent)(new Es.wA("database",(e,{instanceIdentifier:t})=>eN(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Xo.registerVersion)(N2,"1.0.2",n),(0,Xo.registerVersion)(N2,"1.0.2","esm2017")}();const z5=new xs.Yd("@firebase/database-compat"),UB=function(n){z5.warn("FIREBASE WARNING: "+n)};class W5{constructor(e){this._delegate=e}cancel(e){(0,_e.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,_e.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,_e.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,_e.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,_e.Dv)("OnDisconnect.set",1,2,arguments.length),(0,_e.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,_e.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,_e.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,_e.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,UB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,_e.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Z5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,_e.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class cp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,_e.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,_e.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,_e.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,_e.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,_e.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),kx("DataSnapshot.child","path",e,!1),new cp(this._database,this._delegate.child(e))}hasChild(e){return(0,_e.Dv)("DataSnapshot.hasChild",1,1,arguments.length),kx("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,_e.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,_e.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,_e.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new cp(this._database,t)))}hasChildren(){return(0,_e.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,_e.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,_e.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ra(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class jo{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,_e.Dv)("Query.on",2,4,arguments.length),(0,_e.Wj)("Query.on","callback",t,!1);const l=jo.getCancelAndContextArgs_("Query.on",i,r),h=(v,T)=>{t.call(l.context,new cp(this.database,v),T)};h.userCallback=t,h.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return X1(this._delegate,h,p),t;case"child_added":return MB(this._delegate,h,p),t;case"child_removed":return PB(this._delegate,h,p),t;case"child_changed":return RB(this._delegate,h,p),t;case"child_moved":return kB(this._delegate,h,p),t;default:throw new Error((0,_e.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,_e.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,_e.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,_e.Wj)("Query.off","callback",t,!0),(0,_e.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,OB(this._delegate,e,r)}else OB(this._delegate,e)}get(){return n5(this._delegate).then(e=>new cp(this.database,e))}once(e,t,i,r){(0,_e.Dv)("Query.once",1,4,arguments.length),(0,_e.Wj)("Query.once","callback",t,!0);const s=jo.getCancelAndContextArgs_("Query.once",i,r),l=new _e.BH,h=(v,T)=>{const R=new cp(this.database,v);t&&t.call(s.context,R,T),l.resolve(R)};h.userCallback=t,h.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(e){case"value":X1(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":MB(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":PB(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":RB(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":kB(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,_e.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,_e.Dv)("Query.limitToFirst",1,1,arguments.length),new jo(this.database,vl(this._delegate,function d5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new u5(n)}(e)))}limitToLast(e){return(0,_e.Dv)("Query.limitToLast",1,1,arguments.length),new jo(this.database,vl(this._delegate,function f5(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new h5(n)}(e)))}orderByChild(e){return(0,_e.Dv)("Query.orderByChild",1,1,arguments.length),new jo(this.database,vl(this._delegate,function m5(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kx("orderByChild","path",n,!1),new p5(n)}(e)))}orderByKey(){return(0,_e.Dv)("Query.orderByKey",0,0,arguments.length),new jo(this.database,vl(this._delegate,function _5(){return new g5}()))}orderByPriority(){return(0,_e.Dv)("Query.orderByPriority",0,0,arguments.length),new jo(this.database,vl(this._delegate,function y5(){return new v5}()))}orderByValue(){return(0,_e.Dv)("Query.orderByValue",0,0,arguments.length),new jo(this.database,vl(this._delegate,function w5(){return new b5}()))}startAt(e=null,t){return(0,_e.Dv)("Query.startAt",0,2,arguments.length),new jo(this.database,vl(this._delegate,function a5(n=null,e){return Rx("startAt","key",e,!0),new FB(n,e)}(e,t)))}startAfter(e=null,t){return(0,_e.Dv)("Query.startAfter",0,2,arguments.length),new jo(this.database,vl(this._delegate,function l5(n,e){return Rx("startAfter","key",e,!0),new c5(n,e)}(e,t)))}endAt(e=null,t){return(0,_e.Dv)("Query.endAt",0,2,arguments.length),new jo(this.database,vl(this._delegate,function r5(n,e){return Rx("endAt","key",e,!0),new NB(n,e)}(e,t)))}endBefore(e=null,t){return(0,_e.Dv)("Query.endBefore",0,2,arguments.length),new jo(this.database,vl(this._delegate,function s5(n,e){return Rx("endBefore","key",e,!0),new o5(n,e)}(e,t)))}equalTo(e,t){return(0,_e.Dv)("Query.equalTo",1,2,arguments.length),new jo(this.database,vl(this._delegate,function x5(n,e){return Rx("equalTo","key",e,!0),new E5(n,e)}(e,t)))}toString(){return(0,_e.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,_e.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,_e.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof jo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,_e.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,_e.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,_e.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ra(this.database,new yc(this._delegate._repo,this._delegate._path))}}class Ra extends jo{constructor(e,t){super(e,new aa(t._repo,t._path,new KA,!1)),this.database=e,this._delegate=t}getKey(){return(0,_e.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,_e.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ra(this.database,u_(this._delegate,e))}getParent(){(0,_e.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ra(this.database,e):null}getRoot(){return(0,_e.Dv)("Reference.root",0,0,arguments.length),new Ra(this.database,this._delegate.root)}set(e,t){(0,_e.Dv)("Reference.set",1,2,arguments.length),(0,_e.Wj)("Reference.set","onComplete",t,!0);const i=Q1(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,_e.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,UB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vc("Reference.update",this._delegate._path),(0,_e.Wj)("Reference.update","onComplete",t,!0);const i=t5(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,_e.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,_e.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function e5(n,e,t){if(vc("setWithPriority",n._path),Eu("setWithPriority",e,n._path,!1),H1("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new _e.BH;return G1(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,_e.Dv)("Reference.remove",0,1,arguments.length),(0,_e.Wj)("Reference.remove","onComplete",e,!0);const t=function X8(n){return vc("remove",n._path),Q1(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,_e.Dv)("Reference.transaction",1,3,arguments.length),(0,_e.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,_e.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,_e.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function U5(n,e,t){var i;if(n=(0,_e.m9)(n),vc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new _e.BH,h=X1(n,()=>{});return function G8(n,e,t,i,r,s){Db(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:V2(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=W1(n,e,void 0);l.currentInputSnapshot=h;const p=l.update(h.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Mx("transaction failed: Data returned ",p,l.path),l.status=0;const v=fS(n.transactionQueueTree_,e),T=c_(v)||[];let R;T.push(l),B1(v,T),"object"==typeof p&&null!==p&&(0,_e.r3)(p,".priority")?(R=(0,_e.DV)(p,".priority"),(0,_e.hu)(Sx(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(dS(n.serverSyncTree_,e)||ti.EMPTY_NODE).getPriority().val();const q=Px(n),me=gr(p,R),Te=F1(me,h,q);l.currentOutputSnapshotRaw=me,l.currentOutputSnapshotResolved=Te,l.currentWriteId=_S(n);const Me=S1(n.serverSyncTree_,e,Te,l.currentWriteId,l.applyLocally);Ma(n.eventQueue_,e,Me),vS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,v,T)=>{let R=null;p?s.reject(p):(R=new l_(T,new yc(n._repo,n._path),Ji),s.resolve(new B5(v,R)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Z5(s.committed,new cp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,_e.Dv)("Reference.setPriority",1,2,arguments.length),(0,_e.Wj)("Reference.setPriority","onComplete",t,!0);const i=function J8(n,e){n=(0,_e.m9)(n),vc("setPriority",n._path),H1("setPriority",e,!1);const t=new _e.BH;return G1(n._repo,lr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,_e.Dv)("Reference.push",0,2,arguments.length),(0,_e.Wj)("Reference.push","onComplete",t,!0);const i=function Q8(n,e){n=(0,_e.m9)(n),vc("push",n._path),Eu("push",e,n._path,!0);const t=gB(n._repo),i=K8(t),r=u_(n,i),s=u_(n,i);let l;return l=null!=e?Q1(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Ra(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new Ra(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return vc("Reference.onDisconnect",this._delegate._path),new W5(new DB(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Fx{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:M5,forceLongPolling:R5}}useEmulator(e,t,i={}){!function BB(n,e,t,i={}){(n=(0,_e.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&yu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&yu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fx(fx.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,_e.Sg)(i.mockUserToken,n.app.options.projectId);s=new fx(l)}!function T5(n,e,t,i){n.repoInfo_=new KO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,_e.Dv)("database.ref",0,1,arguments.length),e instanceof Ra){const t=SB(this._delegate,e.toString());return new Ra(this,t)}{const t=AB(this._delegate,e);return new Ra(this,t)}}refFromURL(e){(0,_e.Dv)("database.refFromURL",1,1,arguments.length);const i=SB(this._delegate,e);return new Ra(this,i)}goOffline(){return(0,_e.Dv)("database.goOffline",0,0,arguments.length),function k5(n){(n=(0,_e.m9)(n))._checkNotDeleted("goOffline"),bB(n._repo)}(this._delegate)}goOnline(){return(0,_e.Dv)("database.goOnline",0,0,arguments.length),function P5(n){(n=(0,_e.m9)(n))._checkNotDeleted("goOnline"),function z8(n){n.persistentConnection_&&n.persistentConnection_.resume(mB)}(n._repo)}(this._delegate)}}Fx.ServerValue={TIMESTAMP:function L5(){return F5}(),increment:n=>function V5(n){return{".sv":{increment:n}}}(n)};var Y5=Object.freeze({__proto__:null,initStandalone:function q5({app:n,url:e,version:t,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:l=!1}){$O(t);const h=new Es.H0("database-standalone"),p=new Es.zt("auth-internal",h);let v;return p.setComponent(new Es.wA("auth-internal",()=>i,"PRIVATE")),r&&(v=new Es.zt("app-check-internal",h),v.setComponent(new Es.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new Fx(eN(n,p,v,e,l),n),namespace:s}}});const K5=Fx.ServerValue;function Lx(n,e,t="on",i=ue.z){return new De.y(r=>{let s=null;return s=n[t](e,(l,h)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Xe.U)(r=>{const{snapshot:s,prevKey:l}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:l,key:h}}),(0,Qp.B)())}function jB(n){return null==n}function HB(n){return"function"==typeof n.set}function zB(n,e){return HB(e)?e:n.ref(e)}function GB(n,e){if(function X5(n){return"string"==typeof n}(n))return e.stringCase();if(HB(n))return e.firebaseCase();if(function J5(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function $B(n){return(jB(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function WB(n,e,t){const i=(e=$B(e)).map(r=>Lx(n,r,"on",t));return(0,bs.T)(...i)}function ZB(n,e){return function(i,r){return GB(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function iG(n){return function(t){return t?GB(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function qB(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function sG(n,e){const{payload:t,prevKey:i,key:r}=e,s=qB(n,r),l=function oG(n,e){if(jB(e))return 0;{const t=qB(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload?.exists()){let h=null;e.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1)(n[s-1]?.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(l,0,e);else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,h),n}return n;default:return n}}function YB(n,e,t){return function rG(n,e,t){return Lx(n,"value","once",t).pipe((0,xt.w)(i=>{const r=[(0,pe.of)(i)];return e.forEach(s=>r.push(Lx(n,s,"on",t))),(0,bs.T)(...r).pipe(Gn(sG,[]))}),(0,qm.x)())}(n,e=$B(e),t)}function KB(n,e){return function(){return Lx(n,"value","on",e)}}!function Q5(n){n.INTERNAL.registerComponent(new Es.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Fx(r,i)},"PUBLIC").setServiceProps({Reference:Ra,Query:jo,Database:Fx,DataSnapshot:cp,enableLogging:O5,INTERNAL:Y5,ServerValue:K5}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.2")}(ws.Z);const lG=new a.OlP("angularfire2.realtimeDatabaseURL"),uG=new a.OlP("angularfire2.database.use-emulator");let dG=(()=>{class n{schedulers;database;constructor(t,i,r,s,l,h,p,v,T,R,q,me,Te,Me,Ge){this.schedulers=h;const At=p,Lt=km(t,l,i);v&&Js(Lt,l,T,q,me,Te,R,Me),this.database=Pm(`${Lt.name}.database.${r}`,"AngularFireDatabase",Lt.name,()=>{const pt=l.runOutsideAngular(()=>Lt.database(r||void 0));return At&&pt.useEmulator(...At),pt},[At])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>zB(this.database,t));let s=r;return i&&(s=i(r)),function aG(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:ZB(i,"update"),set:ZB(i,"set"),push:r=>i.push(r),remove:iG(i),snapshotChanges:r=>YB(n,r,t).pipe(ji),stateChanges:r=>WB(n,r,t).pipe(ji),auditTrail:r=>function eG(n,e,t){return function nG(n,e,t){return function tG(n,e){return Lx(n,"value","on",e).pipe((0,Xe.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function tH(...n){const e=(0,Lc.jO)(n);return(0,ke.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Ln.Xf)(n[p]).subscribe((0,Oe.x)(i,v=>{s[p]=v,!h&&!l[p]&&(l[p]=!0,(h=l.every(Rn.y))&&(l=null))},Se.Z));t.subscribe((0,Oe.x)(i,p=>{if(h){const v=[p,...s];i.next(e?e(...v):v)}}))})}(e),(0,Xe.U)(([r,s])=>{const l=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:h}}),function nH(n){return(0,ke.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Oe.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Xe.U)(r=>r.actions))}(n,WB(n,e).pipe(Gn((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(ji),valueChanges:(r,s)=>YB(n,r,t).pipe((0,Xe.U)(h=>h.map(p=>s&&s.idField?{...p.payload.val(),[s.idField]:p.key}:p.payload.val())),ji)}}(s,this)}object(t){return function cG(n,e){return{query:n,snapshotChanges:()=>KB(n,e.schedulers.outsideAngular)().pipe(ji),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>KB(n,e.schedulers.outsideAngular)().pipe(ji,(0,Xe.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zB(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(a.LFG(eu),a.LFG(ad,8),a.LFG(lG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tv),a.LFG(uG,8),a.LFG(Hh,8),a.LFG(tc,8),a.LFG(Om,8),a.LFG(Q0,8),a.LFG(jI,8),a.LFG(X0,8),a.LFG(Nm,8),a.LFG(Mm,8))};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),hG=(()=>{class n{constructor(){ws.Z.registerVersion("angularfire",Uh.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({providers:[dG]})}return n})();const fG_firebase={apiKey:"AIzaSyC7ntH6tePwU6p2mEXx4drebL-GiVc7BZQ",authDomain:"fronttiakpalo2.firebaseapp.com",projectId:"fronttiakpalo2",storageBucket:"fronttiakpalo2.appspot.com",messagingSenderId:"851800901934",appId:"1:851800901934:web:151bd2f380e0d43cbe12bf",measurementId:"G-3S74CWXC0X"};let QB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n})}return n})(),d_=(()=>{class n extends QB{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})();const Ps=new a.OlP("NgValueAccessor"),mG={provide:Ps,useExisting:(0,a.Gpc)(()=>lp),multi:!0},_G=new a.OlP("CompositionEventMode");let lp=(()=>{class n extends QB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gG(){const n=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(_G,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([mG]),a.qOj]})}return n})();function up(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function JB(n){return null!=n&&"number"==typeof n.length}const Co=new a.OlP("NgValidators"),dp=new a.OlP("NgAsyncValidators"),vG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kr{static min(e){return function eU(n){return e=>{if(up(e.value)||up(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function tU(n){return e=>{if(up(e.value)||up(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return nU(e)}static requiredTrue(e){return iU(e)}static email(e){return function rU(n){return up(n.value)||vG.test(n.value)?null:{email:!0}}(e)}static minLength(e){return oU(e)}static maxLength(e){return function sU(n){return e=>JB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return aU(e)}static nullValidator(e){return null}static compose(e){return fU(e)}static composeAsync(e){return pU(e)}}function nU(n){return up(n.value)?{required:!0}:null}function iU(n){return!0===n.value?null:{required:!0}}function oU(n){return e=>up(e.value)||!JB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function aU(n){if(!n)return xS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(up(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function xS(n){return null}function cU(n){return null!=n}function lU(n){return(0,a.QGY)(n)?(0,ve.D)(n):n}function uU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function dU(n,e){return e.map(t=>t(n))}function hU(n){return n.map(e=>function yG(n){return!n.validate}(e)?e:t=>e.validate(t))}function fU(n){if(!n)return null;const e=n.filter(cU);return 0==e.length?null:function(t){return uU(dU(t,e))}}function tN(n){return null!=n?fU(hU(n)):null}function pU(n){if(!n)return null;const e=n.filter(cU);return 0==e.length?null:function(t){return t0(dU(t,e).map(lU)).pipe((0,Xe.U)(uU))}}function nN(n){return null!=n?pU(hU(n)):null}function mU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gU(n){return n._rawValidators}function _U(n){return n._rawAsyncValidators}function iN(n){return n?Array.isArray(n)?n:[n]:[]}function IS(n,e){return Array.isArray(n)?n.includes(e):n===e}function vU(n,e){const t=iN(e);return iN(n).forEach(r=>{IS(t,r)||t.push(r)}),t}function yU(n,e){return iN(e).filter(t=>!IS(n,t))}class bU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Os extends bU{get formDirective(){return null}get path(){return null}}class Jd extends bU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sb=(()=>{class n extends wU{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Jd,2))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]})}return n})(),TS=(()=>{class n extends wU{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Os,10))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]})}return n})();const Vx="VALID",DS="INVALID",Mb="PENDING",Bx="DISABLED";function sN(n){return(AS(n)?n.validators:n)||null}function aN(n,e){return(AS(e)?e.asyncValidators:n)||null}function AS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class TU{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vx}get invalid(){return this.status===DS}get pending(){return this.status==Mb}get disabled(){return this.status===Bx}get enabled(){return this.status!==Bx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yU(e,this._rawAsyncValidators))}hasValidator(e){return IS(this._rawValidators,e)}hasAsyncValidator(e){return IS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bx,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vx,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vx||this.status===Mb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bx:Vx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mb,this._hasOwnPendingAsyncValidator=!0;const t=lU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Bx:this.errors?DS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mb)?Mb:this._anyControlsHaveStatus(DS)?DS:Vx}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function xG(n){return Array.isArray(n)?tN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function IG(n){return Array.isArray(n)?nN(n):n||null}(this._rawAsyncValidators)}}class SS extends TU{constructor(e,t,i){super(sN(t),aN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function IU(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function xU(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const h_=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ux}),Ux="always";function MS(n,e){return[...e.path,n]}function jx(n,e,t=Ux){cN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function DG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CU(n,e)})}(n,e),function SG(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function AG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function CG(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function RS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),PS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cN(n,e){const t=gU(n);null!==e.validator?n.setValidators(mU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=_U(n);null!==e.asyncValidator?n.setAsyncValidators(mU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();kS(e._rawValidators,r),kS(e._rawAsyncValidators,r)}function PS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=gU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=_U(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return kS(e._rawValidators,i),kS(e._rawAsyncValidators,i),t}function CU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function DU(n,e){cN(n,e)}function uN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function AU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===lp?t=s:function kG(n){return Object.getPrototypeOf(n.constructor)===d_}(s)?i=s:r=s}),r||i||t||null}const OG={provide:Os,useExisting:(0,a.Gpc)(()=>Rb)},Hx=(()=>Promise.resolve())();let Rb=(()=>{class n extends Os{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new SS({},tN(t),nN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hx.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),jx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hx.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hx.then(()=>{const i=this._findContainer(t.path),r=new SS({});DU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hx.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Hx.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,AU(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Co,10),a.Y36(dp,10),a.Y36(h_,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([OG]),a.qOj]})}return n})();function SU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function MU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xu=class extends TU{constructor(e=null,t,i){super(sN(t),aN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=MU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){MU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},LG={provide:Jd,useExisting:(0,a.Gpc)(()=>kb)},PU=(()=>Promise.resolve())();let kb=(()=>{class n extends Jd{constructor(t,i,r,s,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new xu,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dN(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,a.VuI)(i);PU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?MS(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Os,9),a.Y36(Co,10),a.Y36(dp,10),a.Y36(Ps,10),a.Y36(a.sBO,8),a.Y36(h_,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([LG]),a.qOj,a.TTD]})}return n})(),OS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),NU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const hN=new a.OlP("NgModelWithFormControlWarning"),zG={provide:Os,useExisting:(0,a.Gpc)(()=>zx)};let zx=(()=>{class n extends Os{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return jx(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){RS(t.control||null,t,!1),function PG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,AU(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(RS(i||null,t),(n=>n instanceof xu)(r)&&(jx(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);DU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function MG(n,e){return PS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cN(this.form,this),this._oldForm&&PS(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Co,10),a.Y36(dp,10),a.Y36(h_,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([zG]),a.qOj,a.TTD]})}return n})();const WG={provide:Jd,useExisting:(0,a.Gpc)(()=>mN)};let mN=(()=>{class n extends Jd{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dN(0,s)}ngOnChanges(t){this._added||this._setUpControl(),uN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return MS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.Y36(Os,13),a.Y36(Co,10),a.Y36(dp,10),a.Y36(Ps,10),a.Y36(hN,8))};static#n=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([WG]),a.qOj,a.TTD]})}return n})();let f_=(()=>{class n{constructor(){this._validator=xS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):xS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,features:[a.TTD]})}return n})();const t$={provide:Co,useExisting:(0,a.Gpc)(()=>Pb),multi:!0},n$={provide:Co,useExisting:(0,a.Gpc)(()=>NS),multi:!0};let Pb=(()=>{class n extends f_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=t=>nU}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([t$]),a.qOj]})}return n})(),NS=(()=>{class n extends Pb{constructor(){super(...arguments),this.createValidator=t=>iU}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&a.uIk("required",r._enabled?"":null)},features:[a._Bn([n$]),a.qOj]})}return n})();const r$={provide:Co,useExisting:(0,a.Gpc)(()=>FS),multi:!0};let FS=(()=>{class n extends f_{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function HU(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>oU(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&a.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([r$]),a.qOj]})}return n})();const s$={provide:Co,useExisting:(0,a.Gpc)(()=>LS),multi:!0};let LS=(()=>{class n extends f_{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>aU(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&a.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[a._Bn([s$]),a.qOj]})}return n})(),qU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[NU]})}return n})(),c$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:h_,useValue:t.callSetDisabledState??Ux}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[qU]})}return n})(),l$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:h_,useValue:t.callSetDisabledState??Ux}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[qU]})}return n})();const u$=["knob"],d$=["valueIndicatorContainer"];function h$(n,e){if(1&n&&(a.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),a._uU(4),a.qZA()()()),2&n){const t=a.oxw();a.xp6(4),a.Oqu(t.valueIndicatorText)}}const f$=["trackActive"];function p$(n,e){if(1&n&&a._UZ(0,"div"),2&n){const t=e.$implicit,i=e.index,r=a.oxw(3);a.Tol(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),a.Udp("transform",r._calcTickMarkTransform(i))}}function m$(n,e){if(1&n&&(a.ynx(0),a.YNc(1,p$,1,4,"div",11),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t._tickMarks)}}function g$(n,e){if(1&n&&(a.TgZ(0,"div",8,9),a.YNc(2,m$,2,1,"ng-container",10),a.qZA()),2&n){const t=a.oxw();a.xp6(2),a.Q6J("ngIf",t._cachedWidth)}}function _$(n,e){if(1&n&&a._UZ(0,"mat-slider-visual-thumb",7),2&n){const t=a.oxw();a.Q6J("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const v$=["*"],VS=new a.OlP("_MatSlider"),YU=new a.OlP("_MatSliderThumb"),KU=new a.OlP("_MatSliderRangeThumb"),QU=new a.OlP("_MatSliderVisualThumb");let y$=(()=>{class n{constructor(t,i,r,s){this._cdr=t,this._ngZone=i,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=l=>{if(this._sliderInput._isFocused)return;const h=this._hostElement.getBoundingClientRect(),p=this._slider._isCursorOnSliderThumb(l,h);this._isHovered=p,p?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=l=>{0===l.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(VS))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(a.Gf(pn.wG,5),a.Gf(u$,5),a.Gf(d$,5)),2&i){let s;a.iGM(s=a.CRH())&&(r._ripple=s.first),a.iGM(s=a.CRH())&&(r._knob=s.first),a.iGM(s=a.CRH())&&(r._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[a._Bn([{provide:QU,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(a.YNc(0,h$,5,1,"div",0),a._UZ(1,"div",1,2)(3,"div",3)),2&i&&(a.Q6J("ngIf",r.discrete),a.xp6(3),a.Q6J("matRippleDisabled",!0))},dependencies:[I.O5,pn.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return n})();const b$=(0,pn.pj)((0,pn.Kr)(class{constructor(n){this._elementRef=n}}),"primary");let vN=(()=>{class n extends b${get disabled(){return this._disabled}set disabled(t){this._disabled=(0,on.Ig)(t);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=(0,on.Ig)(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=(0,on.Ig)(t)}get min(){return this._min}set min(t){const i=(0,on.su)(t,this._min);this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,l=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),s!==i.value&&this._onValueChange(i),l!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=(0,on.su)(t,this._max);this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(2),r=this._getInput(1),s=i.value,l=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==i.value&&this._onValueChange(i),l!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=(0,on.su)(t,this._step);this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),i=this._getInput(1),r=t.value,s=i.value,l=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<l?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),s!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(2);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,s,l,h){super(r),this._ngZone=t,this._cdr=i,this._dir=s,this._globalRippleOptions=l,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=p=>`${p}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,a.f3M)(xr.t4),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===h,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),i=this._getInput(1);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),i=this._getInput(1);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),i=this._getInput(1);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),i=this._getInput(2);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),i=this._getInput(1);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/t),0),s=Math.max(Math.round((this.max-i)/t),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(1),s=Math.max(Math.floor((r-this.min)/t),0),l=Math.max(Math.floor((i-r)/t)+1,0),h=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(s).fill(1).concat(Array(l).fill(0),Array(h).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const r=i.width/2,p=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(p,2)<Math.pow(r,2)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(nd.Is,8),a.Y36(pn.Y2,8),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slider"]],contentQueries:function(i,r,s){if(1&i&&(a.Suo(s,YU,5),a.Suo(s,KU,4)),2&i){let l;a.iGM(l=a.CRH())&&(r._input=l.first),a.iGM(l=a.CRH())&&(r._inputs=l)}},viewQuery:function(i,r){if(1&i&&(a.Gf(f$,5),a.Gf(QU,5)),2&i){let s;a.iGM(s=a.CRH())&&(r._trackActive=s.first),a.iGM(s=a.CRH())&&(r._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(i,r){2&i&&a.ekj("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[a._Bn([{provide:VS,useExisting:n}]),a.qOj],ngContentSelectors:v$,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(i,r){1&i&&(a.F$t(),a.Hsn(0),a.TgZ(1,"div",0),a._UZ(2,"div",1),a.TgZ(3,"div",2),a._UZ(4,"div",3,4),a.qZA(),a.YNc(6,g$,3,1,"div",5),a.qZA(),a.YNc(7,_$,1,3,"mat-slider-visual-thumb",6),a._UZ(8,"mat-slider-visual-thumb",7)),2&i&&(a.xp6(6),a.Q6J("ngIf",r.showTickMarks),a.xp6(1),a.Q6J("ngIf",r._isRange),a.xp6(1),a.Q6J("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[I.sg,I.O5,y$],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();const E$={provide:Ps,useExisting:(0,a.Gpc)(()=>Gx),multi:!0};let Gx=(()=>{class n{get value(){return(0,on.su)(this._hostElement.value)}set value(t){const i=(0,on.su)(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return(0,on.su)(this._hostElement.min)}set min(t){this._hostElement.min=(0,on.su)(t).toString(),this._cdr.detectChanges()}get max(){return(0,on.su)(this._hostElement.max)}set max(t){this._hostElement.max=(0,on.su)(t).toString(),this._cdr.detectChanges()}get step(){return(0,on.su)(this._hostElement.step)}set step(t){this._hostElement.step=(0,on.su)(t).toString(),this._cdr.detectChanges()}get disabled(){return(0,on.Ig)(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=(0,on.Ig)(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,s){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=s,this.valueChange=new a.vpe,this.dragStart=new a.vpe,this.dragEnd=new a.vpe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new zt.x,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,a.f3M)(xr.t4),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,l=Math.floor((this._slider.max-this._slider.min)/s),v=Math.round((this._slider._isRtl?1-i/r:i/r)*l)/l*(this._slider.max-this._slider.min)+this._slider.min,T=Math.round(v/s)*s;if(T===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=T,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(VS))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&a.NdJ("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&a.uIk("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[a._Bn([E$,{provide:YU,useExisting:n}])]})}return n})(),T$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,I.ez,pn.si]})}return n})(),C$=(()=>{class n{constructor(){this.komponenttiTitle="Ensimm\xe4inen harjoitus"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-komponentti"]],decls:10,vars:1,consts:[["mat-raised-button","","color","warn"],["mat-button","","color","primary"],["matSliderThumb",""]],template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"komponentti works!"),a.qZA(),a.TgZ(2,"h1"),a._uU(3),a.qZA(),a.TgZ(4,"button",0),a._uU(5,"Warn"),a.qZA(),a.TgZ(6,"button",1),a._uU(7,"Primary"),a.qZA(),a.TgZ(8,"mat-slider"),a._UZ(9,"input",2),a.qZA()),2&i&&(a.xp6(3),a.Oqu(r.komponenttiTitle))},dependencies:[Mo.lW,vN,Gx]})}return n})();var D$=y(4851);class yN{constructor(e){this.questionTxt=e,this.feedback="Ei viel\xe4 arvioitu"}setFeedback(e){console.log(e),this.feedback=0==e?"En osaa sanoa":1==e?"Huono":2==e?"Ok":3==e?"Hyv\xe4":"Ei viel\xe4 arvioitu"}}let XU=(()=>{class n{constructor(){}getQuestions(){return[new yN("Mit\xe4 pidit kurssista - Tietokannat?"),new yN("Mit\xe4 pidit kurssista - Prosessilouhinta?"),new yN("Mit\xe4 pidit kurssista - Svenska i arbetslivet?")]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function A$(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"mat-slider",4),a.NdJ("input",function(r){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onInputChange(r,l))}),a._UZ(4,"input",5),a.qZA(),a.TgZ(5,"h3"),a._uU(6),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.questionTxt),a.xp6(4),a.Oqu(t.feedback)}}let S$=(()=>{class n{constructor(t){this.dataService=t,this.questions=[],this.feedbackTitle="Palautesivu",this.feedbackInstructions="HUOM. Jos et osaa sanoa mielipidett\xe4 kurssista, vie arviosi nollaan.",this.dataService.getQuestions(),this.questions=this.dataService.getQuestions()}onInputChange(t,i){i.setFeedback(t.target.value)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(XU))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-feedback"]],decls:8,vars:3,consts:[[1,"container"],[1,"title"],[1,"feedback-container"],[4,"ngFor","ngForOf"],["min","0","max","3","step","1","showTickMarks","","discrete","",3,"input"],["matSliderThumb",""]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h1"),a._uU(3),a.qZA(),a.TgZ(4,"h4"),a._uU(5),a.qZA()(),a.TgZ(6,"div",2),a.YNc(7,A$,7,2,"div",3),a.qZA()()),2&i&&(a.xp6(3),a.Oqu(r.feedbackTitle),a.xp6(2),a.Oqu(r.feedbackInstructions),a.xp6(2),a.Q6J("ngForOf",r.questions))},dependencies:[I.sg,vN,Gx],styles:[".title[_ngcontent-%COMP%]{text-align:center;padding-bottom:50px}.container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:100px}"]})}return n})();class M${constructor(){this.firstName="",this.lastName="",this.id="",this.email="",this.userName="",this.passWord="",this.passWord_2="",this.termsAndConditions=!1}}const R$=["input"],k$=["label"],P$=["*"],O$=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:JU});function JU(){return{color:"accent",clickAction:"check-indeterminate"}}const N$={provide:Ps,useExisting:(0,a.Gpc)(()=>bN),multi:!0};class F${}let L$=0;const e3=JU(),V$=(0,pn.sb)((0,pn.pj)((0,pn.Kr)((0,pn.Id)(class{constructor(n){this._elementRef=n}}))));let B$=(()=>{class n extends V${get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=(0,on.Ig)(t)}constructor(t,i,r,s,l,h,p){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=h,this._options=p,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||e3,this.color=this.defaultColor=this._options.color||e3.color,this.tabIndex=parseInt(l)||0,this.id=this._uniqueId=`${t}${++L$}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=(0,on.Ig)(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=(0,on.Ig)(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=(0,on.Ig)(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,viewQuery:function(i,r){if(1&i&&(a.Gf(R$,5),a.Gf(k$,5),a.Gf(pn.wG,5)),2&i){let s;a.iGM(s=a.CRH())&&(r._inputElement=s.first),a.iGM(s=a.CRH())&&(r._labelElement=s.first),a.iGM(s=a.CRH())&&(r.ripple=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]})}return n})(),bN=(()=>{class n extends B${constructor(t,i,r,s,l,h){super("mat-mdc-checkbox-",t,i,r,s,l,h),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new F$;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(O$,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([N$]),a.qOj],ngContentSelectors:P$,decls:15,vars:20,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(l){return r._preventBubblingFromLabel(l)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return r._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(l){return r._onInteractionEvent(l)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&i){const s=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",r.checked),a.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),a.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),a.xp6(7),a.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",r.inputId)}},dependencies:[pn.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();const U$={provide:Co,useExisting:(0,a.Gpc)(()=>t3),multi:!0};let t3=(()=>{class n extends NS{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[a._Bn([U$]),a.qOj]})}return n})(),n3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),j$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,pn.si,n3,pn.BQ,n3]})}return n})();class H${constructor(e){this._box=e,this._destroyed=new zt.x,this._resizeSubject=new zt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new De.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe((0,Vt.h)(t=>t.some(i=>i.target===e)),Cv({bufferSize:1,refCount:!0}),(0,Vr.R)(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let z$=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new H$(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G$=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[G$]})}return n})();const W$=["notch"],Z$=["matFormFieldNotchedOutline",""],q$=["*"],Y$=["textField"],K$=["iconPrefixContainer"],Q$=["textPrefixContainer"];function X$(n,e){1&n&&a._UZ(0,"span",19)}function J$(n,e){if(1&n&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,X$,1,0,"span",18),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),a.uIk("for",t._control.id),a.xp6(2),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function e9(n,e){if(1&n&&a.YNc(0,J$,3,5,"label",16),2&n){const t=a.oxw();a.Q6J("ngIf",t._hasFloatingLabel())}}function t9(n,e){1&n&&a._UZ(0,"div",20)}function n9(n,e){}function i9(n,e){if(1&n&&a.YNc(0,n9,0,0,"ng-template",22),2&n){a.oxw(2);const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function r9(n,e){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,i9,1,1,"ng-template",9),a.qZA()),2&n){const t=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function o9(n,e){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function s9(n,e){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function a9(n,e){}function c9(n,e){if(1&n&&a.YNc(0,a9,0,0,"ng-template",22),2&n){a.oxw();const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function l9(n,e){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function u9(n,e){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function d9(n,e){1&n&&a._UZ(0,"div",29)}function h9(n,e){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function f9(n,e){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function p9(n,e){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,f9,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const m9=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],g9=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let $x=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]})}return n})(),_9=0;const r3=new a.OlP("MatError");let wN=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+_9++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(a.$8M("aria-live"),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&a.Ikx("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:r3,useExisting:n}])]})}return n})(),v9=0,o3=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+v9++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const y9=new a.OlP("MatPrefix"),b9=new a.OlP("MatSuffix"),s3=new a.OlP("FloatingLabelParent");let a3=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(z$),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)(s3),this._resizeSubscription=new nt.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function w9(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const c3="mdc-line-ripple--active",BS="mdc-line-ripple--deactivating";let l3=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(BS);"opacity"===r.propertyName&&l&&s.remove(c3,BS)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(BS),t.add(c3)}deactivate(){this._elementRef.nativeElement.classList.add(BS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),u3=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&a.Gf(W$,5),2&i){let s;a.iGM(s=a.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Z$,ngContentSelectors:q$,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const E9={transitionMessages:Ja("transitionMessages",[zc("enter",Po({opacity:1,transform:"translateY(0%)"})),Gc("void => enter",[Po({opacity:0,transform:"translateY(-5px)"}),Ql("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let d3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n})}return n})();const h3=new a.OlP("MatFormField"),x9=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let f3=0,US=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=(0,on.Ig)(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,h,p,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=h,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+f3++,this._hintLabelId="mat-mdc-hint-"+f3++,this._subscriptAnimationState="",this._destroyed=new zt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,Vr.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,bs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Vr.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Vr.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(nd.Is),a.Y36(xr.t4),a.Y36(x9,8),a.Y36(a.QbO,8),a.Y36(I.K0))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(a.Suo(s,$x,5),a.Suo(s,$x,7),a.Suo(s,d3,5),a.Suo(s,y9,5),a.Suo(s,b9,5),a.Suo(s,r3,5),a.Suo(s,o3,5)),2&i){let l;a.iGM(l=a.CRH())&&(r._labelChildNonStatic=l.first),a.iGM(l=a.CRH())&&(r._labelChildStatic=l.first),a.iGM(l=a.CRH())&&(r._formFieldControl=l.first),a.iGM(l=a.CRH())&&(r._prefixChildren=l),a.iGM(l=a.CRH())&&(r._suffixChildren=l),a.iGM(l=a.CRH())&&(r._errorChildren=l),a.iGM(l=a.CRH())&&(r._hintChildren=l)}},viewQuery:function(i,r){if(1&i&&(a.Gf(Y$,5),a.Gf(K$,5),a.Gf(Q$,5),a.Gf(a3,5),a.Gf(u3,5),a.Gf(l3,5)),2&i){let s;a.iGM(s=a.CRH())&&(r._textField=s.first),a.iGM(s=a.CRH())&&(r._iconPrefixContainer=s.first),a.iGM(s=a.CRH())&&(r._textPrefixContainer=s.first),a.iGM(s=a.CRH())&&(r._floatingLabel=s.first),a.iGM(s=a.CRH())&&(r._notchedOutline=s.first),a.iGM(s=a.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&a.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:h3,useExisting:n},{provide:s3,useExisting:n}])],ngContentSelectors:g9,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(a.F$t(m9),a.YNc(0,e9,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(l){return r._control.onContainerClick(l)}),a.YNc(4,t9,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,r9,2,2,"div",5),a.YNc(7,o9,3,0,"div",6),a.YNc(8,s9,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,c9,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,l9,2,0,"div",10),a.YNc(13,u9,2,0,"div",11),a.qZA(),a.YNc(14,d9,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,h9,2,1,"div",14),a.YNc(17,p9,5,2,"div",15),a.qZA()),2&i&&(a.xp6(2),a.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),a.xp6(2),a.Q6J("ngIf",r._hasOutline()),a.xp6(1),a.Q6J("ngIf",r._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",r._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",r._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",r._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!r._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[I.O5,I.tP,I.RF,I.n9,o3,a3,u3,l3],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[E9.transitionMessages]},changeDetection:0})}return n})(),EN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,I.ez,$$,pn.BQ]})}return n})();const g3=(0,xr.i$)({passive:!0});let C9=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ut.E;const i=(0,on.fI)(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new zt.x,l="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,g3),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,g3)}}),s}stopMonitoring(t){const i=(0,on.fI)(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(xr.t4),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const A9=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),S9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let M9=0;const R9=(0,pn.FD)(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new zt.x}});let Wx=(()=>{class n extends R9{get disabled(){return this._disabled}set disabled(t){this._disabled=(0,on.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Kr.required)??!1}set required(t){this._required=(0,on.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,xr.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,on.Ig)(t)}constructor(t,i,r,s,l,h,p,v,T,R){super(h,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=R,this._uid="mat-input-"+M9++,this.focused=!1,this.stateChanges=new zt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Te=>(0,xr.qK)().has(Te)),this._iOSKeyupListener=Te=>{const Me=Te.target;!Me.value&&0===Me.selectionStart&&0===Me.selectionEnd&&(Me.setSelectionRange(1,1),Me.setSelectionRange(0,0))};const q=this._elementRef.nativeElement,me=q.nodeName.toLowerCase();this._inputValueAccessor=p||q,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===me,this._isTextarea="textarea"===me,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){S9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(xr.t4),a.Y36(Jd,10),a.Y36(Rb,8),a.Y36(zx,8),a.Y36(pn.rD),a.Y36(A9,10),a.Y36(C9),a.Y36(a.R0b),a.Y36(h3,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:d3,useExisting:n}]),a.qOj,a.TTD]})}return n})(),k9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,EN,EN,D9,pn.BQ]})}return n})();function P9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your first name"),a.qZA())}function O9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 2 characters required"),a.qZA())}function N9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid name"),a.qZA())}function F9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your last name"),a.qZA())}function L9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 2 characters required"),a.qZA())}function V9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid name"),a.qZA())}function B9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be a valid ID"),a.qZA())}function U9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your ID"),a.qZA())}function j9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be a valid email"),a.qZA())}function H9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your email"),a.qZA())}function z9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Username must be 6 characters or longer"),a.qZA())}function G9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your user name"),a.qZA())}function $9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your password"),a.qZA())}function W9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Password requirements are not met"),a.qZA())}function Z9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Password isn't compatible"),a.qZA())}function q9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your password"),a.qZA())}function Y9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Terms and conditions must be accepted"),a.qZA())}let K9=(()=>{class n{constructor(){this.currentPerson=new M$}Constructor(){}onSubmit(){console.log("Form data: ",this.currentPerson)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-form"]],decls:62,vars:27,consts:[[1,"title"],[1,"container"],[1,"example-form",3,"ngSubmit"],[1,"mat-form-field"],["matInput","","placeholder","first name","name","firstName","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["fname","ngModel"],[4,"ngIf"],["matInput","","placeholder","last name","name","lastName","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["lname","ngModel"],["matInput","","placeholder","person ID","name","personID","required","","minlength","1","pattern","^(0[1-9]|[12]\\d|3[01])(0[1-9]|1[0-2])([5-9]\\d\\+|\\d\\d-|[01]\\dA)\\d{3}[\\dA-Z]$",3,"ngModel","ngModelChange"],["id","ngModel"],["matInput","","placeholder","Email","name","email","required","","minlength","1","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["email","ngModel"],["matInput","","placeholder","Username","name","userName","required","","minlength","6",3,"ngModel","ngModelChange"],["userName","ngModel"],["matInput","","type","password","name","passWord1","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*])[a-zA-Z\\d!@#$%^&*]{8,}$","required","",3,"ngModel","ngModelChange"],["pwrd","ngModel"],["matInput","","type","password","name","passWord2","required","",3,"ngModel","pattern","ngModelChange"],["pwrd2","ngModel"],["id","check","color","primary","name","termsandconditions","required","",3,"ngModel","ngModelChange"],["tAndC",""],["id","subBtn","mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,r){if(1&i&&(a.TgZ(0,"h1",0),a._uU(1,"Registration form"),a.qZA(),a.TgZ(2,"div",1)(3,"form",2),a.NdJ("ngSubmit",function(){return r.onSubmit()}),a.TgZ(4,"mat-form-field",3)(5,"mat-label"),a._uU(6,"First name"),a.qZA(),a.TgZ(7,"input",4,5),a.NdJ("ngModelChange",function(l){return r.currentPerson.firstName=l}),a.qZA(),a.YNc(9,P9,2,0,"mat-error",6),a.YNc(10,O9,2,0,"mat-error",6),a.YNc(11,N9,2,0,"mat-error",6),a.qZA(),a.TgZ(12,"mat-form-field",3)(13,"mat-label"),a._uU(14,"Last name"),a.qZA(),a.TgZ(15,"input",7,8),a.NdJ("ngModelChange",function(l){return r.currentPerson.lastName=l}),a.qZA(),a.YNc(17,F9,2,0,"mat-error",6),a.YNc(18,L9,2,0,"mat-error",6),a.YNc(19,V9,2,0,"mat-error",6),a.qZA(),a.TgZ(20,"mat-form-field",3)(21,"mat-label"),a._uU(22,"PersonID"),a.qZA(),a.TgZ(23,"input",9,10),a.NdJ("ngModelChange",function(l){return r.currentPerson.id=l}),a.qZA(),a.YNc(25,B9,2,0,"mat-error",6),a.YNc(26,U9,2,0,"mat-error",6),a.qZA(),a.TgZ(27,"mat-form-field",3)(28,"mat-label"),a._uU(29,"Email"),a.qZA(),a.TgZ(30,"input",11,12),a.NdJ("ngModelChange",function(l){return r.currentPerson.email=l}),a.qZA(),a.YNc(32,j9,2,0,"mat-error",6),a.YNc(33,H9,2,0,"mat-error",6),a.qZA(),a.TgZ(34,"mat-form-field",3)(35,"mat-label"),a._uU(36,"Username"),a.qZA(),a.TgZ(37,"input",13,14),a.NdJ("ngModelChange",function(l){return r.currentPerson.userName=l}),a.qZA(),a.YNc(39,z9,2,0,"mat-error",6),a.YNc(40,G9,2,0,"mat-error",6),a.qZA(),a.TgZ(41,"mat-form-field",3)(42,"mat-label"),a._uU(43,"Password"),a.qZA(),a.TgZ(44,"input",15,16),a.NdJ("ngModelChange",function(l){return r.currentPerson.passWord=l}),a.qZA(),a.YNc(46,$9,2,0,"mat-error",6),a.YNc(47,W9,2,0,"mat-error",6),a.qZA(),a.TgZ(48,"mat-form-field",3)(49,"mat-label"),a._uU(50,"Confirm password"),a.qZA(),a.TgZ(51,"input",17,18),a.NdJ("ngModelChange",function(l){return r.currentPerson.passWord_2=l}),a.qZA(),a.YNc(53,Z9,2,0,"mat-error",6),a.YNc(54,q9,2,0,"mat-error",6),a.qZA(),a.TgZ(55,"mat-checkbox",19,20),a.NdJ("ngModelChange",function(l){return r.currentPerson.termsAndConditions=l}),a._uU(57,"Accept terms and conditions "),a.qZA(),a.TgZ(58,"p"),a.YNc(59,Y9,2,0,"mat-error",6),a.qZA(),a.TgZ(60,"button",21),a._uU(61,"Submit"),a.qZA()()()),2&i){const s=a.MAs(8),l=a.MAs(16),h=a.MAs(24),p=a.MAs(31),v=a.MAs(38),T=a.MAs(45),R=a.MAs(52);a.xp6(7),a.Q6J("ngModel",r.currentPerson.firstName),a.xp6(2),a.Q6J("ngIf",s.hasError("required")),a.xp6(1),a.Q6J("ngIf",s.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",s.hasError("pattern")),a.xp6(4),a.Q6J("ngModel",r.currentPerson.lastName),a.xp6(2),a.Q6J("ngIf",l.hasError("required")),a.xp6(1),a.Q6J("ngIf",l.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",l.hasError("pattern")),a.xp6(4),a.Q6J("ngModel",r.currentPerson.id),a.xp6(2),a.Q6J("ngIf",h.hasError("pattern")),a.xp6(1),a.Q6J("ngIf",h.hasError("required")),a.xp6(4),a.Q6J("ngModel",r.currentPerson.email),a.xp6(2),a.Q6J("ngIf",p.hasError("pattern")),a.xp6(1),a.Q6J("ngIf",p.hasError("required")),a.xp6(4),a.Q6J("ngModel",r.currentPerson.userName),a.xp6(2),a.Q6J("ngIf",v.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",v.hasError("required")),a.xp6(4),a.Q6J("ngModel",r.currentPerson.passWord),a.xp6(2),a.Q6J("ngIf",T.hasError("required")),a.xp6(1),a.Q6J("ngIf",T.hasError("pattern")),a.xp6(4),a.s9C("pattern",T.value),a.Q6J("ngModel",r.currentPerson.passWord_2),a.xp6(2),a.Q6J("ngIf",R.hasError("pattern")),a.xp6(1),a.Q6J("ngIf",R.hasError("required")),a.xp6(1),a.Q6J("ngModel",r.currentPerson.termsAndConditions),a.xp6(4),a.Q6J("ngIf",!r.currentPerson.termsAndConditions),a.xp6(1),a.Q6J("disabled",!r.currentPerson.termsAndConditions)}},dependencies:[I.O5,OS,lp,Sb,TS,Pb,FS,LS,kb,Rb,Mo.lW,bN,t3,US,$x,wN,Wx],styles:[".title[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:30px}.container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:50px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}"]})}return n})();function Q9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your first name"),a.qZA())}function X9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 2 characters required"),a.qZA())}function J9(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid name"),a.qZA())}function eW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your last name"),a.qZA())}function tW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 2 characters required"),a.qZA())}function nW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid name"),a.qZA())}function iW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your ID"),a.qZA())}function rW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 1 characters required"),a.qZA())}function oW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid ID"),a.qZA())}function sW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your email"),a.qZA())}function aW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid email"),a.qZA())}function cW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your username"),a.qZA())}function lW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 6 characters required"),a.qZA())}function uW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your password"),a.qZA())}function dW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Password must be at least 8 characters or longer"),a.qZA())}function hW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your password"),a.qZA())}function fW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Password must be at least 8 characters or longer"),a.qZA())}function pW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Password isn't compatible"),a.qZA())}function mW(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," You must accept terms and conditions "),a.qZA())}let gW=(()=>{class n{ngOnInit(){}constructor(){this.person={firstName:"Anna",lastName:"Puu",personID:"123456-2234",email:"anna.puu@gmail.com",userName:"annapuu123",passWord:"Lappeenranta1!",confirmPassword:"Lappeenranta1!",termsAndConditions:"true"},this.profileForm=new SS({firstName:new xu("Anna",[Kr.required,Kr.minLength(2),Kr.pattern("^[a-zA-Z ]*$")]),lastName:new xu("Puu",[Kr.required,Kr.minLength(2),Kr.pattern("^[a-zA-Z ]*$")]),personID:new xu("123489-4422",[Kr.required,Kr.minLength(1),Kr.pattern("/^(0[1-9]|[12]d|3[01])(0[1-9]|1[0-2])([5-9]d+|dd-|[01]dA)d{3}[dA-Z]$/")]),email:new xu("anna.puu@gmail.com",[Kr.required,Kr.minLength(1),Kr.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]),userName:new xu("annapuu123",[Kr.required,Kr.minLength(6)]),password:new xu("Lappeenranta1!",[Kr.required,Kr.minLength(8)]),confirmPassword:new xu("Lappeenranta1!",[Kr.required,Kr.minLength(8),Kr.pattern("Lappeenranta1!")]),termsAndConditions:new xu("true")})}get firstName(){return this.profileForm.get("firstName")}get lastName(){return this.profileForm.get("lastName")}get personID(){return this.profileForm.get("personID")}get email(){return this.profileForm.get("email")}get userName(){return this.profileForm.get("userName")}get password(){return this.profileForm.get("password")}get confirmPassword(){return this.profileForm.get("confirmPassword")}get termsAndConditions(){return this.profileForm.get("termsAndConditions")}onSubmit(){console.log("profileForm.value: "+this.profileForm.value),console.log("profileForm.value: "+this.profileForm.value.firstName),console.log("profileForm.value: "+this.profileForm.value.lastName),console.log("profileForm.value: "+this.profileForm.value.personID),console.log("profileForm.value: "+this.profileForm.value.email),console.log("profileForm.value: "+this.profileForm.value.userName),console.log("profileForm.value: "+this.profileForm.value.password),console.log("profileForm.value: "+this.profileForm.value.confirmPassword),console.log("profileForm.valid: "+this.profileForm.valid),console.log("Form data: ",this.profileForm)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-reactiveform"]],decls:40,vars:22,consts:[[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","first name","formControlName","firstName"],[4,"ngIf"],["matInput","","placeholder","last name","formControlName","lastName"],["matInput","","placeholder","PersonID","formControlName","personID"],["matInput","","placeholder","email","formControlName","email"],["matInput","","placeholder","username","formControlName","userName"],["matInput","","type","password","placeholder","password","formControlName","password"],["matInput","","type","password","placeholder","confirm password","formControlName","confirmPassword"],["formControlName","termsAndConditions",3,"ngModel","ngModelChange"],["id","subBtn","mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"Reactive registration form"),a.qZA(),a.TgZ(2,"form",0),a.NdJ("ngSubmit",function(){return r.onSubmit()}),a.TgZ(3,"mat-form-field",1),a._UZ(4,"input",2),a.YNc(5,Q9,2,0,"mat-error",3),a.YNc(6,X9,2,0,"mat-error",3),a.YNc(7,J9,2,0,"mat-error",3),a.qZA(),a.TgZ(8,"mat-form-field",1),a._UZ(9,"input",4),a.YNc(10,eW,2,0,"mat-error",3),a.YNc(11,tW,2,0,"mat-error",3),a.YNc(12,nW,2,0,"mat-error",3),a.qZA(),a.TgZ(13,"mat-form-field",1),a._UZ(14,"input",5),a.YNc(15,iW,2,0,"mat-error",3),a.YNc(16,rW,2,0,"mat-error",3),a.YNc(17,oW,2,0,"mat-error",3),a.qZA(),a.TgZ(18,"mat-form-field",1),a._UZ(19,"input",6),a.YNc(20,sW,2,0,"mat-error",3),a.YNc(21,aW,2,0,"mat-error",3),a.qZA(),a.TgZ(22,"mat-form-field",1),a._UZ(23,"input",7),a.YNc(24,cW,2,0,"mat-error",3),a.YNc(25,lW,2,0,"mat-error",3),a.qZA(),a.TgZ(26,"mat-form-field",1),a._UZ(27,"input",8),a.YNc(28,uW,2,0,"mat-error",3),a.YNc(29,dW,2,0,"mat-error",3),a.qZA(),a.TgZ(30,"mat-form-field",1),a._UZ(31,"input",9),a.YNc(32,hW,2,0,"mat-error",3),a.YNc(33,fW,2,0,"mat-error",3),a.YNc(34,pW,2,0,"mat-error",3),a.qZA(),a.TgZ(35,"mat-checkbox",10),a.NdJ("ngModelChange",function(l){return r.person.termsAndConditions=l}),a._uU(36,"Accept terms and conditions "),a.YNc(37,mW,2,0,"mat-error",3),a.qZA(),a.TgZ(38,"button",11),a._uU(39,"Submit"),a.qZA()()),2&i&&(a.xp6(2),a.Q6J("formGroup",r.profileForm),a.xp6(3),a.Q6J("ngIf",null==r.firstName?null:r.firstName.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.firstName?null:r.firstName.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",null==r.firstName?null:r.firstName.hasError("pattern")),a.xp6(3),a.Q6J("ngIf",null==r.lastName?null:r.lastName.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.lastName?null:r.lastName.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",null==r.lastName?null:r.lastName.hasError("pattern")),a.xp6(3),a.Q6J("ngIf",null==r.personID?null:r.personID.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.personID?null:r.personID.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",null==r.personID?null:r.personID.hasError("pattern")),a.xp6(3),a.Q6J("ngIf",null==r.email?null:r.email.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.email?null:r.email.hasError("pattern")),a.xp6(3),a.Q6J("ngIf",null==r.userName?null:r.userName.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.userName?null:r.userName.hasError("minlength")),a.xp6(3),a.Q6J("ngIf",null==r.password?null:r.password.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.password?null:r.password.hasError("minlength")),a.xp6(3),a.Q6J("ngIf",null==r.confirmPassword?null:r.confirmPassword.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==r.confirmPassword?null:r.confirmPassword.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",null==r.confirmPassword?null:r.confirmPassword.hasError("pattern")),a.xp6(1),a.Q6J("ngModel",r.person.termsAndConditions),a.xp6(2),a.Q6J("ngIf",(null==r.termsAndConditions?null:r.termsAndConditions.invalid)&&(null==r.termsAndConditions?null:r.termsAndConditions.dirty)),a.xp6(1),a.Q6J("disabled",!r.person.termsAndConditions))},dependencies:[I.O5,OS,lp,Sb,TS,Mo.lW,bN,US,wN,Wx,zx,mN],styles:["h1[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:50px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:50px}.example-full-width[_ngcontent-%COMP%]{width:100%}"]})}return n})();var _W=y(9603);let _3=(()=>{class n{constructor(t){this.httpClient=t,this.url="https://www.finnkino.fi/xml/News/"}getData(){return this.httpClient.get(this.url,{responseType:"text"}).pipe((0,Xe.U)(t=>{let i=[];return(0,_W.parseString)(t,{trim:!0,explicitArray:!1,mergeAttrs:!0},function(r,s){i=s.News.NewsArticle}),i}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(zl))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xN=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vW=0;const IN=new a.OlP("CdkAccordion");let yW=(()=>{class n{constructor(){this._stateChanges=new zt.x,this._openCloseAllActions=new zt.x,this.id="cdk-accordion-"+vW++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=(0,on.Ig)(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:IN,useExisting:n}]),a.TTD]})}return n})(),bW=0,wW=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=(0,on.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,on.Ig)(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=nt.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+bW++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(IN,12),a.Y36(a.sBO),a.Y36(xN))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:IN,useValue:void 0}])]})}return n})(),EW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const xW=["body"];function IW(n,e){}const TW=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],CW=["mat-expansion-panel-header","*","mat-action-row"];function DW(n,e){if(1&n&&a._UZ(0,"span",2),2&n){const t=a.oxw();a.Q6J("@indicatorRotate",t._getExpandedState())}}const AW=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],SW=["mat-panel-title","mat-panel-description","*"],TN=new a.OlP("MAT_ACCORDION"),v3="225ms cubic-bezier(0.4,0.0,0.2,1)",y3={indicatorRotate:Ja("indicatorRotate",[zc("collapsed, void",Po({transform:"rotate(0deg)"})),zc("expanded",Po({transform:"rotate(180deg)"})),Gc("expanded <=> collapsed, void => collapsed",Ql(v3))]),bodyExpansion:Ja("bodyExpansion",[zc("collapsed, void",Po({height:"0px",visibility:"hidden"})),zc("expanded",Po({height:"*",visibility:""})),Gc("expanded <=> collapsed, void => collapsed",Ql(v3))])},b3=new a.OlP("MAT_EXPANSION_PANEL");let MW=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Rgc),a.Y36(b3,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),RW=0;const w3=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let E3=(()=>{class n extends wW{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,on.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,s,l,h,p){super(t,i,r),this._viewContainerRef=s,this._animationMode=h,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new zt.x,this._headerId="mat-expansion-panel-header-"+RW++,this._bodyAnimationDone=new zt.x,this.accordion=t,this._document=l,this._bodyAnimationDone.pipe((0,qm.x)((v,T)=>v.fromState===T.fromState&&v.toState===T.toState)).subscribe(v=>{"void"!==v.fromState&&("expanded"===v.toState?this.afterExpand.emit():"collapsed"===v.toState&&this.afterCollapse.emit())}),p&&(this.hideToggle=p.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,wt.O)(null),(0,Vt.h)(()=>this.expanded&&!this._portal),(0,kt.q)(1)).subscribe(()=>{this._portal=new gm(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(TN,12),a.Y36(a.sBO),a.Y36(xN),a.Y36(a.s_b),a.Y36(I.K0),a.Y36(a.QbO,8),a.Y36(w3,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,s){if(1&i&&a.Suo(s,MW,5),2&i){let l;a.iGM(l=a.CRH())&&(r._lazyContent=l.first)}},viewQuery:function(i,r){if(1&i&&a.Gf(xW,5),2&i){let s;a.iGM(s=a.CRH())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&a.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:TN,useValue:void 0},{provide:b3,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:CW,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(a.F$t(TW),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(l){return r._bodyAnimationDone.next(l)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,IW,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&i&&(a.xp6(1),a.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),a.uIk("aria-labelledby",r._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",r._portal))},dependencies:[hv],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[y3.bodyExpansion]},changeDetection:0})}return n})();class kW{}const PW=(0,pn.sb)(kW);let x3=(()=>{class n extends PW{constructor(t,i,r,s,l,h,p){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=h,this._parentChangeSubscription=nt.w0.EMPTY;const v=t.accordion?t.accordion._stateChanges.pipe((0,Vt.h)(T=>!(!T.hideToggle&&!T.togglePosition))):ut.E;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,bs.T)(t.opened,t.closed,v,t._inputChanges.pipe((0,Vt.h)(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,Vt.h)(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case so.L_:case so.K5:(0,so.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(E3,1),a.Y36(a.SBq),a.Y36(ys.tE),a.Y36(a.sBO),a.Y36(w3,8),a.Y36(a.QbO,8),a.$8M("tabindex"))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&a.NdJ("click",function(){return r._toggle()})("keydown",function(l){return r._keydown(l)}),2&i&&(a.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),a.Udp("height",r._getHeaderHeight()),a.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:SW,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(a.F$t(AW),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,DW,1,1,"span",1)),2&i&&(a.ekj("mat-content-hide-toggle",!r._showToggle()),a.xp6(4),a.Q6J("ngIf",r._showToggle()))},dependencies:[I.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[y3.indicatorRotate]},changeDetection:0})}return n})(),OW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return n})(),NW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),FW=(()=>{class n extends yW{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=(0,on.Ig)(t)}ngAfterContentInit(){this._headers.changes.pipe((0,wt.O)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new ys.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,s){if(1&i&&a.Suo(s,x3,5),2&i){let l;a.iGM(l=a.CRH())&&(r._headers=l)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:TN,useExisting:n}]),a.qOj]})}return n})(),LW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[I.ez,pn.BQ,EW,b0]})}return n})(),VW=(()=>{class n{transform(t,i){return t&&i?(i=i.toLowerCase(),t.filter(r=>r.Title.toLowerCase().includes(i))):t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.Yjl({name:"haku",type:n,pure:!0})}return n})();function BW(n,e){if(1&n&&(a.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),a._uU(3),a.ALo(4,"date"),a.qZA(),a.TgZ(5,"mat-panel-description"),a._uU(6),a.qZA()(),a._uU(7),a.TgZ(8,"a",4),a._uU(9),a.qZA()()),2&n){const t=e.$implicit;a.xp6(3),a.hij(" ",a.xi3(4,5,t.PublishDate,"dd.MM.yyyy")," "),a.xp6(3),a.hij(" ",t.Title," "),a.xp6(1),a.hij(" ",t.HTMLLead," "),a.xp6(1),a.Q6J("href",t.ArticleURL,a.LSH),a.xp6(1),a.Oqu(t.ArticleURL)}}let UW=(()=>{class n{constructor(t){this.cinemaService=t,this.searchTerm="",this.cinemaData$=new De.y}ngOnInit(){this.cinemaData$=this.cinemaService.getData()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(_3))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-cinema"]],decls:8,vars:7,consts:[[1,"title"],[1,"search"],["matInput","","placeholder","Kirjoita hakusana",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(i,r){1&i&&(a.TgZ(0,"h1",0),a._uU(1,"Finnkino uutisia"),a.qZA(),a.TgZ(2,"div",1)(3,"input",2),a.NdJ("ngModelChange",function(l){return r.searchTerm=l}),a.qZA()(),a.TgZ(4,"mat-accordion"),a.YNc(5,BW,10,8,"mat-expansion-panel",3),a.ALo(6,"haku"),a.ALo(7,"async"),a.qZA()),2&i&&(a.xp6(3),a.Q6J("ngModel",r.searchTerm),a.xp6(2),a.Q6J("ngForOf",a.xi3(6,2,a.lcZ(7,5,r.cinemaData$),r.searchTerm)))},dependencies:[I.sg,lp,Sb,kb,FW,E3,x3,NW,OW,Wx,I.Ov,I.uU,VW],styles:[".title[_ngcontent-%COMP%]{color:#d7d700;justify-content:center;justify-items:center;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:30px}.search[_ngcontent-%COMP%]{margin-bottom:40px}"]})}return n})(),I3=(()=>{class n{constructor(t,i){this.afAuth=t,this.router=i,this.userEmail=new xe.X(""),this.afAuth.authState.subscribe(r=>{r&&this.userEmail.next(r.email||"")})}login(t,i){this.afAuth.signInWithEmailAndPassword(t,i).then(()=>{this.userEmail.next(t),this.router.navigate(["admin/main"])}).catch(r=>{console.error("Kirjautuminen ep\xe4onnistui:",r)})}logout(){this.afAuth.signOut().then(()=>{this.userEmail.next(""),this.router.navigate(["feedback"])}).catch(t=>{console.error("Uloskirjautuminen ep\xe4onnistui:",t)})}getLoggedInUser(){return this.afAuth.authState}checkLoggedInUser(){return this.userEmail}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Hh),a.LFG(to))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jW=["*"],WW=new a.OlP("MAT_CARD_CONFIG");let T3=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(WW,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&a.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:jW,decls:1,vars:0,template:function(i,r){1&i&&(a.F$t(),a.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),C3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),YW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,I.ez,pn.BQ]})}return n})(),KW=(()=>{class n{constructor(t,i){this.router=t,this.authService=i,this.email="",this.password=""}onLogin(t,i){this.authService.login(t,i)}cancelBtnClick(){this.router.navigate(["feedback"])}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(to),a.Y36(I3))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"container"],["matInput","","placeholder","pat@example.com","required","",3,"ngModel","ngModelChange"],["matInput","","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","","primary","",3,"click"],["mat-button","",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div")(1,"mat-card")(2,"mat-card-content")(3,"form",0)(4,"h1"),a._uU(5,"Authentication to admin view"),a.qZA(),a.TgZ(6,"div")(7,"mat-form-field")(8,"mat-label"),a._uU(9,"Email"),a.qZA(),a.TgZ(10,"input",1),a.NdJ("ngModelChange",function(l){return r.email=l}),a.qZA()()(),a.TgZ(11,"div")(12,"mat-form-field")(13,"mat-label"),a._uU(14,"Password"),a.qZA(),a.TgZ(15,"input",2),a.NdJ("ngModelChange",function(l){return r.password=l}),a.qZA()()(),a.TgZ(16,"div")(17,"button",3),a.NdJ("click",function(){return r.onLogin(r.email,r.password)}),a._uU(18,"Login"),a.qZA(),a.TgZ(19,"button",4),a.NdJ("click",function(){return r.cancelBtnClick()}),a._uU(20,"Cancel"),a.qZA()()()()()()),2&i&&(a.xp6(10),a.Q6J("ngModel",r.email),a.xp6(5),a.Q6J("ngModel",r.password))},dependencies:[OS,lp,Sb,TS,Pb,kb,Rb,Mo.lW,T3,C3,US,$x,Wx],styles:[".title[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:30px}.container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:50px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}"]})}return n})(),QW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-adminview"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"adminview works!"),a.qZA())}})}return n})(),XW=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn.pipe((0,kt.q)(1),(0,Xe.U)(r=>!!r||(this.router.navigate(["login"]),!1)))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I3),a.LFG(to))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class JW{constructor(){this.firstName="",this.lastName="",this.email=""}}class CN{constructor(e){this.lippuTxt=e,this.kpl="0 kpl"}setAmount(e){console.log(e),(0==e||1==e||2==e||3==e||4==e||5==e||6==e||7==e||8==e||9==e||10==e)&&(this.kpl=e+" kpl")}}let e7=(()=>{class n{constructor(){}lippuInfo(){return[new CN("Peruslippu:"),new CN("Opiskelija:"),new CN("El\xe4kel\xe4inen:")]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const t7=["switch"];function n7(n,e){1&n&&(a.TgZ(0,"div",12),a.O4$(),a.TgZ(1,"svg",13),a._UZ(2,"path",14),a.qZA(),a.TgZ(3,"svg",15),a._UZ(4,"path",16),a.qZA()())}const i7=["*"],r7=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),o7={provide:Ps,useExisting:(0,a.Gpc)(()=>A3),multi:!0};class D3{constructor(e,t){this.source=e,this.checked=t}}let s7=0;const a7=(0,pn.sb)((0,pn.pj)((0,pn.Kr)((0,pn.Id)(class{constructor(n){this._elementRef=n}}))));let c7=(()=>{class n extends a7{get required(){return this._required}set required(t){this._required=(0,on.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,on.Ig)(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=(0,on.Ig)(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,l,h,p){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=l,this._onChange=v=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=l.color||"accent",this._noopAnimations="NoopAnimations"===h,this.id=this._uniqueId=`${p}${++s7}`,this._hideIcon=l.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[a.qOj]})}return n})(),A3=(()=>{class n extends c7{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,s,l,h){super(t,i,r,s,l,h,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new D3(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new D3(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(ys.tE),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(r7),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&a.Gf(t7,5),2&i){let s;a.iGM(s=a.CRH())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[a._Bn([o7]),a.qOj],ngContentSelectors:i7,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0)(1,"button",1,2),a.NdJ("click",function(){return r._handleClick()}),a._UZ(3,"div",3),a.TgZ(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"div",7),a.qZA(),a.TgZ(8,"div",8),a._UZ(9,"div",9),a.qZA(),a.YNc(10,n7,5,0,"div",10),a.qZA()()(),a.TgZ(11,"label",11),a.NdJ("click",function(l){return l.stopPropagation()}),a.Hsn(12),a.qZA()()),2&i){const s=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(1),a.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),a.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),a.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),a.xp6(8),a.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("ngIf",!r.hideIcon),a.xp6(1),a.Q6J("for",r.buttonId),a.uIk("id",r._labelId)}},dependencies:[pn.wG,I.O5],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),S3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),d7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[S3,pn.BQ,pn.si,I.ez,S3,pn.BQ]})}return n})();function h7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"p"),a._uU(2),a.qZA(),a.TgZ(3,"mat-slider",16),a.NdJ("input",function(r){const l=a.CHM(t).$implicit,h=a.oxw();return a.KtG(h.onInputChange(r,l))}),a._UZ(4,"input",17),a.qZA(),a.TgZ(5,"h3"),a._uU(6),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.lippuTxt),a.xp6(4),a.Oqu(t.kpl)}}function f7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your first name"),a.qZA())}function p7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 2 characters required"),a.qZA())}function m7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid name"),a.qZA())}function g7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your last name"),a.qZA())}function _7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Minimum 2 characters required"),a.qZA())}function v7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be valid name"),a.qZA())}function y7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Must be a valid email"),a.qZA())}function b7(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1,"Enter your email"),a.qZA())}let w7=(()=>{class n{constructor(t){this.lippuService=t,this.isChecked=!1,this.lippuHinta=16,this.opiskelijaHinta=10,this.elakelaisHinta=8,this.yhteisHinta=0,this.uusiTilaaja=new JW,this.kappaleet=[],this.lippuService.lippuInfo(),this.kappaleet=this.lippuService.lippuInfo()}onInputChange(t,i){i.setAmount(t.target.value)}hinta(){}tilaus(){console.info("Tilaus tehty!"),console.log("Tilaajan tiedot: ",this.uusiTilaaja)}alennus(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(e7))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-tentti"]],decls:39,vars:15,consts:[[1,"container"],[1,"title"],[1,"sliderContainer"],[4,"ngFor","ngForOf"],[3,"ngModel","click","ngModelChange"],[1,"hinta"],[1,"form"],[1,"mat-form-field"],["matInput","","placeholder","first name","name","firstName","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["fname","ngModel"],[4,"ngIf"],["matInput","","placeholder","last name","name","lastName","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["lname","ngModel"],["matInput","","placeholder","Email","name","email","required","","minlength","1","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",3,"ngModel","ngModelChange"],["email","ngModel"],["type","submit","mat-raised-button","","color","primary",3,"click"],["min","0","max","10","step","1",3,"input"],["matSliderThumb",""]],template:function(i,r){if(1&i&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2,"Maatalousn\xe4yttelyn 2024 liput nyt myynniss\xe4"),a.qZA(),a.TgZ(3,"h2",1),a._uU(4,"Valitse ostettavien lippujen m\xe4\xe4r\xe4"),a.qZA(),a.TgZ(5,"div",2),a.YNc(6,h7,7,2,"div",3),a.TgZ(7,"div")(8,"mat-slide-toggle",4),a.NdJ("click",function(){return r.alennus()})("ngModelChange",function(l){return r.isChecked=l}),a._uU(9),a.qZA()(),a.TgZ(10,"div",5),a._uU(11),a.qZA()(),a.TgZ(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),a._uU(15,"First name"),a.qZA(),a.TgZ(16,"input",8,9),a.NdJ("ngModelChange",function(l){return r.uusiTilaaja.firstName=l}),a.qZA(),a.YNc(18,f7,2,0,"mat-error",10),a.YNc(19,p7,2,0,"mat-error",10),a.YNc(20,m7,2,0,"mat-error",10),a.qZA(),a.TgZ(21,"mat-form-field",7)(22,"mat-label"),a._uU(23,"Last name"),a.qZA(),a.TgZ(24,"input",11,12),a.NdJ("ngModelChange",function(l){return r.uusiTilaaja.lastName=l}),a.qZA(),a.YNc(26,g7,2,0,"mat-error",10),a.YNc(27,_7,2,0,"mat-error",10),a.YNc(28,v7,2,0,"mat-error",10),a.qZA(),a.TgZ(29,"mat-form-field",7)(30,"mat-label"),a._uU(31,"Email"),a.qZA(),a.TgZ(32,"input",13,14),a.NdJ("ngModelChange",function(l){return r.uusiTilaaja.email=l}),a.qZA(),a.YNc(34,y7,2,0,"mat-error",10),a.YNc(35,b7,2,0,"mat-error",10),a.qZA(),a.TgZ(36,"div")(37,"button",15),a.NdJ("click",function(){return r.tilaus()}),a._uU(38,"Tilaa"),a.qZA()()()()),2&i){const s=a.MAs(17),l=a.MAs(25),h=a.MAs(33);a.xp6(6),a.Q6J("ngForOf",r.kappaleet),a.xp6(2),a.Q6J("ngModel",r.isChecked),a.xp6(1),a.hij(" MTK:n J\xe4sen ",r.isChecked," "),a.xp6(2),a.hij(" Yhteens\xe4: ",r.yhteisHinta," \u20ac "),a.xp6(5),a.Q6J("ngModel",r.uusiTilaaja.firstName),a.xp6(2),a.Q6J("ngIf",s.hasError("required")),a.xp6(1),a.Q6J("ngIf",s.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",s.hasError("pattern")),a.xp6(4),a.Q6J("ngModel",r.uusiTilaaja.lastName),a.xp6(2),a.Q6J("ngIf",l.hasError("required")),a.xp6(1),a.Q6J("ngIf",l.hasError("minlength")),a.xp6(1),a.Q6J("ngIf",l.hasError("pattern")),a.xp6(4),a.Q6J("ngModel",r.uusiTilaaja.email),a.xp6(2),a.Q6J("ngIf",h.hasError("pattern")),a.xp6(1),a.Q6J("ngIf",h.hasError("required"))}},dependencies:[I.sg,I.O5,lp,Sb,Pb,FS,LS,kb,Mo.lW,vN,Gx,US,$x,wN,Wx,A3],styles:[".title[_ngcontent-%COMP%]{text-align:center;padding-bottom:50px}.container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:auto;max-width:400px;max-height:400px;padding-top:100px}"]})}return n})();const E7=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"komponentti",component:C$},{path:"laskin",component:D$.S},{path:"feedback",component:S$},{path:"form",component:K9},{path:"reactiveform",component:gW},{path:"cinema",component:UW},{path:"adminview",component:QW,canActivate:[XW]},{path:"login",component:KW},{path:"tentti",component:w7}];let x7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Ya.forRoot(E7),Ya]})}return n})();function M3(n){return new a.vHH(3e3,!1)}function hp(n){switch(n.length){case 0:return new pv;case 1:return n[0];default:return new yI(n)}}function R3(n,e,t=new Map,i=new Map){const r=[],s=[];let l=-1,h=null;if(e.forEach(p=>{const v=p.get("offset"),T=v==l,R=T&&h||new Map;p.forEach((q,me)=>{let Te=me,Me=q;if("offset"!==me)switch(Te=n.normalizePropertyName(Te,r),Me){case"!":Me=t.get(me);break;case xa:Me=i.get(me);break;default:Me=n.normalizeStyleValue(me,Te,Me,r)}R.set(Te,Me)}),T||s.push(R),h=R,l=v}),r.length)throw function W7(n){return new a.vHH(3502,!1)}();return s}function DN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&AN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&AN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&AN(t,"destroy",n)))}}function AN(n,e,t){const s=SN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function SN(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function ka(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function k3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const rZ=(()=>typeof document>"u"?null:document.documentElement)();function MN(n){const e=n.parentNode||n.host||null;return e===rZ?null:e}let p_=null,P3=!1;function O3(n,e){for(;e;){if(e===n)return!0;e=MN(e)}return!1}function N3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let F3=(()=>{class n{validateStyleProperty(t){return function sZ(n){p_||(p_=function aZ(){return typeof document<"u"?document.body:null}()||{},P3=!!p_.style&&"WebkitAppearance"in p_.style);let e=!0;return p_.style&&!function oZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in p_.style,!e&&P3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in p_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return O3(t,i)}getParentElement(t){return MN(t)}query(t,i,r){return N3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,h=[],p){return new pv(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),RN=(()=>{class n{static#e=this.NOOP=new F3}return n})();const cZ=1e3,kN="ng-enter",jS="ng-leave",HS="ng-trigger",zS=".ng-trigger",V3="ng-animating",PN=".ng-animating";function eh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ON(parseFloat(e[1]),e[2])}function ON(n,e){return"s"===e?n*cZ:n}function GS(n,e,t){return n.hasOwnProperty("duration")?n:function uZ(n,e,t){let r,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(M3()),{duration:0,delay:0,easing:""};r=ON(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=ON(parseFloat(p),h[4]));const v=h[5];v&&(l=v)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function I7(){return new a.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function T7(){return new a.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,M3())}return{duration:r,delay:s,easing:l}}(n,e,t)}function Zx(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function B3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function fp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Iu(n,e,t){e.forEach((i,r)=>{const s=FN(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function m_(n,e){e.forEach((t,i)=>{const r=FN(i);n.style[r]=""})}function qx(n){return Array.isArray(n)?1==n.length?n[0]:_I(n):n}const NN=new RegExp("{{\\s*(.+?)\\s*}}","g");function j3(n){let e=[];if("string"==typeof n){let t;for(;t=NN.exec(n);)e.push(t[1]);NN.lastIndex=0}return e}function Yx(n,e,t){const i=n.toString(),r=i.replace(NN,(s,l)=>{let h=e[l];return null==h&&(t.push(function D7(n){return new a.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function $S(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const fZ=/-+([a-z0-9])/g;function FN(n){return n.replace(fZ,(...e)=>e[1].toUpperCase())}function Pa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function A7(n){return new a.vHH(3004,!1)}()}}function H3(n,e){return window.getComputedStyle(n)[e]}const WS="*";function gZ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _Z(n,e,t){if(":"==n[0]){const p=function vZ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function H7(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function j7(n){return new a.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(z3(r,l));"<"==s[0]&&!(r==WS&&l==WS)&&e.push(z3(l,r))}(i,t,e)):t.push(n),t}const ZS=new Set(["true","1"]),qS=new Set(["false","0"]);function z3(n,e){const t=ZS.has(n)||qS.has(n),i=ZS.has(e)||qS.has(e);return(r,s)=>{let l=n==WS||n==r,h=e==WS||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?ZS.has(n):qS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?ZS.has(e):qS.has(e)),l&&h}}const yZ=new RegExp("s*:selfs*,?","g");function LN(n,e,t,i){return new bZ(n).build(e,t,i)}class bZ{constructor(e){this._driver=e}build(e,t,i){const r=new xZ(t);return this._resetContextStyleTimingState(r),Pa(this,qx(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function M7(){return new a.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,v=p.name;v.toString().split(/\s*,\s*/).forEach(T=>{p.name=T,s.push(this.visitState(p,t))}),p.name=v}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,l.push(p)}else t.errors.push(function R7(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{j3(p).forEach(v=>{l.hasOwnProperty(v)||s.add(v)})})}),s.size&&($S(s.values()),t.errors.push(function k7(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Pa(this,qx(e.animation),t);return{type:1,matchers:gZ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:g_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Pa(this,i,t)),options:g_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const h=Pa(this,l,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:g_(e.options)}}visitAnimate(e,t){const i=function TZ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VN(GS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=VN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=GS(t,e);return VN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Po({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,h=!1;if(!l){h=!0;const v={};i.easing&&(v.easing=i.easing),l=Po(v)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===xa?i.push(h):t.errors.push(new a.vHH(3002,!1)):i.push(B3(h));let s=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),T=v.get(p);let R=!0;T&&(s!=r&&s>=T.startTime&&r<=T.endTime&&(t.errors.push(function O7(n,e,t,i,r){return new a.vHH(3010,!1)}()),R=!1),s=T.startTime),R&&v.set(p,{startTime:s,endTime:r}),t.options&&function hZ(n,e,t){const i=e.params||{},r=j3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function C7(n){return new a.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function N7(){return new a.vHH(3011,!1)}()),i;let s=0;const l=[];let h=!1,p=!1,v=0;const T=e.steps.map(At=>{const Lt=this._makeStyleAst(At,t);let pt=null!=Lt.offset?Lt.offset:function IZ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Lt.styles),Bt=0;return null!=pt&&(s++,Bt=Lt.offset=pt),p=p||Bt<0||Bt>1,h=h||Bt<v,v=Bt,l.push(Bt),Lt});p&&t.errors.push(function F7(){return new a.vHH(3012,!1)}()),h&&t.errors.push(function L7(){return new a.vHH(3200,!1)}());const R=e.steps.length;let q=0;s>0&&s<R?t.errors.push(function V7(){return new a.vHH(3202,!1)}()):0==s&&(q=1/(R-1));const me=R-1,Te=t.currentTime,Me=t.currentAnimateTimings,Ge=Me.duration;return T.forEach((At,Lt)=>{const pt=q>0?Lt==me?1:q*Lt:l[Lt],Bt=pt*Ge;t.currentTime=Te+Me.delay+Bt,Me.duration=Bt,this._validateStyleAst(At,t),At.offset=pt,i.styles.push(At)}),i}visitReference(e,t){return{type:8,animation:Pa(this,qx(e.animation),t),options:g_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:g_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:g_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function wZ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(yZ,"")),n=n.replace(/@\*/g,zS).replace(/@\w+/g,t=>zS+"-"+t.slice(1)).replace(/:animating/g,PN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ka(t.collectedStyles,t.currentQuerySelector,new Map);const h=Pa(this,qx(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:g_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function B7(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:GS(e.timings,t.errors,!0);return{type:12,animation:Pa(this,qx(e.animation),t),timings:i,options:null}}}class xZ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function g_(n){return n?(n=Zx(n)).params&&(n.params=function EZ(n){return n?Zx(n):null}(n.params)):n={},n}function VN(n,e,t){return{duration:n,delay:e,easing:t}}function BN(n,e,t,i,r,s,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:h}}class YS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const AZ=new RegExp(":enter","g"),MZ=new RegExp(":leave","g");function UN(n,e,t,i,r,s=new Map,l=new Map,h,p,v=[]){return(new RZ).buildKeyframes(n,e,t,i,r,s,l,h,p,v)}class RZ{buildKeyframes(e,t,i,r,s,l,h,p,v,T=[]){v=v||new YS;const R=new jN(e,t,v,r,s,T,[]);R.options=p;const q=p.delay?eh(p.delay):0;R.currentTimeline.delayNextStep(q),R.currentTimeline.setStyles([l],null,R.errors,p),Pa(this,i,R);const me=R.timelines.filter(Te=>Te.containsAnimation());if(me.length&&h.size){let Te;for(let Me=me.length-1;Me>=0;Me--){const Ge=me[Me];if(Ge.element===t){Te=Ge;break}}Te&&!Te.allowOnlyTimelineStyles()&&Te.setStyles([h],null,R.errors,p)}return me.length?me.map(Te=>Te.buildKeyframes()):[BN(t,[],[],[],0,q,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:eh(Yx(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?eh(i.duration):null,h=null!=i.delay?eh(i.delay):null;return 0!==l&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,l,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Pa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=KS);const l=eh(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Pa(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?eh(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Pa(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return GS(t.params?Yx(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?eh(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=KS);let l=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((v,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,v);s&&R.delayNextStep(s),v===t.element&&(p=R.currentTimeline),Pa(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const T=t.currentTimeline;p&&T.delayNextStep(p);const R=T.currentTime;Pa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-R+(r.startTime-i.currentTimeline.startTime)}}const KS={};class jN{constructor(e,t,i,r,s,l,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new QS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=eh(i.duration)),null!=i.delay&&(r.delay=eh(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=Yx(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new jN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=KS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new kZ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(AZ,"."+this._enterClassName)).replace(MZ,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&l.push(function U7(n){return new a.vHH(3014,!1)}()),h}}class QS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new QS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||xa),this._currentKeyframe.set(t,xa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function PZ(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,xa)}else fp(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of l){const v=Yx(p,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??xa),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const v=fp(h,new Map,this._backFill);v.forEach((T,R)=>{"!"===T?e.add(R):T===xa&&t.add(R)}),i||v.set("offset",p/this.duration),r.push(v)});const s=e.size?$S(e.values()):[],l=t.size?$S(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return BN(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class kZ extends QS{constructor(e,t,i,r,s,l,h=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,h=t/l,p=fp(e[0]);p.set("offset",0),s.push(p);const v=fp(e[0]);v.set("offset",W3(h)),s.push(v);const T=e.length-1;for(let R=1;R<=T;R++){let q=fp(e[R]);const me=q.get("offset");q.set("offset",W3((t+me*i)/l)),s.push(q)}i=l,t=0,r="",e=s}return BN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function W3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HN{}const OZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NZ extends HN{normalizePropertyName(e,t){return FN(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(OZ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function S7(n,e){return new a.vHH(3005,!1)}())}return l+s}}function Z3(n,e,t,i,r,s,l,h,p,v,T,R,q){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:h,queriedElements:p,preStyleProps:v,postStyleProps:T,totalTime:R,errors:q}}const zN={};class q3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function FZ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,h,p,v,T){const R=[],q=this.ast.options&&this.ast.options.params||zN,Te=this.buildStyles(i,h&&h.params||zN,R),Me=p&&p.params||zN,Ge=this.buildStyles(r,Me,R),At=new Set,Lt=new Map,pt=new Map,Bt="void"===r,Cn={params:LZ(Me,q),delay:this.ast.options?.delay},Pn=T?[]:UN(e,t,this.ast.animation,s,l,Te,Ge,Cn,v,R);let ni=0;if(Pn.forEach(Ns=>{ni=Math.max(Ns.duration+Ns.delay,ni)}),R.length)return Z3(t,this._triggerName,i,r,Bt,Te,Ge,[],[],Lt,pt,ni,R);Pn.forEach(Ns=>{const wc=Ns.element,hj=ka(Lt,wc,new Set);Ns.preStyleProps.forEach(__=>hj.add(__));const Qx=ka(pt,wc,new Set);Ns.postStyleProps.forEach(__=>Qx.add(__)),wc!==t&&At.add(wc)});const Ui=$S(At.values());return Z3(t,this._triggerName,i,r,Bt,Te,Ge,Pn,Ui,Lt,pt,ni)}}function LZ(n,e){const t=Zx(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class VZ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Zx(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=Yx(l,r,t));const p=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,p,l,t),i.set(h,l)})}),i}}class UZ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new VZ(r.style,r.options&&r.options.params||{},i))}),Y3(this.states,"true","1"),Y3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new q3(e,r,this.states))}),this.fallbackTransition=function jZ(n,e,t){return new q3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Y3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const HZ=new YS;class zZ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=LN(this._driver,t,i,[]);if(i.length)throw function Z7(n){return new a.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=R3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const h=new Map;if(s?(l=UN(this._driver,t,s,kN,jS,new Map,new Map,i,HZ,r),l.forEach(T=>{const R=ka(h,T.element,new Map);T.postStyleProps.forEach(q=>R.set(q,null))})):(r.push(function q7(){return new a.vHH(3300,!1)}()),l=[]),r.length)throw function Y7(n){return new a.vHH(3504,!1)}();h.forEach((T,R)=>{T.forEach((q,me)=>{T.set(me,this._driver.computeStyle(R,me,xa))})});const v=hp(l.map(T=>{const R=h.get(T.element);return this._buildPlayer(T,new Map,R)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function K7(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=SN(t,"","","");return DN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const K3="ng-animate-queued",GN="ng-animate-disabled",qZ=[],Q3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yl="__ng_removed";class $N{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function JZ(n){return n??null}(i?e.value:e),i){const s=Zx(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Kx="void",WN=new $N(Kx);class KZ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Q7(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function X7(n){return new a.vHH(3303,!1)}();if(!function eq(n){return"start"==n||"done"==n}(i))throw function J7(n,e){return new a.vHH(3400,!1)}();const s=ka(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const h=ka(this._engine.statesByElement,e,new Map);return h.has(t)||(bc(e,HS),bc(e,HS+"-"+t),h.set(t,WN)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function eZ(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new ZN(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(bc(e,HS),bc(e,HS+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const v=new $N(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),h.set(t,v),p||(p=WN),v.value!==Kx&&p.value===v.value){if(!function iq(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const Me=[],Ge=s.matchStyles(p.value,p.params,Me),At=s.matchStyles(v.value,v.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{m_(e,Ge),Iu(e,At)})}return}const q=ka(this._engine.playersByElement,e,[]);q.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let me=s.matchTransition(p.value,v.value,e,v.params),Te=!1;if(!me){if(!r)return;me=s.fallbackTransition,Te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:me,fromState:p,toState:v,player:l,isFallbackTransition:Te}),Te||(bc(e,K3),l.onStart(()=>{Ob(e,K3)})),l.onDone(()=>{let Me=this.players.indexOf(l);Me>=0&&this.players.splice(Me,1);const Ge=this._engine.playersByElement.get(e);if(Ge){let At=Ge.indexOf(l);At>=0&&Ge.splice(At,1)}}),this.players.push(l),q.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,zS,!0);i.forEach(r=>{if(r[yl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(s.forEach((p,v)=>{if(l.set(v,p.value),this._triggers.has(v)){const T=this.trigger(e,v,Kx,r);T&&h.push(T)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&hp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,v=i.get(l)||WN,T=new $N(Kx),R=new ZN(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:v,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[yl];(!s||s===Q3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){bc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==i.triggerName){const p=SN(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,DN(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class QZ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new KZ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const v=i.indexOf(p);i.splice(v+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(XS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!XS(t))return;const s=t[yl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bc(e,GN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ob(e,GN))}removeNode(e,t,i){if(XS(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[yl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return XS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,zS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,PN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[yl];if(t&&t.setForRemoval){if(e[yl]=Q3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(GN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?hp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function tZ(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new YS,r=[],s=new Map,l=[],h=new Map,p=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(bn=>{T.add(bn);const On=this.driver.query(bn,".ng-animate-queued",!0);for(let jn=0;jn<On.length;jn++)T.add(On[jn])});const R=this.bodyNode,q=Array.from(this.statesByElement.keys()),me=ej(q,this.collectedEnterElements),Te=new Map;let Me=0;me.forEach((bn,On)=>{const jn=kN+Me++;Te.set(On,jn),bn.forEach(Ti=>bc(Ti,jn))});const Ge=[],At=new Set,Lt=new Set;for(let bn=0;bn<this.collectedLeaveElements.length;bn++){const On=this.collectedLeaveElements[bn],jn=On[yl];jn&&jn.setForRemoval&&(Ge.push(On),At.add(On),jn.hasAnimation?this.driver.query(On,".ng-star-inserted",!0).forEach(Ti=>At.add(Ti)):Lt.add(On))}const pt=new Map,Bt=ej(q,Array.from(At));Bt.forEach((bn,On)=>{const jn=jS+Me++;pt.set(On,jn),bn.forEach(Ti=>bc(Ti,jn))}),e.push(()=>{me.forEach((bn,On)=>{const jn=Te.get(On);bn.forEach(Ti=>Ob(Ti,jn))}),Bt.forEach((bn,On)=>{const jn=pt.get(On);bn.forEach(Ti=>Ob(Ti,jn))}),Ge.forEach(bn=>{this.processLeaveNode(bn)})});const Cn=[],Pn=[];for(let bn=this._namespaceList.length-1;bn>=0;bn--)this._namespaceList[bn].drainQueuedTransitions(t).forEach(jn=>{const Ti=jn.player,Do=jn.element;if(Cn.push(Ti),this.collectedEnterElements.length){const os=Do[yl];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(jn.triggerName)){const v_=os.previousTriggersValues.get(jn.triggerName),Ec=this.statesByElement.get(jn.element);if(Ec&&Ec.has(jn.triggerName)){const tM=Ec.get(jn.triggerName);tM.value=v_,Ec.set(jn.triggerName,tM)}}return void Ti.destroy()}}const Tu=!R||!this.driver.containsElement(R,Do),Oa=pt.get(Do),pp=Te.get(Do),_r=this._buildInstruction(jn,i,pp,Oa,Tu);if(_r.errors&&_r.errors.length)return void Pn.push(_r);if(Tu)return Ti.onStart(()=>m_(Do,_r.fromStyles)),Ti.onDestroy(()=>Iu(Do,_r.toStyles)),void r.push(Ti);if(jn.isFallbackTransition)return Ti.onStart(()=>m_(Do,_r.fromStyles)),Ti.onDestroy(()=>Iu(Do,_r.toStyles)),void r.push(Ti);const mj=[];_r.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||mj.push(os)}),_r.timelines=mj,i.append(Do,_r.timelines),l.push({instruction:_r,player:Ti,element:Do}),_r.queriedElements.forEach(os=>ka(h,os,[]).push(Ti)),_r.preStyleProps.forEach((os,v_)=>{if(os.size){let Ec=p.get(v_);Ec||p.set(v_,Ec=new Set),os.forEach((tM,KN)=>Ec.add(KN))}}),_r.postStyleProps.forEach((os,v_)=>{let Ec=v.get(v_);Ec||v.set(v_,Ec=new Set),os.forEach((tM,KN)=>Ec.add(KN))})});if(Pn.length){const bn=[];Pn.forEach(On=>{bn.push(function nZ(n,e){return new a.vHH(3505,!1)}())}),Cn.forEach(On=>On.destroy()),this.reportError(bn)}const ni=new Map,Ui=new Map;l.forEach(bn=>{const On=bn.element;i.has(On)&&(Ui.set(On,On),this._beforeAnimationBuild(bn.player.namespaceId,bn.instruction,ni))}),r.forEach(bn=>{const On=bn.element;this._getPreviousPlayers(On,!1,bn.namespaceId,bn.triggerName,null).forEach(Ti=>{ka(ni,On,[]).push(Ti),Ti.destroy()})});const Ns=Ge.filter(bn=>nj(bn,p,v)),wc=new Map;J3(wc,this.driver,Lt,v,xa).forEach(bn=>{nj(bn,p,v)&&Ns.push(bn)});const Qx=new Map;me.forEach((bn,On)=>{J3(Qx,this.driver,new Set(bn),p,"!")}),Ns.forEach(bn=>{const On=wc.get(bn),jn=Qx.get(bn);wc.set(bn,new Map([...On?.entries()??[],...jn?.entries()??[]]))});const __=[],fj=[],pj={};l.forEach(bn=>{const{element:On,player:jn,instruction:Ti}=bn;if(i.has(On)){if(T.has(On))return jn.onDestroy(()=>Iu(On,Ti.toStyles)),jn.disabled=!0,jn.overrideTotalTime(Ti.totalTime),void r.push(jn);let Do=pj;if(Ui.size>1){let Oa=On;const pp=[];for(;Oa=Oa.parentNode;){const _r=Ui.get(Oa);if(_r){Do=_r;break}pp.push(Oa)}pp.forEach(_r=>Ui.set(_r,Do))}const Tu=this._buildAnimation(jn.namespaceId,Ti,ni,s,Qx,wc);if(jn.setRealPlayer(Tu),Do===pj)__.push(jn);else{const Oa=this.playersByElement.get(Do);Oa&&Oa.length&&(jn.parentPlayer=hp(Oa)),r.push(jn)}}else m_(On,Ti.fromStyles),jn.onDestroy(()=>Iu(On,Ti.toStyles)),fj.push(jn),T.has(On)&&r.push(jn)}),fj.forEach(bn=>{const On=s.get(bn.element);if(On&&On.length){const jn=hp(On);bn.setRealPlayer(jn)}}),r.forEach(bn=>{bn.parentPlayer?bn.syncPlayerEvents(bn.parentPlayer):bn.destroy()});for(let bn=0;bn<Ge.length;bn++){const On=Ge[bn],jn=On[yl];if(Ob(On,jS),jn&&jn.hasAnimation)continue;let Ti=[];if(h.size){let Tu=h.get(On);Tu&&Tu.length&&Ti.push(...Tu);let Oa=this.driver.query(On,PN,!0);for(let pp=0;pp<Oa.length;pp++){let _r=h.get(Oa[pp]);_r&&_r.length&&Ti.push(..._r)}}const Do=Ti.filter(Tu=>!Tu.destroyed);Do.length?tq(this,On,Do):this.processLeaveNode(On)}return Ge.length=0,__.forEach(bn=>{this.players.push(bn),bn.onDone(()=>{bn.destroy();const On=this.players.indexOf(bn);this.players.splice(On,1)}),bn.play()}),__}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==Kx;h.forEach(v=>{v.queued||!p&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,T=v!==s,R=ka(i,v,[]);this._getPreviousPlayers(v,T,l,h,t.toState).forEach(me=>{const Te=me.getRealPlayer();Te.beforeDestroy&&Te.beforeDestroy(),me.destroy(),R.push(me)})}m_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const h=t.triggerName,p=t.element,v=[],T=new Set,R=new Set,q=t.timelines.map(Te=>{const Me=Te.element;T.add(Me);const Ge=Me[yl];if(Ge&&Ge.removedBeforeQueried)return new pv(Te.duration,Te.delay);const At=Me!==p,Lt=function nq(n){const e=[];return tj(n,e),e}((i.get(Me)||qZ).map(ni=>ni.getRealPlayer())).filter(ni=>!!ni.element&&ni.element===Me),pt=s.get(Me),Bt=l.get(Me),Cn=R3(this._normalizer,Te.keyframes,pt,Bt),Pn=this._buildPlayer(Te,Cn,Lt);if(Te.subTimeline&&r&&R.add(Me),At){const ni=new ZN(e,h,Me);ni.setRealPlayer(Pn),v.push(ni)}return Pn});v.forEach(Te=>{ka(this.playersByQueriedElement,Te.element,[]).push(Te),Te.onDone(()=>function XZ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Te.element,Te))}),T.forEach(Te=>bc(Te,V3));const me=hp(q);return me.onDestroy(()=>{T.forEach(Te=>Ob(Te,V3)),Iu(p,t.toStyles)}),R.forEach(Te=>{ka(r,Te,[]).push(me)}),me}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new pv(e.duration,e.delay)}}class ZN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new pv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>DN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ka(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function XS(n){return n&&1===n.nodeType}function X3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function J3(n,e,t,i,r){const s=[];t.forEach(p=>s.push(X3(p)));const l=[];i.forEach((p,v)=>{const T=new Map;p.forEach(R=>{const q=e.computeStyle(v,R,r);T.set(R,q),(!q||0==q.length)&&(v[yl]=YZ,l.push(v))}),n.set(v,T)});let h=0;return t.forEach(p=>X3(p,s[h++])),l}function ej(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(h){if(!h)return 1;let p=s.get(h);if(p)return p;const v=h.parentNode;return p=t.has(v)?v:r.has(v)?1:l(v),s.set(h,p),p}return e.forEach(h=>{const p=l(h);1!==p&&t.get(p).push(h)}),t}function bc(n,e){n.classList?.add(e)}function Ob(n,e){n.classList?.remove(e)}function tq(n,e,t){hp(t).onDone(()=>n.processLeaveNode(e))}function tj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof yI?tj(i.players,e):e.push(i)}}function nj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class JS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new QZ(e,t,i),this._timelineEngine=new zZ(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let h=this._triggerCache[l];if(!h){const p=[],T=LN(this._driver,s,p,[]);if(p.length)throw function $7(n,e){return new a.vHH(3404,!1)}();h=function BZ(n,e,t){return new UZ(n,e,t)}(r,T,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=k3(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,h]=k3(i);return this._timelineEngine.listen(l,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let oq=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Iu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Iu(this._element,this._initialStyles),this._endStyles&&(Iu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(m_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(m_(this._element,this._endStyles),this._endStyles=null),Iu(this._element,this._initialStyles),this._state=3)}}return n})();function qN(n){let e=null;return n.forEach((t,i)=>{(function sq(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ij{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:H3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class aq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return O3(e,t)}getParentElement(e){return MN(e)}query(e,t,i){return N3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v=new Map,T=l.filter(me=>me instanceof ij);(function pZ(n,e){return 0===n||0===e})(i,r)&&T.forEach(me=>{me.currentSnapshot.forEach((Te,Me)=>v.set(Me,Te))});let R=function dZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>B3(e)):[]}(t).map(me=>fp(me));R=function mZ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(h=>l.set(h,H3(n,h)))}}return e}(e,R,v);const q=function rq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qN(e[0]),e.length>1&&(i=qN(e[e.length-1]))):e instanceof Map&&(t=qN(e)),t||i?new oq(n,t,i):null}(e,R);return new ij(e,R,p,q)}}let cq=(()=>{class n extends vm{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?_I(t):t;return rj(this._renderer,null,i,"register",[r]),new lq(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(I.K0))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class lq extends gI{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new uq(this._id,e,t||{},this._renderer)}}class uq{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const oj="@.disabled";let dq=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(s);return T||(T=new sj("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,T)),T}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=T=>{Array.isArray(T)?T.forEach(p):this.engine.registerTrigger(l,h,t,T.name,T)};return i.data.animation.forEach(p),new hq(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(JS),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class sj{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==oj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hq extends sj{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function fq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function pq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let mq=(()=>{class n extends JS{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(I.K0),a.LFG(RN),a.LFG(HN),a.LFG(a.z2F))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const aj=[{provide:vm,useClass:cq},{provide:HN,useFactory:function gq(){return new NZ}},{provide:JS,useClass:mq},{provide:a.FYo,useFactory:function _q(n,e,t){return new dq(n,e,t)},deps:[Re,JS,a.R0b]}],YN=[{provide:RN,useFactory:()=>new aq},{provide:a.QbO,useValue:"BrowserAnimations"},...aj],cj=[{provide:RN,useClass:F3},{provide:a.QbO,useValue:"NoopAnimations"},...aj];let vq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?cj:YN}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:YN,imports:[An]})}return n})();var yq=y(3176);let Rq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[pn.BQ,I.ez,pn.si,pn.BQ]})}return n})(),Pq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[I.ez,pn.BQ,_v,_v,pn.BQ]})}return n})(),Oq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n,bootstrap:[Sm]});static#n=this.\u0275inj=a.cJS({providers:[XU,_3],imports:[$M.initializeApp(fG_firebase),QM,eH,ZT,hG,x7,An,vq,c$,Mo.ot,YW,j$,T$,LW,EN,yq.N6,oo,k9,U0,gF,Rq,Pq,l$,tv,d7]})}return n})();Ut().bootstrapModule(Oq).catch(n=>console.error(n))},9919:(ae,se)=>{"use strict";se.byteLength=function S(K){var Z=U(K),ne=Z[1];return 3*(Z[0]+ne)/4-ne},se.toByteArray=function j(K){var Z,M,ce=U(K),ne=ce[0],ye=ce[1],ee=new I(function F(K,Z,ce){return 3*(Z+ce)/4-ce}(0,ne,ye)),te=0,Y=ye>0?ne-4:ne;for(M=0;M<Y;M+=4)Z=a[K.charCodeAt(M)]<<18|a[K.charCodeAt(M+1)]<<12|a[K.charCodeAt(M+2)]<<6|a[K.charCodeAt(M+3)],ee[te++]=Z>>16&255,ee[te++]=Z>>8&255,ee[te++]=255&Z;return 2===ye&&(Z=a[K.charCodeAt(M)]<<2|a[K.charCodeAt(M+1)]>>4,ee[te++]=255&Z),1===ye&&(Z=a[K.charCodeAt(M)]<<10|a[K.charCodeAt(M+1)]<<4|a[K.charCodeAt(M+2)]>>2,ee[te++]=Z>>8&255,ee[te++]=255&Z),ee},se.fromByteArray=function Q(K){for(var Z,ce=K.length,ne=ce%3,ye=[],te=0,Y=ce-ne;te<Y;te+=16383)ye.push($(K,te,te+16383>Y?Y:te+16383));return 1===ne?ye.push(y[(Z=K[ce-1])>>2]+y[Z<<4&63]+"=="):2===ne&&ye.push(y[(Z=(K[ce-2]<<8)+K[ce-1])>>10]+y[Z>>4&63]+y[Z<<2&63]+"="),ye.join("")};for(var y=[],a=[],I=typeof Uint8Array<"u"?Uint8Array:Array,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0;P<64;++P)y[P]=D[P],a[D.charCodeAt(P)]=P;function U(K){var Z=K.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ce=K.indexOf("=");return-1===ce&&(ce=Z),[ce,ce===Z?0:4-ce%4]}function O(K){return y[K>>18&63]+y[K>>12&63]+y[K>>6&63]+y[63&K]}function $(K,Z,ce){for(var ye=[],ee=Z;ee<ce;ee+=3)ye.push(O((K[ee]<<16&16711680)+(K[ee+1]<<8&65280)+(255&K[ee+2])));return ye.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},9007:(ae,se,y)=>{"use strict";var a=y(9919),I=y(2601),D="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;se.Buffer=S,se.SlowBuffer=function ee(ge){return+ge!=ge&&(ge=0),S.alloc(+ge)},se.INSPECT_MAX_BYTES=50;var P=2147483647;function U(ge){if(ge>P)throw new RangeError('The value "'+ge+'" is invalid for option "size"');var V=new Uint8Array(ge);return Object.setPrototypeOf(V,S.prototype),V}function S(ge,V,G){if("number"==typeof ge){if("string"==typeof V)throw new TypeError('The "string" argument must be of type string. Received type number');return $(ge)}return F(ge,V,G)}function F(ge,V,G){if("string"==typeof ge)return function Q(ge,V){if(("string"!=typeof V||""===V)&&(V="utf8"),!S.isEncoding(V))throw new TypeError("Unknown encoding: "+V);var G=0|te(ge,V),Ee=U(G),We=Ee.write(ge,V);return We!==G&&(Ee=Ee.slice(0,We)),Ee}(ge,V);if(ArrayBuffer.isView(ge))return function Z(ge){if(fn(ge,Uint8Array)){var V=new Uint8Array(ge);return ce(V.buffer,V.byteOffset,V.byteLength)}return K(ge)}(ge);if(null==ge)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ge);if(fn(ge,ArrayBuffer)||ge&&fn(ge.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fn(ge,SharedArrayBuffer)||ge&&fn(ge.buffer,SharedArrayBuffer)))return ce(ge,V,G);if("number"==typeof ge)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=ge.valueOf&&ge.valueOf();if(null!=Ee&&Ee!==ge)return S.from(Ee,V,G);var We=function ne(ge){if(S.isBuffer(ge)){var V=0|ye(ge.length),G=U(V);return 0===G.length||ge.copy(G,0,0,V),G}return void 0!==ge.length?"number"!=typeof ge.length||Dn(ge.length)?U(0):K(ge):"Buffer"===ge.type&&Array.isArray(ge.data)?K(ge.data):void 0}(ge);if(We)return We;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ge[Symbol.toPrimitive])return S.from(ge[Symbol.toPrimitive]("string"),V,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ge)}function j(ge){if("number"!=typeof ge)throw new TypeError('"size" argument must be of type number');if(ge<0)throw new RangeError('The value "'+ge+'" is invalid for option "size"')}function $(ge){return j(ge),U(ge<0?0:0|ye(ge))}function K(ge){for(var V=ge.length<0?0:0|ye(ge.length),G=U(V),Ee=0;Ee<V;Ee+=1)G[Ee]=255&ge[Ee];return G}function ce(ge,V,G){if(V<0||ge.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(ge.byteLength<V+(G||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=void 0===V&&void 0===G?new Uint8Array(ge):void 0===G?new Uint8Array(ge,V):new Uint8Array(ge,V,G),Object.setPrototypeOf(Ee,S.prototype),Ee}function ye(ge){if(ge>=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");return 0|ge}function te(ge,V){if(S.isBuffer(ge))return ge.length;if(ArrayBuffer.isView(ge)||fn(ge,ArrayBuffer))return ge.byteLength;if("string"!=typeof ge)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ge);var G=ge.length,Ee=arguments.length>2&&!0===arguments[2];if(!Ee&&0===G)return 0;for(var We=!1;;)switch(V){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return he(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return Ut(ge).length;default:if(We)return Ee?-1:he(ge).length;V=(""+V).toLowerCase(),We=!0}}function Y(ge,V,G){var Ee=!1;if((void 0===V||V<0)&&(V=0),V>this.length||((void 0===G||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(V>>>=0))return"";for(ge||(ge="utf8");;)switch(ge){case"hex":return hn(this,V,G);case"utf8":case"utf-8":return Be(this,V,G);case"ascii":return St(this,V,G);case"latin1":case"binary":return wn(this,V,G);case"base64":return Pe(this,V,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,V,G);default:if(Ee)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),Ee=!0}}function M(ge,V,G){var Ee=ge[V];ge[V]=ge[G],ge[G]=Ee}function k(ge,V,G,Ee,We){if(0===ge.length)return-1;if("string"==typeof G?(Ee=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Dn(G=+G)&&(G=We?0:ge.length-1),G<0&&(G=ge.length+G),G>=ge.length){if(We)return-1;G=ge.length-1}else if(G<0){if(!We)return-1;G=0}if("string"==typeof V&&(V=S.from(V,Ee)),S.isBuffer(V))return 0===V.length?-1:W(ge,V,G,Ee,We);if("number"==typeof V)return V&=255,"function"==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(ge,V,G):Uint8Array.prototype.lastIndexOf.call(ge,V,G):W(ge,[V],G,Ee,We);throw new TypeError("val must be string, number or Buffer")}function W(ge,V,G,Ee,We){var jt,mt=1,Tt=ge.length,Nt=V.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(ge.length<2||V.length<2)return-1;mt=2,Tt/=2,Nt/=2,G/=2}function Qt(Ae,Ze){return 1===mt?Ae[Ze]:Ae.readUInt16BE(Ze*mt)}if(We){var Fn=-1;for(jt=G;jt<Tt;jt++)if(Qt(ge,jt)===Qt(V,-1===Fn?0:jt-Fn)){if(-1===Fn&&(Fn=jt),jt-Fn+1===Nt)return Fn*mt}else-1!==Fn&&(jt-=jt-Fn),Fn=-1}else for(G+Nt>Tt&&(G=Tt-Nt),jt=G;jt>=0;jt--){for(var Wn=!0,Si=0;Si<Nt;Si++)if(Qt(ge,jt+Si)!==Qt(V,Si)){Wn=!1;break}if(Wn)return jt}return-1}function be(ge,V,G,Ee){G=Number(G)||0;var We=ge.length-G;Ee?(Ee=Number(Ee))>We&&(Ee=We):Ee=We;var mt=V.length;Ee>mt/2&&(Ee=mt/2);for(var Tt=0;Tt<Ee;++Tt){var Nt=parseInt(V.substr(2*Tt,2),16);if(Dn(Nt))return Tt;ge[G+Tt]=Nt}return Tt}function J(ge,V,G,Ee){return _n(he(V,ge.length-G),ge,G,Ee)}function Re(ge,V,G,Ee){return _n(function Ye(ge){for(var V=[],G=0;G<ge.length;++G)V.push(255&ge.charCodeAt(G));return V}(V),ge,G,Ee)}function fe(ge,V,G,Ee){return _n(Ut(V),ge,G,Ee)}function Ce(ge,V,G,Ee){return _n(function Fe(ge,V){for(var G,Ee,mt=[],Tt=0;Tt<ge.length&&!((V-=2)<0);++Tt)Ee=(G=ge.charCodeAt(Tt))>>8,mt.push(G%256),mt.push(Ee);return mt}(V,ge.length-G),ge,G,Ee)}function Pe(ge,V,G){return a.fromByteArray(0===V&&G===ge.length?ge:ge.slice(V,G))}function Be(ge,V,G){G=Math.min(ge.length,G);for(var Ee=[],We=V;We<G;){var Qt,jt,Fn,Wn,mt=ge[We],Tt=null,Nt=mt>239?4:mt>223?3:mt>191?2:1;if(We+Nt<=G)switch(Nt){case 1:mt<128&&(Tt=mt);break;case 2:128==(192&(Qt=ge[We+1]))&&(Wn=(31&mt)<<6|63&Qt)>127&&(Tt=Wn);break;case 3:jt=ge[We+2],128==(192&(Qt=ge[We+1]))&&128==(192&jt)&&(Wn=(15&mt)<<12|(63&Qt)<<6|63&jt)>2047&&(Wn<55296||Wn>57343)&&(Tt=Wn);break;case 4:jt=ge[We+2],Fn=ge[We+3],128==(192&(Qt=ge[We+1]))&&128==(192&jt)&&128==(192&Fn)&&(Wn=(15&mt)<<18|(63&Qt)<<12|(63&jt)<<6|63&Fn)>65535&&Wn<1114112&&(Tt=Wn)}null===Tt?(Tt=65533,Nt=1):Tt>65535&&(Ee.push((Tt-=65536)>>>10&1023|55296),Tt=56320|1023&Tt),Ee.push(Tt),We+=Nt}return function Ht(ge){var V=ge.length;if(V<=vt)return String.fromCharCode.apply(String,ge);for(var G="",Ee=0;Ee<V;)G+=String.fromCharCode.apply(String,ge.slice(Ee,Ee+=vt));return G}(Ee)}se.kMaxLength=P,!(S.TYPED_ARRAY_SUPPORT=function L(){try{var ge=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(ge,V),42===ge.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(ge,V,G){return F(ge,V,G)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(ge,V,G){return function O(ge,V,G){return j(ge),ge<=0?U(ge):void 0!==V?"string"==typeof G?U(ge).fill(V,G):U(ge).fill(V):U(ge)}(ge,V,G)},S.allocUnsafe=function(ge){return $(ge)},S.allocUnsafeSlow=function(ge){return $(ge)},S.isBuffer=function(V){return null!=V&&!0===V._isBuffer&&V!==S.prototype},S.compare=function(V,G){if(fn(V,Uint8Array)&&(V=S.from(V,V.offset,V.byteLength)),fn(G,Uint8Array)&&(G=S.from(G,G.offset,G.byteLength)),!S.isBuffer(V)||!S.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===G)return 0;for(var Ee=V.length,We=G.length,mt=0,Tt=Math.min(Ee,We);mt<Tt;++mt)if(V[mt]!==G[mt]){Ee=V[mt],We=G[mt];break}return Ee<We?-1:We<Ee?1:0},S.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(V,G){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(0===V.length)return S.alloc(0);var Ee;if(void 0===G)for(G=0,Ee=0;Ee<V.length;++Ee)G+=V[Ee].length;var We=S.allocUnsafe(G),mt=0;for(Ee=0;Ee<V.length;++Ee){var Tt=V[Ee];if(fn(Tt,Uint8Array))mt+Tt.length>We.length?S.from(Tt).copy(We,mt):Uint8Array.prototype.set.call(We,Tt,mt);else{if(!S.isBuffer(Tt))throw new TypeError('"list" argument must be an Array of Buffers');Tt.copy(We,mt)}mt+=Tt.length}return We},S.byteLength=te,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<V;G+=2)M(this,G,G+1);return this},S.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<V;G+=4)M(this,G,G+3),M(this,G+1,G+2);return this},S.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<V;G+=8)M(this,G,G+7),M(this,G+1,G+6),M(this,G+2,G+5),M(this,G+3,G+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var V=this.length;return 0===V?"":0===arguments.length?Be(this,0,V):Y.apply(this,arguments)},S.prototype.equals=function(V){if(!S.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||0===S.compare(this,V)},S.prototype.inspect=function(){var V="",G=se.INSPECT_MAX_BYTES;return V=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(V+=" ... "),"<Buffer "+V+">"},D&&(S.prototype[D]=S.prototype.inspect),S.prototype.compare=function(V,G,Ee,We,mt){if(fn(V,Uint8Array)&&(V=S.from(V,V.offset,V.byteLength)),!S.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(void 0===G&&(G=0),void 0===Ee&&(Ee=V?V.length:0),void 0===We&&(We=0),void 0===mt&&(mt=this.length),G<0||Ee>V.length||We<0||mt>this.length)throw new RangeError("out of range index");if(We>=mt&&G>=Ee)return 0;if(We>=mt)return-1;if(G>=Ee)return 1;if(this===V)return 0;for(var Tt=(mt>>>=0)-(We>>>=0),Nt=(Ee>>>=0)-(G>>>=0),Qt=Math.min(Tt,Nt),jt=this.slice(We,mt),Fn=V.slice(G,Ee),Wn=0;Wn<Qt;++Wn)if(jt[Wn]!==Fn[Wn]){Tt=jt[Wn],Nt=Fn[Wn];break}return Tt<Nt?-1:Nt<Tt?1:0},S.prototype.includes=function(V,G,Ee){return-1!==this.indexOf(V,G,Ee)},S.prototype.indexOf=function(V,G,Ee){return k(this,V,G,Ee,!0)},S.prototype.lastIndexOf=function(V,G,Ee){return k(this,V,G,Ee,!1)},S.prototype.write=function(V,G,Ee,We){if(void 0===G)We="utf8",Ee=this.length,G=0;else if(void 0===Ee&&"string"==typeof G)We=G,Ee=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(Ee)?(Ee>>>=0,void 0===We&&(We="utf8")):(We=Ee,Ee=void 0)}var mt=this.length-G;if((void 0===Ee||Ee>mt)&&(Ee=mt),V.length>0&&(Ee<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var Tt=!1;;)switch(We){case"hex":return be(this,V,G,Ee);case"utf8":case"utf-8":return J(this,V,G,Ee);case"ascii":case"latin1":case"binary":return Re(this,V,G,Ee);case"base64":return fe(this,V,G,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,V,G,Ee);default:if(Tt)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Tt=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var vt=4096;function St(ge,V,G){var Ee="";G=Math.min(ge.length,G);for(var We=V;We<G;++We)Ee+=String.fromCharCode(127&ge[We]);return Ee}function wn(ge,V,G){var Ee="";G=Math.min(ge.length,G);for(var We=V;We<G;++We)Ee+=String.fromCharCode(ge[We]);return Ee}function hn(ge,V,G){var Ee=ge.length;(!V||V<0)&&(V=0),(!G||G<0||G>Ee)&&(G=Ee);for(var We="",mt=V;mt<G;++mt)We+=An[ge[mt]];return We}function tt(ge,V,G){for(var Ee=ge.slice(V,G),We="",mt=0;mt<Ee.length-1;mt+=2)We+=String.fromCharCode(Ee[mt]+256*Ee[mt+1]);return We}function Ke(ge,V,G){if(ge%1!=0||ge<0)throw new RangeError("offset is not uint");if(ge+V>G)throw new RangeError("Trying to access beyond buffer length")}function $e(ge,V,G,Ee,We,mt){if(!S.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>We||V<mt)throw new RangeError('"value" argument is out of bounds');if(G+Ee>ge.length)throw new RangeError("Index out of range")}function at(ge,V,G,Ee,We,mt){if(G+Ee>ge.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function ze(ge,V,G,Ee,We){return V=+V,G>>>=0,We||at(ge,0,G,4),I.write(ge,V,G,Ee,23,4),G+4}function qe(ge,V,G,Ee,We){return V=+V,G>>>=0,We||at(ge,0,G,8),I.write(ge,V,G,Ee,52,8),G+8}S.prototype.slice=function(V,G){var Ee=this.length;(V=~~V)<0?(V+=Ee)<0&&(V=0):V>Ee&&(V=Ee),(G=void 0===G?Ee:~~G)<0?(G+=Ee)<0&&(G=0):G>Ee&&(G=Ee),G<V&&(G=V);var We=this.subarray(V,G);return Object.setPrototypeOf(We,S.prototype),We},S.prototype.readUintLE=S.prototype.readUIntLE=function(V,G,Ee){V>>>=0,G>>>=0,Ee||Ke(V,G,this.length);for(var We=this[V],mt=1,Tt=0;++Tt<G&&(mt*=256);)We+=this[V+Tt]*mt;return We},S.prototype.readUintBE=S.prototype.readUIntBE=function(V,G,Ee){V>>>=0,G>>>=0,Ee||Ke(V,G,this.length);for(var We=this[V+--G],mt=1;G>0&&(mt*=256);)We+=this[V+--G]*mt;return We},S.prototype.readUint8=S.prototype.readUInt8=function(V,G){return V>>>=0,G||Ke(V,1,this.length),this[V]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(V,G){return V>>>=0,G||Ke(V,2,this.length),this[V]|this[V+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(V,G){return V>>>=0,G||Ke(V,2,this.length),this[V]<<8|this[V+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(V,G){return V>>>=0,G||Ke(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(V,G){return V>>>=0,G||Ke(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},S.prototype.readIntLE=function(V,G,Ee){V>>>=0,G>>>=0,Ee||Ke(V,G,this.length);for(var We=this[V],mt=1,Tt=0;++Tt<G&&(mt*=256);)We+=this[V+Tt]*mt;return We>=(mt*=128)&&(We-=Math.pow(2,8*G)),We},S.prototype.readIntBE=function(V,G,Ee){V>>>=0,G>>>=0,Ee||Ke(V,G,this.length);for(var We=G,mt=1,Tt=this[V+--We];We>0&&(mt*=256);)Tt+=this[V+--We]*mt;return Tt>=(mt*=128)&&(Tt-=Math.pow(2,8*G)),Tt},S.prototype.readInt8=function(V,G){return V>>>=0,G||Ke(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},S.prototype.readInt16LE=function(V,G){V>>>=0,G||Ke(V,2,this.length);var Ee=this[V]|this[V+1]<<8;return 32768&Ee?4294901760|Ee:Ee},S.prototype.readInt16BE=function(V,G){V>>>=0,G||Ke(V,2,this.length);var Ee=this[V+1]|this[V]<<8;return 32768&Ee?4294901760|Ee:Ee},S.prototype.readInt32LE=function(V,G){return V>>>=0,G||Ke(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},S.prototype.readInt32BE=function(V,G){return V>>>=0,G||Ke(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},S.prototype.readFloatLE=function(V,G){return V>>>=0,G||Ke(V,4,this.length),I.read(this,V,!0,23,4)},S.prototype.readFloatBE=function(V,G){return V>>>=0,G||Ke(V,4,this.length),I.read(this,V,!1,23,4)},S.prototype.readDoubleLE=function(V,G){return V>>>=0,G||Ke(V,8,this.length),I.read(this,V,!0,52,8)},S.prototype.readDoubleBE=function(V,G){return V>>>=0,G||Ke(V,8,this.length),I.read(this,V,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(V,G,Ee,We){V=+V,G>>>=0,Ee>>>=0,We||$e(this,V,G,Ee,Math.pow(2,8*Ee)-1,0);var Tt=1,Nt=0;for(this[G]=255&V;++Nt<Ee&&(Tt*=256);)this[G+Nt]=V/Tt&255;return G+Ee},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(V,G,Ee,We){V=+V,G>>>=0,Ee>>>=0,We||$e(this,V,G,Ee,Math.pow(2,8*Ee)-1,0);var Tt=Ee-1,Nt=1;for(this[G+Tt]=255&V;--Tt>=0&&(Nt*=256);)this[G+Tt]=V/Nt&255;return G+Ee},S.prototype.writeUint8=S.prototype.writeUInt8=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,1,255,0),this[G]=255&V,G+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,2,65535,0),this[G]=255&V,this[G+1]=V>>>8,G+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,2,65535,0),this[G]=V>>>8,this[G+1]=255&V,G+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,4,4294967295,0),this[G+3]=V>>>24,this[G+2]=V>>>16,this[G+1]=V>>>8,this[G]=255&V,G+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,4,4294967295,0),this[G]=V>>>24,this[G+1]=V>>>16,this[G+2]=V>>>8,this[G+3]=255&V,G+4},S.prototype.writeIntLE=function(V,G,Ee,We){if(V=+V,G>>>=0,!We){var mt=Math.pow(2,8*Ee-1);$e(this,V,G,Ee,mt-1,-mt)}var Tt=0,Nt=1,Qt=0;for(this[G]=255&V;++Tt<Ee&&(Nt*=256);)V<0&&0===Qt&&0!==this[G+Tt-1]&&(Qt=1),this[G+Tt]=(V/Nt>>0)-Qt&255;return G+Ee},S.prototype.writeIntBE=function(V,G,Ee,We){if(V=+V,G>>>=0,!We){var mt=Math.pow(2,8*Ee-1);$e(this,V,G,Ee,mt-1,-mt)}var Tt=Ee-1,Nt=1,Qt=0;for(this[G+Tt]=255&V;--Tt>=0&&(Nt*=256);)V<0&&0===Qt&&0!==this[G+Tt+1]&&(Qt=1),this[G+Tt]=(V/Nt>>0)-Qt&255;return G+Ee},S.prototype.writeInt8=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,1,127,-128),V<0&&(V=255+V+1),this[G]=255&V,G+1},S.prototype.writeInt16LE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,2,32767,-32768),this[G]=255&V,this[G+1]=V>>>8,G+2},S.prototype.writeInt16BE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,2,32767,-32768),this[G]=V>>>8,this[G+1]=255&V,G+2},S.prototype.writeInt32LE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,4,2147483647,-2147483648),this[G]=255&V,this[G+1]=V>>>8,this[G+2]=V>>>16,this[G+3]=V>>>24,G+4},S.prototype.writeInt32BE=function(V,G,Ee){return V=+V,G>>>=0,Ee||$e(this,V,G,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[G]=V>>>24,this[G+1]=V>>>16,this[G+2]=V>>>8,this[G+3]=255&V,G+4},S.prototype.writeFloatLE=function(V,G,Ee){return ze(this,V,G,!0,Ee)},S.prototype.writeFloatBE=function(V,G,Ee){return ze(this,V,G,!1,Ee)},S.prototype.writeDoubleLE=function(V,G,Ee){return qe(this,V,G,!0,Ee)},S.prototype.writeDoubleBE=function(V,G,Ee){return qe(this,V,G,!1,Ee)},S.prototype.copy=function(V,G,Ee,We){if(!S.isBuffer(V))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!We&&0!==We&&(We=this.length),G>=V.length&&(G=V.length),G||(G=0),We>0&&We<Ee&&(We=Ee),We===Ee||0===V.length||0===this.length)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),V.length-G<We-Ee&&(We=V.length-G+Ee);var mt=We-Ee;return this===V&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(G,Ee,We):Uint8Array.prototype.set.call(V,this.subarray(Ee,We),G),mt},S.prototype.fill=function(V,G,Ee,We){if("string"==typeof V){if("string"==typeof G?(We=G,G=0,Ee=this.length):"string"==typeof Ee&&(We=Ee,Ee=this.length),void 0!==We&&"string"!=typeof We)throw new TypeError("encoding must be a string");if("string"==typeof We&&!S.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(1===V.length){var mt=V.charCodeAt(0);("utf8"===We&&mt<128||"latin1"===We)&&(V=mt)}}else"number"==typeof V?V&=255:"boolean"==typeof V&&(V=Number(V));if(G<0||this.length<G||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=G)return this;var Tt;if(G>>>=0,Ee=void 0===Ee?this.length:Ee>>>0,V||(V=0),"number"==typeof V)for(Tt=G;Tt<Ee;++Tt)this[Tt]=V;else{var Nt=S.isBuffer(V)?V:S.from(V,We),Qt=Nt.length;if(0===Qt)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(Tt=0;Tt<Ee-G;++Tt)this[Tt+G]=Nt[Tt%Qt]}return this};var Ct=/[^+/0-9A-Za-z-_]/g;function he(ge,V){V=V||1/0;for(var G,Ee=ge.length,We=null,mt=[],Tt=0;Tt<Ee;++Tt){if((G=ge.charCodeAt(Tt))>55295&&G<57344){if(!We){if(G>56319){(V-=3)>-1&&mt.push(239,191,189);continue}if(Tt+1===Ee){(V-=3)>-1&&mt.push(239,191,189);continue}We=G;continue}if(G<56320){(V-=3)>-1&&mt.push(239,191,189),We=G;continue}G=65536+(We-55296<<10|G-56320)}else We&&(V-=3)>-1&&mt.push(239,191,189);if(We=null,G<128){if((V-=1)<0)break;mt.push(G)}else if(G<2048){if((V-=2)<0)break;mt.push(G>>6|192,63&G|128)}else if(G<65536){if((V-=3)<0)break;mt.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;mt.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return mt}function Ut(ge){return a.toByteArray(function le(ge){if((ge=(ge=ge.split("=")[0]).trim().replace(Ct,"")).length<2)return"";for(;ge.length%4!=0;)ge+="=";return ge}(ge))}function _n(ge,V,G,Ee){for(var We=0;We<Ee&&!(We+G>=V.length||We>=ge.length);++We)V[We+G]=ge[We];return We}function fn(ge,V){return ge instanceof V||null!=ge&&null!=ge.constructor&&null!=ge.constructor.name&&ge.constructor.name===V.name}function Dn(ge){return ge!=ge}var An=function(){for(var ge="0123456789abcdef",V=new Array(256),G=0;G<16;++G)for(var Ee=16*G,We=0;We<16;++We)V[Ee+We]=ge[G]+ge[We];return V}()},5227:ae=>{function se(a){if(a)return function y(a){for(var I in se.prototype)a[I]=se.prototype[I];return a}(a)}ae.exports=se,se.prototype.on=se.prototype.addEventListener=function(a,I){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(I),this},se.prototype.once=function(a,I){var D=this;function P(){D.off(a,P),I.apply(this,arguments)}return this._callbacks=this._callbacks||{},P.fn=I,this.on(a,P),this},se.prototype.off=se.prototype.removeListener=se.prototype.removeAllListeners=se.prototype.removeEventListener=function(a,I){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var D=this._callbacks[a];if(!D)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var P,L=0;L<D.length;L++)if((P=D[L])===I||P.fn===I){D.splice(L,1);break}return this},se.prototype.emit=function(a){this._callbacks=this._callbacks||{};var I=[].slice.call(arguments,1),D=this._callbacks[a];if(D)for(var P=0,L=(D=D.slice(0)).length;P<L;++P)D[P].apply(this,I);return this},se.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},se.prototype.hasListeners=function(a){return!!this.listeners(a).length}},2016:ae=>{"use strict";var a,se="object"==typeof Reflect?Reflect:null,y=se&&"function"==typeof se.apply?se.apply:function(Y,M,k){return Function.prototype.apply.call(Y,M,k)};a=se&&"function"==typeof se.ownKeys?se.ownKeys:Object.getOwnPropertySymbols?function(Y){return Object.getOwnPropertyNames(Y).concat(Object.getOwnPropertySymbols(Y))}:function(Y){return Object.getOwnPropertyNames(Y)};var D=Number.isNaN||function(Y){return Y!=Y};function P(){P.init.call(this)}ae.exports=P,ae.exports.once=function ne(te,Y){return new Promise(function(M,k){function W(J){te.removeListener(Y,be),k(J)}function be(){"function"==typeof te.removeListener&&te.removeListener("error",W),M([].slice.call(arguments))}ee(te,Y,be,{once:!0}),"error"!==Y&&function ye(te,Y,M){"function"==typeof te.on&&ee(te,"error",Y,M)}(te,W,{once:!0})})},P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var L=10;function U(te){if("function"!=typeof te)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof te)}function S(te){return void 0===te._maxListeners?P.defaultMaxListeners:te._maxListeners}function F(te,Y,M,k){var W,be,J;if(U(M),void 0===(be=te._events)?(be=te._events=Object.create(null),te._eventsCount=0):(void 0!==be.newListener&&(te.emit("newListener",Y,M.listener?M.listener:M),be=te._events),J=be[Y]),void 0===J)J=be[Y]=M,++te._eventsCount;else if("function"==typeof J?J=be[Y]=k?[M,J]:[J,M]:k?J.unshift(M):J.push(M),(W=S(te))>0&&J.length>W&&!J.warned){J.warned=!0;var Re=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(Y)+" listeners added. Use emitter.setMaxListeners() to increase limit");Re.name="MaxListenersExceededWarning",Re.emitter=te,Re.type=Y,Re.count=J.length,function I(te){console&&console.warn&&console.warn(te)}(Re)}return te}function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(te,Y,M){var k={fired:!1,wrapFn:void 0,target:te,type:Y,listener:M},W=j.bind(k);return W.listener=M,k.wrapFn=W,W}function $(te,Y,M){var k=te._events;if(void 0===k)return[];var W=k[Y];return void 0===W?[]:"function"==typeof W?M?[W.listener||W]:[W]:M?function ce(te){for(var Y=new Array(te.length),M=0;M<Y.length;++M)Y[M]=te[M].listener||te[M];return Y}(W):K(W,W.length)}function Q(te){var Y=this._events;if(void 0!==Y){var M=Y[te];if("function"==typeof M)return 1;if(void 0!==M)return M.length}return 0}function K(te,Y){for(var M=new Array(Y),k=0;k<Y;++k)M[k]=te[k];return M}function ee(te,Y,M,k){if("function"==typeof te.on)k.once?te.once(Y,M):te.on(Y,M);else{if("function"!=typeof te.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof te);te.addEventListener(Y,function W(be){k.once&&te.removeEventListener(Y,W),M(be)})}}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(te){if("number"!=typeof te||te<0||D(te))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+te+".");L=te}}),P.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(Y){if("number"!=typeof Y||Y<0||D(Y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Y+".");return this._maxListeners=Y,this},P.prototype.getMaxListeners=function(){return S(this)},P.prototype.emit=function(Y){for(var M=[],k=1;k<arguments.length;k++)M.push(arguments[k]);var W="error"===Y,be=this._events;if(void 0!==be)W=W&&void 0===be.error;else if(!W)return!1;if(W){var J;if(M.length>0&&(J=M[0]),J instanceof Error)throw J;var Re=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw Re.context=J,Re}var fe=be[Y];if(void 0===fe)return!1;if("function"==typeof fe)y(fe,this,M);else{var Ce=fe.length,Pe=K(fe,Ce);for(k=0;k<Ce;++k)y(Pe[k],this,M)}return!0},P.prototype.on=P.prototype.addListener=function(Y,M){return F(this,Y,M,!1)},P.prototype.prependListener=function(Y,M){return F(this,Y,M,!0)},P.prototype.once=function(Y,M){return U(M),this.on(Y,O(this,Y,M)),this},P.prototype.prependOnceListener=function(Y,M){return U(M),this.prependListener(Y,O(this,Y,M)),this},P.prototype.off=P.prototype.removeListener=function(Y,M){var k,W,be,J,Re;if(U(M),void 0===(W=this._events))return this;if(void 0===(k=W[Y]))return this;if(k===M||k.listener===M)0==--this._eventsCount?this._events=Object.create(null):(delete W[Y],W.removeListener&&this.emit("removeListener",Y,k.listener||M));else if("function"!=typeof k){for(be=-1,J=k.length-1;J>=0;J--)if(k[J]===M||k[J].listener===M){Re=k[J].listener,be=J;break}if(be<0)return this;0===be?k.shift():function Z(te,Y){for(;Y+1<te.length;Y++)te[Y]=te[Y+1];te.pop()}(k,be),1===k.length&&(W[Y]=k[0]),void 0!==W.removeListener&&this.emit("removeListener",Y,Re||M)}return this},P.prototype.removeAllListeners=function(Y){var M,k,W;if(void 0===(k=this._events))return this;if(void 0===k.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==k[Y]&&(0==--this._eventsCount?this._events=Object.create(null):delete k[Y]),this;if(0===arguments.length){var J,be=Object.keys(k);for(W=0;W<be.length;++W)"removeListener"!==(J=be[W])&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(M=k[Y]))this.removeListener(Y,M);else if(void 0!==M)for(W=M.length-1;W>=0;W--)this.removeListener(Y,M[W]);return this},P.prototype.listeners=function(Y){return $(this,Y,!0)},P.prototype.rawListeners=function(Y){return $(this,Y,!1)},P.listenerCount=function(te,Y){return"function"==typeof te.listenerCount?te.listenerCount(Y):Q.call(te,Y)},P.prototype.listenerCount=Q,P.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},2601:(ae,se)=>{se.read=function(y,a,I,D,P){var L,U,S=8*P-D-1,F=(1<<S)-1,j=F>>1,O=-7,$=I?P-1:0,Q=I?-1:1,K=y[a+$];for($+=Q,L=K&(1<<-O)-1,K>>=-O,O+=S;O>0;L=256*L+y[a+$],$+=Q,O-=8);for(U=L&(1<<-O)-1,L>>=-O,O+=D;O>0;U=256*U+y[a+$],$+=Q,O-=8);if(0===L)L=1-j;else{if(L===F)return U?NaN:1/0*(K?-1:1);U+=Math.pow(2,D),L-=j}return(K?-1:1)*U*Math.pow(2,L-D)},se.write=function(y,a,I,D,P,L){var U,S,F,j=8*L-P-1,O=(1<<j)-1,$=O>>1,Q=23===P?Math.pow(2,-24)-Math.pow(2,-77):0,K=D?0:L-1,Z=D?1:-1,ce=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(S=isNaN(a)?1:0,U=O):(U=Math.floor(Math.log(a)/Math.LN2),a*(F=Math.pow(2,-U))<1&&(U--,F*=2),(a+=U+$>=1?Q/F:Q*Math.pow(2,1-$))*F>=2&&(U++,F/=2),U+$>=O?(S=0,U=O):U+$>=1?(S=(a*F-1)*Math.pow(2,P),U+=$):(S=a*Math.pow(2,$-1)*Math.pow(2,P),U=0));P>=8;y[I+K]=255&S,K+=Z,S/=256,P-=8);for(U=U<<P|S,j+=P;j>0;y[I+K]=255&U,K+=Z,U/=256,j-=8);y[I+K-Z]|=128*ce}},5619:(ae,se,y)=>{"use strict";y.d(se,{X:()=>I});var a=y(8645);class I extends a.x{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){const L=super._subscribe(P);return!L.closed&&P.next(this._value),L}getValue(){const{hasError:P,thrownError:L,_value:U}=this;if(P)throw L;return this._throwIfClosed(),U}next(P){super.next(this._value=P)}}},5592:(ae,se,y)=>{"use strict";y.d(se,{y:()=>F});var a=y(305),I=y(7394),D=y(4850),P=y(8407),L=y(2653),U=y(4674),S=y(1441);let F=(()=>{class Q{constructor(Z){Z&&(this._subscribe=Z)}lift(Z){const ce=new Q;return ce.source=this,ce.operator=Z,ce}subscribe(Z,ce,ne){const ye=function $(Q){return Q&&Q instanceof a.Lv||function O(Q){return Q&&(0,U.m)(Q.next)&&(0,U.m)(Q.error)&&(0,U.m)(Q.complete)}(Q)&&(0,I.Nn)(Q)}(Z)?Z:new a.Hp(Z,ce,ne);return(0,S.x)(()=>{const{operator:ee,source:te}=this;ye.add(ee?ee.call(ye,te):te?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Z){try{return this._subscribe(Z)}catch(ce){Z.error(ce)}}forEach(Z,ce){return new(ce=j(ce))((ne,ye)=>{const ee=new a.Hp({next:te=>{try{Z(te)}catch(Y){ye(Y),ee.unsubscribe()}},error:ye,complete:ne});this.subscribe(ee)})}_subscribe(Z){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Z)}[D.L](){return this}pipe(...Z){return(0,P.U)(Z)(this)}toPromise(Z){return new(Z=j(Z))((ce,ne)=>{let ye;this.subscribe(ee=>ye=ee,ee=>ne(ee),()=>ce(ye))})}}return Q.create=K=>new Q(K),Q})();function j(Q){var K;return null!==(K=Q??L.config.Promise)&&void 0!==K?K:Promise}},8645:(ae,se,y)=>{"use strict";y.d(se,{x:()=>S});var a=y(5592),I=y(7394);const P=(0,y(2306).d)(j=>function(){j(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=y(9039),U=y(1441);let S=(()=>{class j extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new F(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new P}next($){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,U.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:K,observers:Z}=this;return Q||K?I.Lc:(this.currentObservers=null,Z.push($),new I.w0(()=>{this.currentObservers=null,(0,L.P)(Z,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:K,isStopped:Z}=this;Q?$.error(K):Z&&$.complete()}asObservable(){const $=new a.y;return $.source=this,$}}return j.create=(O,$)=>new F(O,$),j})();class F extends S{constructor(O,$){super(),this.destination=O,this.source=$}next(O){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,O)}error(O){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,O)}complete(){var O,$;null===($=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===$||$.call(O)}_subscribe(O){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(O))&&void 0!==Q?Q:I.Lc}}},305:(ae,se,y)=>{"use strict";y.d(se,{Hp:()=>ne,Lv:()=>Q});var a=y(4674),I=y(7394),D=y(2653),P=y(3894),L=y(2420);const U=j("C",void 0,void 0);function j(M,k,W){return{kind:M,value:k,error:W}}var O=y(7599),$=y(1441);class Q extends I.w0{constructor(k){super(),this.isStopped=!1,k?(this.destination=k,(0,I.Nn)(k)&&k.add(this)):this.destination=Y}static create(k,W,be){return new ne(k,W,be)}next(k){this.isStopped?te(function F(M){return j("N",M,void 0)}(k),this):this._next(k)}error(k){this.isStopped?te(function S(M){return j("E",void 0,M)}(k),this):(this.isStopped=!0,this._error(k))}complete(){this.isStopped?te(U,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(k){this.destination.next(k)}_error(k){try{this.destination.error(k)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K=Function.prototype.bind;function Z(M,k){return K.call(M,k)}class ce{constructor(k){this.partialObserver=k}next(k){const{partialObserver:W}=this;if(W.next)try{W.next(k)}catch(be){ye(be)}}error(k){const{partialObserver:W}=this;if(W.error)try{W.error(k)}catch(be){ye(be)}else ye(k)}complete(){const{partialObserver:k}=this;if(k.complete)try{k.complete()}catch(W){ye(W)}}}class ne extends Q{constructor(k,W,be){let J;if(super(),(0,a.m)(k)||!k)J={next:k??void 0,error:W??void 0,complete:be??void 0};else{let Re;this&&D.config.useDeprecatedNextContext?(Re=Object.create(k),Re.unsubscribe=()=>this.unsubscribe(),J={next:k.next&&Z(k.next,Re),error:k.error&&Z(k.error,Re),complete:k.complete&&Z(k.complete,Re)}):J=k}this.destination=new ce(J)}}function ye(M){D.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(M):(0,P.h)(M)}function te(M,k){const{onStoppedNotification:W}=D.config;W&&O.z.setTimeout(()=>W(M,k))}const Y={closed:!0,next:L.Z,error:function ee(M){throw M},complete:L.Z}},7394:(ae,se,y)=>{"use strict";y.d(se,{Lc:()=>U,w0:()=>L,Nn:()=>S});var a=y(4674);const D=(0,y(2306).d)(j=>function($){j(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,K)=>`${K+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var P=y(9039);class L{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Z of $)Z.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,a.m)(Q))try{Q()}catch(Z){O=Z instanceof D?Z.errors:[Z]}const{_finalizers:K}=this;if(K){this._finalizers=null;for(const Z of K)try{F(Z)}catch(ce){O=O??[],ce instanceof D?O=[...O,...ce.errors]:O.push(ce)}}if(O)throw new D(O)}}add(O){var $;if(O&&O!==this)if(this.closed)F(O);else{if(O instanceof L){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(O)}}_hasParent(O){const{_parentage:$}=this;return $===O||Array.isArray($)&&$.includes(O)}_addParent(O){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(O),$):$?[$,O]:O}_removeParent(O){const{_parentage:$}=this;$===O?this._parentage=null:Array.isArray($)&&(0,P.P)($,O)}remove(O){const{_finalizers:$}=this;$&&(0,P.P)($,O),O instanceof L&&O._removeParent(this)}}L.EMPTY=(()=>{const j=new L;return j.closed=!0,j})();const U=L.EMPTY;function S(j){return j instanceof L||j&&"closed"in j&&(0,a.m)(j.remove)&&(0,a.m)(j.add)&&(0,a.m)(j.unsubscribe)}function F(j){(0,a.m)(j)?j():j.unsubscribe()}},2653:(ae,se,y)=>{"use strict";y.d(se,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(ae,se,y)=>{"use strict";y.d(se,{a:()=>O});var a=y(5592),I=y(7453),D=y(2459),P=y(2737),L=y(7400),U=y(9940),S=y(2714),F=y(8251),j=y(7103);function O(...K){const Z=(0,U.yG)(K),ce=(0,U.jO)(K),{args:ne,keys:ye}=(0,I.D)(K);if(0===ne.length)return(0,D.D)([],Z);const ee=new a.y(function $(K,Z,ce=P.y){return ne=>{Q(Z,()=>{const{length:ye}=K,ee=new Array(ye);let te=ye,Y=ye;for(let M=0;M<ye;M++)Q(Z,()=>{const k=(0,D.D)(K[M],Z);let W=!1;k.subscribe((0,F.x)(ne,be=>{ee[M]=be,W||(W=!0,Y--),Y||ne.next(ce(ee.slice()))},()=>{--te||ne.complete()}))},ne)},ne)}}(ne,Z,ye?te=>(0,S.n)(ye,te):P.y));return ce?ee.pipe((0,L.Z)(ce)):ee}function Q(K,Z,ce){K?(0,j.f)(ce,K,Z):Z()}},5211:(ae,se,y)=>{"use strict";y.d(se,{z:()=>L});var a=y(7537),D=y(9940),P=y(2459);function L(...U){return function I(){return(0,a.J)(1)}()((0,P.D)(U,(0,D.yG)(U)))}},6232:(ae,se,y)=>{"use strict";y.d(se,{E:()=>I});const I=new(y(5592).y)(L=>L.complete())},2459:(ae,se,y)=>{"use strict";y.d(se,{D:()=>k});var a=y(4829),I=y(3093),D=y(5137),U=y(5592),F=y(4971),j=y(4674),O=y(7103);function Q(W,be){if(!W)throw new Error("Iterable cannot be null");return new U.y(J=>{(0,O.f)(J,be,()=>{const Re=W[Symbol.asyncIterator]();(0,O.f)(J,be,()=>{Re.next().then(fe=>{fe.done?J.complete():J.next(fe.value)})},0,!0)})})}var K=y(8382),Z=y(4026),ce=y(4266),ne=y(3664),ye=y(5726),ee=y(9853),te=y(541);function k(W,be){return be?function M(W,be){if(null!=W){if((0,K.c)(W))return function P(W,be){return(0,a.Xf)(W).pipe((0,D.R)(be),(0,I.Q)(be))}(W,be);if((0,ce.z)(W))return function S(W,be){return new U.y(J=>{let Re=0;return be.schedule(function(){Re===W.length?J.complete():(J.next(W[Re++]),J.closed||this.schedule())})})}(W,be);if((0,Z.t)(W))return function L(W,be){return(0,a.Xf)(W).pipe((0,D.R)(be),(0,I.Q)(be))}(W,be);if((0,ye.D)(W))return Q(W,be);if((0,ne.T)(W))return function $(W,be){return new U.y(J=>{let Re;return(0,O.f)(J,be,()=>{Re=W[F.h](),(0,O.f)(J,be,()=>{let fe,Ce;try{({value:fe,done:Ce}=Re.next())}catch(Pe){return void J.error(Pe)}Ce?J.complete():J.next(fe)},0,!0)}),()=>(0,j.m)(Re?.return)&&Re.return()})}(W,be);if((0,te.L)(W))return function Y(W,be){return Q((0,te.Q)(W),be)}(W,be)}throw(0,ee.z)(W)}(W,be):(0,a.Xf)(W)}},4829:(ae,se,y)=>{"use strict";y.d(se,{Xf:()=>K});var a=y(7582),I=y(4266),D=y(4026),P=y(5592),L=y(8382),U=y(5726),S=y(9853),F=y(3664),j=y(541),O=y(4674),$=y(3894),Q=y(4850);function K(M){if(M instanceof P.y)return M;if(null!=M){if((0,L.c)(M))return function Z(M){return new P.y(k=>{const W=M[Q.L]();if((0,O.m)(W.subscribe))return W.subscribe(k);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(M);if((0,I.z)(M))return function ce(M){return new P.y(k=>{for(let W=0;W<M.length&&!k.closed;W++)k.next(M[W]);k.complete()})}(M);if((0,D.t)(M))return function ne(M){return new P.y(k=>{M.then(W=>{k.closed||(k.next(W),k.complete())},W=>k.error(W)).then(null,$.h)})}(M);if((0,U.D)(M))return ee(M);if((0,F.T)(M))return function ye(M){return new P.y(k=>{for(const W of M)if(k.next(W),k.closed)return;k.complete()})}(M);if((0,j.L)(M))return function te(M){return ee((0,j.Q)(M))}(M)}throw(0,S.z)(M)}function ee(M){return new P.y(k=>{(function Y(M,k){var W,be,J,Re;return(0,a.mG)(this,void 0,void 0,function*(){try{for(W=(0,a.KL)(M);!(be=yield W.next()).done;)if(k.next(be.value),k.closed)return}catch(fe){J={error:fe}}finally{try{be&&!be.done&&(Re=W.return)&&(yield Re.call(W))}finally{if(J)throw J.error}}k.complete()})})(M,k).catch(W=>k.error(W))})}},3019:(ae,se,y)=>{"use strict";y.d(se,{T:()=>U});var a=y(7537),I=y(4829),D=y(6232),P=y(9940),L=y(2459);function U(...S){const F=(0,P.yG)(S),j=(0,P._6)(S,1/0),O=S;return O.length?1===O.length?(0,I.Xf)(O[0]):(0,a.J)(j)((0,L.D)(O,F)):D.E}},2096:(ae,se,y)=>{"use strict";y.d(se,{of:()=>D});var a=y(9940),I=y(2459);function D(...P){const L=(0,a.yG)(P);return(0,I.D)(P,L)}},8251:(ae,se,y)=>{"use strict";y.d(se,{x:()=>I});var a=y(305);function I(P,L,U,S,F){return new D(P,L,U,S,F)}class D extends a.Lv{constructor(L,U,S,F,j,O){super(L),this.onFinalize=j,this.shouldUnsubscribe=O,this._next=U?function($){try{U($)}catch(Q){L.error(Q)}}:super._next,this._error=F?function($){try{F($)}catch(Q){L.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch($){L.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:U}=this;super.unsubscribe(),!U&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}}},3620:(ae,se,y)=>{"use strict";y.d(se,{b:()=>P});var a=y(6321),I=y(9360),D=y(8251);function P(L,U=a.z){return(0,I.e)((S,F)=>{let j=null,O=null,$=null;const Q=()=>{if(j){j.unsubscribe(),j=null;const Z=O;O=null,F.next(Z)}};function K(){const Z=$+L,ce=U.now();if(ce<Z)return j=this.schedule(void 0,Z-ce),void F.add(j);Q()}S.subscribe((0,D.x)(F,Z=>{O=Z,$=U.now(),j||(j=U.schedule(K,L),F.add(j))},()=>{Q(),F.complete()},void 0,()=>{O=j=null}))})}},3997:(ae,se,y)=>{"use strict";y.d(se,{x:()=>P});var a=y(2737),I=y(9360),D=y(8251);function P(U,S=a.y){return U=U??L,(0,I.e)((F,j)=>{let O,$=!0;F.subscribe((0,D.x)(j,Q=>{const K=S(Q);($||!U(O,K))&&($=!1,O=K,j.next(Q))}))})}function L(U,S){return U===S}},2181:(ae,se,y)=>{"use strict";y.d(se,{h:()=>D});var a=y(9360),I=y(8251);function D(P,L){return(0,a.e)((U,S)=>{let F=0;U.subscribe((0,I.x)(S,j=>P.call(L,j,F++)&&S.next(j)))})}},7398:(ae,se,y)=>{"use strict";y.d(se,{U:()=>D});var a=y(9360),I=y(8251);function D(P,L){return(0,a.e)((U,S)=>{let F=0;U.subscribe((0,I.x)(S,j=>{S.next(P.call(L,j,F++))}))})}},7537:(ae,se,y)=>{"use strict";y.d(se,{J:()=>D});var a=y(1631),I=y(2737);function D(P=1/0){return(0,a.z)(I.y,P)}},1631:(ae,se,y)=>{"use strict";y.d(se,{z:()=>F});var a=y(7398),I=y(4829),D=y(9360),P=y(7103),L=y(8251),S=y(4674);function F(j,O,$=1/0){return(0,S.m)(O)?F((Q,K)=>(0,a.U)((Z,ce)=>O(Q,Z,K,ce))((0,I.Xf)(j(Q,K))),$):("number"==typeof O&&($=O),(0,D.e)((Q,K)=>function U(j,O,$,Q,K,Z,ce,ne){const ye=[];let ee=0,te=0,Y=!1;const M=()=>{Y&&!ye.length&&!ee&&O.complete()},k=be=>ee<Q?W(be):ye.push(be),W=be=>{Z&&O.next(be),ee++;let J=!1;(0,I.Xf)($(be,te++)).subscribe((0,L.x)(O,Re=>{K?.(Re),Z?k(Re):O.next(Re)},()=>{J=!0},void 0,()=>{if(J)try{for(ee--;ye.length&&ee<Q;){const Re=ye.shift();ce?(0,P.f)(O,ce,()=>W(Re)):W(Re)}M()}catch(Re){O.error(Re)}}))};return j.subscribe((0,L.x)(O,k,()=>{Y=!0,M()})),()=>{ne?.()}}(Q,K,j,$)))}},3093:(ae,se,y)=>{"use strict";y.d(se,{Q:()=>P});var a=y(7103),I=y(9360),D=y(8251);function P(L,U=0){return(0,I.e)((S,F)=>{S.subscribe((0,D.x)(F,j=>(0,a.f)(F,L,()=>F.next(j),U),()=>(0,a.f)(F,L,()=>F.complete(),U),j=>(0,a.f)(F,L,()=>F.error(j),U)))})}},3020:(ae,se,y)=>{"use strict";y.d(se,{B:()=>L});var a=y(4829),I=y(8645),D=y(305),P=y(9360);function L(S={}){const{connector:F=(()=>new I.x),resetOnError:j=!0,resetOnComplete:O=!0,resetOnRefCountZero:$=!0}=S;return Q=>{let K,Z,ce,ne=0,ye=!1,ee=!1;const te=()=>{Z?.unsubscribe(),Z=void 0},Y=()=>{te(),K=ce=void 0,ye=ee=!1},M=()=>{const k=K;Y(),k?.unsubscribe()};return(0,P.e)((k,W)=>{ne++,!ee&&!ye&&te();const be=ce=ce??F();W.add(()=>{ne--,0===ne&&!ee&&!ye&&(Z=U(M,$))}),be.subscribe(W),!K&&ne>0&&(K=new D.Hp({next:J=>be.next(J),error:J=>{ee=!0,te(),Z=U(Y,j,J),be.error(J)},complete:()=>{ye=!0,te(),Z=U(Y,O),be.complete()}}),(0,a.Xf)(k).subscribe(K))})(Q)}}function U(S,F,...j){if(!0===F)return void S();if(!1===F)return;const O=new D.Hp({next:()=>{O.unsubscribe(),S()}});return(0,a.Xf)(F(...j)).subscribe(O)}},7921:(ae,se,y)=>{"use strict";y.d(se,{O:()=>P});var a=y(5211),I=y(9940),D=y(9360);function P(...L){const U=(0,I.yG)(L);return(0,D.e)((S,F)=>{(U?(0,a.z)(L,S,U):(0,a.z)(L,S)).subscribe(F)})}},5137:(ae,se,y)=>{"use strict";y.d(se,{R:()=>I});var a=y(9360);function I(D,P=0){return(0,a.e)((L,U)=>{U.add(D.schedule(()=>L.subscribe(U),P))})}},4664:(ae,se,y)=>{"use strict";y.d(se,{w:()=>P});var a=y(4829),I=y(9360),D=y(8251);function P(L,U){return(0,I.e)((S,F)=>{let j=null,O=0,$=!1;const Q=()=>$&&!j&&F.complete();S.subscribe((0,D.x)(F,K=>{j?.unsubscribe();let Z=0;const ce=O++;(0,a.Xf)(L(K,ce)).subscribe(j=(0,D.x)(F,ne=>F.next(U?U(K,ne,ce,Z++):ne),()=>{j=null,Q()}))},()=>{$=!0,Q()}))})}},8180:(ae,se,y)=>{"use strict";y.d(se,{q:()=>P});var a=y(6232),I=y(9360),D=y(8251);function P(L){return L<=0?()=>a.E:(0,I.e)((U,S)=>{let F=0;U.subscribe((0,D.x)(S,j=>{++F<=L&&(S.next(j),L<=F&&S.complete())}))})}},9773:(ae,se,y)=>{"use strict";y.d(se,{R:()=>L});var a=y(9360),I=y(8251),D=y(4829),P=y(2420);function L(U){return(0,a.e)((S,F)=>{(0,D.Xf)(U).subscribe((0,I.x)(F,()=>F.complete(),P.Z)),!F.closed&&S.subscribe(F)})}},9397:(ae,se,y)=>{"use strict";y.d(se,{b:()=>L});var a=y(4674),I=y(9360),D=y(8251),P=y(2737);function L(U,S,F){const j=(0,a.m)(U)||S||F?{next:U,error:S,complete:F}:U;return j?(0,I.e)((O,$)=>{var Q;null===(Q=j.subscribe)||void 0===Q||Q.call(j);let K=!0;O.subscribe((0,D.x)($,Z=>{var ce;null===(ce=j.next)||void 0===ce||ce.call(j,Z),$.next(Z)},()=>{var Z;K=!1,null===(Z=j.complete)||void 0===Z||Z.call(j),$.complete()},Z=>{var ce;K=!1,null===(ce=j.error)||void 0===ce||ce.call(j,Z),$.error(Z)},()=>{var Z,ce;K&&(null===(Z=j.unsubscribe)||void 0===Z||Z.call(j)),null===(ce=j.finalize)||void 0===ce||ce.call(j)}))}):P.y}},1954:(ae,se,y)=>{"use strict";y.d(se,{o:()=>L});var a=y(7394);class I extends a.w0{constructor(S,F){super()}schedule(S,F=0){return this}}const D={setInterval(U,S,...F){const{delegate:j}=D;return j?.setInterval?j.setInterval(U,S,...F):setInterval(U,S,...F)},clearInterval(U){const{delegate:S}=D;return(S?.clearInterval||clearInterval)(U)},delegate:void 0};var P=y(9039);class L extends I{constructor(S,F){super(S,F),this.scheduler=S,this.work=F,this.pending=!1}schedule(S,F=0){var j;if(this.closed)return this;this.state=S;const O=this.id,$=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId($,O,F)),this.pending=!0,this.delay=F,this.id=null!==(j=this.id)&&void 0!==j?j:this.requestAsyncId($,this.id,F),this}requestAsyncId(S,F,j=0){return D.setInterval(S.flush.bind(S,this),j)}recycleAsyncId(S,F,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return F;null!=F&&D.clearInterval(F)}execute(S,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(S,F);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,F){let O,j=!1;try{this.work(S)}catch($){j=!0,O=$||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:S,scheduler:F}=this,{actions:j}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(j,this),null!=S&&(this.id=this.recycleAsyncId(F,S,null)),this.delay=null,super.unsubscribe()}}}},2631:(ae,se,y)=>{"use strict";y.d(se,{v:()=>D});var a=y(4552);class I{constructor(L,U=I.now){this.schedulerActionCtor=L,this.now=U}schedule(L,U=0,S){return new this.schedulerActionCtor(this,L).schedule(S,U)}}I.now=a.l.now;class D extends I{constructor(L,U=I.now){super(L,U),this.actions=[],this._active=!1}flush(L){const{actions:U}=this;if(this._active)return void U.push(L);let S;this._active=!0;do{if(S=L.execute(L.state,L.delay))break}while(L=U.shift());if(this._active=!1,S){for(;L=U.shift();)L.unsubscribe();throw S}}}},6321:(ae,se,y)=>{"use strict";y.d(se,{P:()=>P,z:()=>D});var a=y(1954);const D=new(y(2631).v)(a.o),P=D},4552:(ae,se,y)=>{"use strict";y.d(se,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(ae,se,y)=>{"use strict";y.d(se,{z:()=>a});const a={setTimeout(I,D,...P){const{delegate:L}=a;return L?.setTimeout?L.setTimeout(I,D,...P):setTimeout(I,D,...P)},clearTimeout(I){const{delegate:D}=a;return(D?.clearTimeout||clearTimeout)(I)},delegate:void 0}},4971:(ae,se,y)=>{"use strict";y.d(se,{h:()=>I});const I=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ae,se,y)=>{"use strict";y.d(se,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(ae,se,y)=>{"use strict";y.d(se,{_6:()=>U,jO:()=>P,yG:()=>L});var a=y(4674),I=y(671);function D(S){return S[S.length-1]}function P(S){return(0,a.m)(D(S))?S.pop():void 0}function L(S){return(0,I.K)(D(S))?S.pop():void 0}function U(S,F){return"number"==typeof D(S)?S.pop():F}},7453:(ae,se,y)=>{"use strict";y.d(se,{D:()=>L});const{isArray:a}=Array,{getPrototypeOf:I,prototype:D,keys:P}=Object;function L(S){if(1===S.length){const F=S[0];if(a(F))return{args:F,keys:null};if(function U(S){return S&&"object"==typeof S&&I(S)===D}(F)){const j=P(F);return{args:j.map(O=>F[O]),keys:j}}}return{args:S,keys:null}}},9039:(ae,se,y)=>{"use strict";function a(I,D){if(I){const P=I.indexOf(D);0<=P&&I.splice(P,1)}}y.d(se,{P:()=>a})},2306:(ae,se,y)=>{"use strict";function a(I){const P=I(L=>{Error.call(L),L.stack=(new Error).stack});return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P}y.d(se,{d:()=>a})},2714:(ae,se,y)=>{"use strict";function a(I,D){return I.reduce((P,L,U)=>(P[L]=D[U],P),{})}y.d(se,{n:()=>a})},1441:(ae,se,y)=>{"use strict";y.d(se,{O:()=>P,x:()=>D});var a=y(2653);let I=null;function D(L){if(a.config.useDeprecatedSynchronousErrorHandling){const U=!I;if(U&&(I={errorThrown:!1,error:null}),L(),U){const{errorThrown:S,error:F}=I;if(I=null,S)throw F}}else L()}function P(L){a.config.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=L)}},7103:(ae,se,y)=>{"use strict";function a(I,D,P,L=0,U=!1){const S=D.schedule(function(){P(),U?I.add(this.schedule(null,L)):this.unsubscribe()},L);if(I.add(S),!U)return S}y.d(se,{f:()=>a})},2737:(ae,se,y)=>{"use strict";function a(I){return I}y.d(se,{y:()=>a})},4266:(ae,se,y)=>{"use strict";y.d(se,{z:()=>a});const a=I=>I&&"number"==typeof I.length&&"function"!=typeof I},5726:(ae,se,y)=>{"use strict";y.d(se,{D:()=>I});var a=y(4674);function I(D){return Symbol.asyncIterator&&(0,a.m)(D?.[Symbol.asyncIterator])}},4674:(ae,se,y)=>{"use strict";function a(I){return"function"==typeof I}y.d(se,{m:()=>a})},8382:(ae,se,y)=>{"use strict";y.d(se,{c:()=>D});var a=y(4850),I=y(4674);function D(P){return(0,I.m)(P[a.L])}},3664:(ae,se,y)=>{"use strict";y.d(se,{T:()=>D});var a=y(4971),I=y(4674);function D(P){return(0,I.m)(P?.[a.h])}},4026:(ae,se,y)=>{"use strict";y.d(se,{t:()=>I});var a=y(4674);function I(D){return(0,a.m)(D?.then)}},541:(ae,se,y)=>{"use strict";y.d(se,{L:()=>P,Q:()=>D});var a=y(7582),I=y(4674);function D(L){return(0,a.FC)(this,arguments,function*(){const S=L.getReader();try{for(;;){const{value:F,done:j}=yield(0,a.qq)(S.read());if(j)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(F)}}finally{S.releaseLock()}})}function P(L){return(0,I.m)(L?.getReader)}},671:(ae,se,y)=>{"use strict";y.d(se,{K:()=>I});var a=y(4674);function I(D){return D&&(0,a.m)(D.schedule)}},9360:(ae,se,y)=>{"use strict";y.d(se,{A:()=>I,e:()=>D});var a=y(4674);function I(P){return(0,a.m)(P?.lift)}function D(P){return L=>{if(I(L))return L.lift(function(U){try{return P(U,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(ae,se,y)=>{"use strict";y.d(se,{Z:()=>P});var a=y(7398);const{isArray:I}=Array;function P(L){return(0,a.U)(U=>function D(L,U){return I(U)?L(...U):L(U)}(L,U))}},2420:(ae,se,y)=>{"use strict";function a(){}y.d(se,{Z:()=>a})},8407:(ae,se,y)=>{"use strict";y.d(se,{U:()=>D,z:()=>I});var a=y(2737);function I(...P){return D(P)}function D(P){return 0===P.length?a.y:1===P.length?P[0]:function(U){return P.reduce((S,F)=>F(S),U)}}},3894:(ae,se,y)=>{"use strict";y.d(se,{h:()=>D});var a=y(2653),I=y(7599);function D(P){I.z.setTimeout(()=>{const{onUnhandledError:L}=a.config;if(!L)throw P;L(P)})}},9853:(ae,se,y)=>{"use strict";function a(I){return new TypeError(`You provided ${null!==I&&"object"==typeof I?"an invalid object":`'${I}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}y.d(se,{z:()=>a})},6032:(ae,se,y)=>{var a=y(9007),I=a.Buffer;function D(L,U){for(var S in L)U[S]=L[S]}function P(L,U,S){return I(L,U,S)}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?ae.exports=a:(D(a,se),se.Buffer=P),P.prototype=Object.create(I.prototype),D(I,P),P.from=function(L,U,S){if("number"==typeof L)throw new TypeError("Argument must not be a number");return I(L,U,S)},P.alloc=function(L,U,S){if("number"!=typeof L)throw new TypeError("Argument must be a number");var F=I(L);return void 0!==U?"string"==typeof S?F.fill(U,S):F.fill(U):F.fill(0),F},P.allocUnsafe=function(L){if("number"!=typeof L)throw new TypeError("Argument must be a number");return I(L)},P.allocUnsafeSlow=function(L){if("number"!=typeof L)throw new TypeError("Argument must be a number");return a.SlowBuffer(L)}},9528:(ae,se,y)=>{!function(a){a.parser=function(le,he){return new D(le,he)},a.SAXParser=D,a.SAXStream=O,a.createStream=function j(le,he){return new O(le,he)},a.MAX_BUFFER_LENGTH=65536;var S,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function D(le,he){if(!(this instanceof D))return new D(le,he);var Ye=this;(function L(le){for(var he=0,Ye=I.length;he<Ye;he++)le[I[he]]=""})(Ye),Ye.q=Ye.c="",Ye.bufferCheckPosition=a.MAX_BUFFER_LENGTH,Ye.opt=he||{},Ye.opt.lowercase=Ye.opt.lowercase||Ye.opt.lowercasetags,Ye.looseCase=Ye.opt.lowercase?"toLowerCase":"toUpperCase",Ye.tags=[],Ye.closed=Ye.closedRoot=Ye.sawRoot=!1,Ye.tag=Ye.error=null,Ye.strict=!!le,Ye.noscript=!(!le&&!Ye.opt.noscript),Ye.state=J.BEGIN,Ye.strictEntities=Ye.opt.strictEntities,Ye.ENTITIES=Object.create(Ye.strictEntities?a.XML_ENTITIES:a.ENTITIES),Ye.attribList=[],Ye.opt.xmlns&&(Ye.ns=Object.create(ce)),Ye.trackPosition=!1!==Ye.opt.position,Ye.trackPosition&&(Ye.position=Ye.line=Ye.column=0),fe(Ye,"onready")}a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(le){function he(){}return he.prototype=le,new he}),Object.keys||(Object.keys=function(le){var he=[];for(var Ye in le)le.hasOwnProperty(Ye)&&he.push(Ye);return he}),D.prototype={end:function(){Ht(this)},write:function Ct(le){var he=this;if(this.error)throw this.error;if(he.closed)return vt(he,"Cannot write after close. Assign an onready handler.");if(null===le)return Ht(he);"object"==typeof le&&(le=le.toString());for(var Ye=0,Fe="";Fe=qe(le,Ye++),he.c=Fe,Fe;)switch(he.trackPosition&&(he.position++,"\n"===Fe?(he.line++,he.column=0):he.column++),he.state){case J.BEGIN:if(he.state=J.BEGIN_WHITESPACE,"\ufeff"===Fe)continue;ze(he,Fe);continue;case J.BEGIN_WHITESPACE:ze(he,Fe);continue;case J.TEXT:if(he.sawRoot&&!he.closedRoot){for(var Ut=Ye-1;Fe&&"<"!==Fe&&"&"!==Fe;)(Fe=qe(le,Ye++))&&he.trackPosition&&(he.position++,"\n"===Fe?(he.line++,he.column=0):he.column++);he.textNode+=le.substring(Ut,Ye-1)}"<"!==Fe||he.sawRoot&&he.closedRoot&&!he.strict?(!Y(Fe)&&(!he.sawRoot||he.closedRoot)&&St(he,"Text data outside of root node."),"&"===Fe?he.state=J.TEXT_ENTITY:he.textNode+=Fe):(he.state=J.OPEN_WAKA,he.startTagPosition=he.position);continue;case J.SCRIPT:"<"===Fe?he.state=J.SCRIPT_ENDING:he.script+=Fe;continue;case J.SCRIPT_ENDING:"/"===Fe?he.state=J.CLOSE_TAG:(he.script+="<"+Fe,he.state=J.SCRIPT);continue;case J.OPEN_WAKA:"!"===Fe?(he.state=J.SGML_DECL,he.sgmlDecl=""):Y(Fe)||(W(ne,Fe)?(he.state=J.OPEN_TAG,he.tagName=Fe):"/"===Fe?(he.state=J.CLOSE_TAG,he.tagName=""):"?"===Fe?(he.state=J.PROC_INST,he.procInstName=he.procInstBody=""):(St(he,"Unencoded <"),he.startTagPosition+1<he.position&&(Fe=new Array(he.position-he.startTagPosition).join(" ")+Fe),he.textNode+="<"+Fe,he.state=J.TEXT));continue;case J.SGML_DECL:(he.sgmlDecl+Fe).toUpperCase()===$?(Ce(he,"onopencdata"),he.state=J.CDATA,he.sgmlDecl="",he.cdata=""):he.sgmlDecl+Fe==="--"?(he.state=J.COMMENT,he.comment="",he.sgmlDecl=""):(he.sgmlDecl+Fe).toUpperCase()===Q?(he.state=J.DOCTYPE,(he.doctype||he.sawRoot)&&St(he,"Inappropriately located doctype declaration"),he.doctype="",he.sgmlDecl=""):">"===Fe?(Ce(he,"onsgmldeclaration",he.sgmlDecl),he.sgmlDecl="",he.state=J.TEXT):(M(Fe)&&(he.state=J.SGML_DECL_QUOTED),he.sgmlDecl+=Fe);continue;case J.SGML_DECL_QUOTED:Fe===he.q&&(he.state=J.SGML_DECL,he.q=""),he.sgmlDecl+=Fe;continue;case J.DOCTYPE:">"===Fe?(he.state=J.TEXT,Ce(he,"ondoctype",he.doctype),he.doctype=!0):(he.doctype+=Fe,"["===Fe?he.state=J.DOCTYPE_DTD:M(Fe)&&(he.state=J.DOCTYPE_QUOTED,he.q=Fe));continue;case J.DOCTYPE_QUOTED:he.doctype+=Fe,Fe===he.q&&(he.q="",he.state=J.DOCTYPE);continue;case J.DOCTYPE_DTD:he.doctype+=Fe,"]"===Fe?he.state=J.DOCTYPE:M(Fe)&&(he.state=J.DOCTYPE_DTD_QUOTED,he.q=Fe);continue;case J.DOCTYPE_DTD_QUOTED:he.doctype+=Fe,Fe===he.q&&(he.state=J.DOCTYPE_DTD,he.q="");continue;case J.COMMENT:"-"===Fe?he.state=J.COMMENT_ENDING:he.comment+=Fe;continue;case J.COMMENT_ENDING:"-"===Fe?(he.state=J.COMMENT_ENDED,he.comment=Be(he.opt,he.comment),he.comment&&Ce(he,"oncomment",he.comment),he.comment=""):(he.comment+="-"+Fe,he.state=J.COMMENT);continue;case J.COMMENT_ENDED:">"!==Fe?(St(he,"Malformed comment"),he.comment+="--"+Fe,he.state=J.COMMENT):he.state=J.TEXT;continue;case J.CDATA:"]"===Fe?he.state=J.CDATA_ENDING:he.cdata+=Fe;continue;case J.CDATA_ENDING:"]"===Fe?he.state=J.CDATA_ENDING_2:(he.cdata+="]"+Fe,he.state=J.CDATA);continue;case J.CDATA_ENDING_2:">"===Fe?(he.cdata&&Ce(he,"oncdata",he.cdata),Ce(he,"onclosecdata"),he.cdata="",he.state=J.TEXT):"]"===Fe?he.cdata+="]":(he.cdata+="]]"+Fe,he.state=J.CDATA);continue;case J.PROC_INST:"?"===Fe?he.state=J.PROC_INST_ENDING:Y(Fe)?he.state=J.PROC_INST_BODY:he.procInstName+=Fe;continue;case J.PROC_INST_BODY:if(!he.procInstBody&&Y(Fe))continue;"?"===Fe?he.state=J.PROC_INST_ENDING:he.procInstBody+=Fe;continue;case J.PROC_INST_ENDING:">"===Fe?(Ce(he,"onprocessinginstruction",{name:he.procInstName,body:he.procInstBody}),he.procInstName=he.procInstBody="",he.state=J.TEXT):(he.procInstBody+="?"+Fe,he.state=J.PROC_INST_BODY);continue;case J.OPEN_TAG:W(ye,Fe)?he.tagName+=Fe:(wn(he),">"===Fe?Ke(he):"/"===Fe?he.state=J.OPEN_TAG_SLASH:(Y(Fe)||St(he,"Invalid character in tag name"),he.state=J.ATTRIB));continue;case J.OPEN_TAG_SLASH:">"===Fe?(Ke(he,!0),$e(he)):(St(he,"Forward-slash in opening tag not followed by >"),he.state=J.ATTRIB);continue;case J.ATTRIB:if(Y(Fe))continue;">"===Fe?Ke(he):"/"===Fe?he.state=J.OPEN_TAG_SLASH:W(ne,Fe)?(he.attribName=Fe,he.attribValue="",he.state=J.ATTRIB_NAME):St(he,"Invalid attribute name");continue;case J.ATTRIB_NAME:"="===Fe?he.state=J.ATTRIB_VALUE:">"===Fe?(St(he,"Attribute without value"),he.attribValue=he.attribName,tt(he),Ke(he)):Y(Fe)?he.state=J.ATTRIB_NAME_SAW_WHITE:W(ye,Fe)?he.attribName+=Fe:St(he,"Invalid attribute name");continue;case J.ATTRIB_NAME_SAW_WHITE:if("="===Fe)he.state=J.ATTRIB_VALUE;else{if(Y(Fe))continue;St(he,"Attribute without value"),he.tag.attributes[he.attribName]="",he.attribValue="",Ce(he,"onattribute",{name:he.attribName,value:""}),he.attribName="",">"===Fe?Ke(he):W(ne,Fe)?(he.attribName=Fe,he.state=J.ATTRIB_NAME):(St(he,"Invalid attribute name"),he.state=J.ATTRIB)}continue;case J.ATTRIB_VALUE:if(Y(Fe))continue;M(Fe)?(he.q=Fe,he.state=J.ATTRIB_VALUE_QUOTED):(St(he,"Unquoted attribute value"),he.state=J.ATTRIB_VALUE_UNQUOTED,he.attribValue=Fe);continue;case J.ATTRIB_VALUE_QUOTED:if(Fe!==he.q){"&"===Fe?he.state=J.ATTRIB_VALUE_ENTITY_Q:he.attribValue+=Fe;continue}tt(he),he.q="",he.state=J.ATTRIB_VALUE_CLOSED;continue;case J.ATTRIB_VALUE_CLOSED:Y(Fe)?he.state=J.ATTRIB:">"===Fe?Ke(he):"/"===Fe?he.state=J.OPEN_TAG_SLASH:W(ne,Fe)?(St(he,"No whitespace between attributes"),he.attribName=Fe,he.attribValue="",he.state=J.ATTRIB_NAME):St(he,"Invalid attribute name");continue;case J.ATTRIB_VALUE_UNQUOTED:if(!k(Fe)){"&"===Fe?he.state=J.ATTRIB_VALUE_ENTITY_U:he.attribValue+=Fe;continue}tt(he),">"===Fe?Ke(he):he.state=J.ATTRIB;continue;case J.CLOSE_TAG:if(he.tagName)">"===Fe?$e(he):W(ye,Fe)?he.tagName+=Fe:he.script?(he.script+="</"+he.tagName,he.tagName="",he.state=J.SCRIPT):(Y(Fe)||St(he,"Invalid tagname in closing tag"),he.state=J.CLOSE_TAG_SAW_WHITE);else{if(Y(Fe))continue;be(ne,Fe)?he.script?(he.script+="</"+Fe,he.state=J.SCRIPT):St(he,"Invalid tagname in closing tag."):he.tagName=Fe}continue;case J.CLOSE_TAG_SAW_WHITE:if(Y(Fe))continue;">"===Fe?$e(he):St(he,"Invalid characters in closing tag");continue;case J.TEXT_ENTITY:case J.ATTRIB_VALUE_ENTITY_Q:case J.ATTRIB_VALUE_ENTITY_U:var fn,Dn;switch(he.state){case J.TEXT_ENTITY:fn=J.TEXT,Dn="textNode";break;case J.ATTRIB_VALUE_ENTITY_Q:fn=J.ATTRIB_VALUE_QUOTED,Dn="attribValue";break;case J.ATTRIB_VALUE_ENTITY_U:fn=J.ATTRIB_VALUE_UNQUOTED,Dn="attribValue"}if(";"===Fe)if(he.opt.unparsedEntities){var An=at(he);he.entity="",he.state=fn,he.write(An)}else he[Dn]+=at(he),he.entity="",he.state=fn;else W(he.entity.length?te:ee,Fe)?he.entity+=Fe:(St(he,"Invalid character in entity name"),he[Dn]+="&"+he.entity+Fe,he.entity="",he.state=fn);continue;default:throw new Error(he,"Unknown state: "+he.state)}return he.position>=he.bufferCheckPosition&&function P(le){for(var he=Math.max(a.MAX_BUFFER_LENGTH,10),Ye=0,Fe=0,Ut=I.length;Fe<Ut;Fe++){var _n=le[I[Fe]].length;if(_n>he)switch(I[Fe]){case"textNode":Pe(le);break;case"cdata":Ce(le,"oncdata",le.cdata),le.cdata="";break;case"script":Ce(le,"onscript",le.script),le.script="";break;default:vt(le,"Max buffer length exceeded: "+I[Fe])}Ye=Math.max(Ye,_n)}le.bufferCheckPosition=a.MAX_BUFFER_LENGTH-Ye+le.position}(he),he},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function U(le){Pe(le),""!==le.cdata&&(Ce(le,"oncdata",le.cdata),le.cdata=""),""!==le.script&&(Ce(le,"onscript",le.script),le.script="")}(this)}};try{S=y(8270).Stream}catch{S=function(){}}S||(S=function(){});var F=a.EVENTS.filter(function(le){return"error"!==le&&"end"!==le});function O(le,he){if(!(this instanceof O))return new O(le,he);S.apply(this),this._parser=new D(le,he),this.writable=!0,this.readable=!0;var Ye=this;this._parser.onend=function(){Ye.emit("end")},this._parser.onerror=function(Fe){Ye.emit("error",Fe),Ye._parser.error=null},this._decoder=null,F.forEach(function(Fe){Object.defineProperty(Ye,"on"+Fe,{get:function(){return Ye._parser["on"+Fe]},set:function(Ut){if(!Ut)return Ye.removeAllListeners(Fe),Ye._parser["on"+Fe]=Ut,Ut;Ye.on(Fe,Ut)},enumerable:!0,configurable:!1})})}(O.prototype=Object.create(S.prototype,{constructor:{value:O}})).write=function(le){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(le)){if(!this._decoder){var he=y(2024).s;this._decoder=new he("utf8")}le=this._decoder.write(le)}return this._parser.write(le.toString()),this.emit("data",le),!0},O.prototype.end=function(le){return le&&le.length&&this.write(le),this._parser.end(),!0},O.prototype.on=function(le,he){var Ye=this;return!Ye._parser["on"+le]&&-1!==F.indexOf(le)&&(Ye._parser["on"+le]=function(){var Fe=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);Fe.splice(0,0,le),Ye.emit.apply(Ye,Fe)}),S.prototype.on.call(Ye,le,he)};var $="[CDATA[",Q="DOCTYPE",K="http://www.w3.org/XML/1998/namespace",Z="http://www.w3.org/2000/xmlns/",ce={xml:K,xmlns:Z},ne=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ye=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,te=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function Y(le){return" "===le||"\n"===le||"\r"===le||"\t"===le}function M(le){return'"'===le||"'"===le}function k(le){return">"===le||Y(le)}function W(le,he){return le.test(he)}function be(le,he){return!W(le,he)}var le,he,Ye,J=0;for(var Re in a.STATE={BEGIN:J++,BEGIN_WHITESPACE:J++,TEXT:J++,TEXT_ENTITY:J++,OPEN_WAKA:J++,SGML_DECL:J++,SGML_DECL_QUOTED:J++,DOCTYPE:J++,DOCTYPE_QUOTED:J++,DOCTYPE_DTD:J++,DOCTYPE_DTD_QUOTED:J++,COMMENT_STARTING:J++,COMMENT:J++,COMMENT_ENDING:J++,COMMENT_ENDED:J++,CDATA:J++,CDATA_ENDING:J++,CDATA_ENDING_2:J++,PROC_INST:J++,PROC_INST_BODY:J++,PROC_INST_ENDING:J++,OPEN_TAG:J++,OPEN_TAG_SLASH:J++,ATTRIB:J++,ATTRIB_NAME:J++,ATTRIB_NAME_SAW_WHITE:J++,ATTRIB_VALUE:J++,ATTRIB_VALUE_QUOTED:J++,ATTRIB_VALUE_CLOSED:J++,ATTRIB_VALUE_UNQUOTED:J++,ATTRIB_VALUE_ENTITY_Q:J++,ATTRIB_VALUE_ENTITY_U:J++,CLOSE_TAG:J++,CLOSE_TAG_SAW_WHITE:J++,SCRIPT:J++,SCRIPT_ENDING:J++},a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(a.ENTITIES).forEach(function(le){var he=a.ENTITIES[le],Ye="number"==typeof he?String.fromCharCode(he):he;a.ENTITIES[le]=Ye}),a.STATE)a.STATE[a.STATE[Re]]=Re;function fe(le,he,Ye){le[he]&&le[he](Ye)}function Ce(le,he,Ye){le.textNode&&Pe(le),fe(le,he,Ye)}function Pe(le){le.textNode=Be(le.opt,le.textNode),le.textNode&&fe(le,"ontext",le.textNode),le.textNode=""}function Be(le,he){return le.trim&&(he=he.trim()),le.normalize&&(he=he.replace(/\s+/g," ")),he}function vt(le,he){return Pe(le),le.trackPosition&&(he+="\nLine: "+le.line+"\nColumn: "+le.column+"\nChar: "+le.c),he=new Error(he),le.error=he,fe(le,"onerror",he),le}function Ht(le){return le.sawRoot&&!le.closedRoot&&St(le,"Unclosed root tag"),le.state!==J.BEGIN&&le.state!==J.BEGIN_WHITESPACE&&le.state!==J.TEXT&&vt(le,"Unexpected end"),Pe(le),le.c="",le.closed=!0,fe(le,"onend"),D.call(le,le.strict,le.opt),le}function St(le,he){if("object"!=typeof le||!(le instanceof D))throw new Error("bad call to strictFail");le.strict&&vt(le,he)}function wn(le){le.strict||(le.tagName=le.tagName[le.looseCase]());var he=le.tags[le.tags.length-1]||le,Ye=le.tag={name:le.tagName,attributes:{}};le.opt.xmlns&&(Ye.ns=he.ns),le.attribList.length=0,Ce(le,"onopentagstart",Ye)}function hn(le,he){var Fe=le.indexOf(":")<0?["",le]:le.split(":"),Ut=Fe[0],_n=Fe[1];return he&&"xmlns"===le&&(Ut="xmlns",_n=""),{prefix:Ut,local:_n}}function tt(le){if(le.strict||(le.attribName=le.attribName[le.looseCase]()),-1!==le.attribList.indexOf(le.attribName)||le.tag.attributes.hasOwnProperty(le.attribName))le.attribName=le.attribValue="";else{if(le.opt.xmlns){var he=hn(le.attribName,!0),Fe=he.local;if("xmlns"===he.prefix)if("xml"===Fe&&le.attribValue!==K)St(le,"xml: prefix must be bound to "+K+"\nActual: "+le.attribValue);else if("xmlns"===Fe&&le.attribValue!==Z)St(le,"xmlns: prefix must be bound to "+Z+"\nActual: "+le.attribValue);else{var Ut=le.tag,_n=le.tags[le.tags.length-1]||le;Ut.ns===_n.ns&&(Ut.ns=Object.create(_n.ns)),Ut.ns[Fe]=le.attribValue}le.attribList.push([le.attribName,le.attribValue])}else le.tag.attributes[le.attribName]=le.attribValue,Ce(le,"onattribute",{name:le.attribName,value:le.attribValue});le.attribName=le.attribValue=""}}function Ke(le,he){if(le.opt.xmlns){var Ye=le.tag,Fe=hn(le.tagName);Ye.prefix=Fe.prefix,Ye.local=Fe.local,Ye.uri=Ye.ns[Fe.prefix]||"",Ye.prefix&&!Ye.uri&&(St(le,"Unbound namespace prefix: "+JSON.stringify(le.tagName)),Ye.uri=Fe.prefix),Ye.ns&&(le.tags[le.tags.length-1]||le).ns!==Ye.ns&&Object.keys(Ye.ns).forEach(function(Tt){Ce(le,"onopennamespace",{prefix:Tt,uri:Ye.ns[Tt]})});for(var _n=0,fn=le.attribList.length;_n<fn;_n++){var Dn=le.attribList[_n],An=Dn[0],ge=Dn[1],V=hn(An,!0),G=V.prefix,We=""===G?"":Ye.ns[G]||"",mt={name:An,value:ge,prefix:G,local:V.local,uri:We};G&&"xmlns"!==G&&!We&&(St(le,"Unbound namespace prefix: "+JSON.stringify(G)),mt.uri=G),le.tag.attributes[An]=mt,Ce(le,"onattribute",mt)}le.attribList.length=0}le.tag.isSelfClosing=!!he,le.sawRoot=!0,le.tags.push(le.tag),Ce(le,"onopentag",le.tag),he||(le.state=le.noscript||"script"!==le.tagName.toLowerCase()?J.TEXT:J.SCRIPT,le.tag=null,le.tagName=""),le.attribName=le.attribValue="",le.attribList.length=0}function $e(le){if(!le.tagName)return St(le,"Weird empty close tag."),le.textNode+="</>",void(le.state=J.TEXT);if(le.script){if("script"!==le.tagName)return le.script+="</"+le.tagName+">",le.tagName="",void(le.state=J.SCRIPT);Ce(le,"onscript",le.script),le.script=""}var he=le.tags.length,Ye=le.tagName;le.strict||(Ye=Ye[le.looseCase]());for(var Fe=Ye;he--&&le.tags[he].name!==Fe;)St(le,"Unexpected close tag");if(he<0)return St(le,"Unmatched closing tag: "+le.tagName),le.textNode+="</"+le.tagName+">",void(le.state=J.TEXT);le.tagName=Ye;for(var _n=le.tags.length;_n-- >he;){var fn=le.tag=le.tags.pop();le.tagName=le.tag.name,Ce(le,"onclosetag",le.tagName);var Dn={};for(var An in fn.ns)Dn[An]=fn.ns[An];le.opt.xmlns&&fn.ns!==(le.tags[le.tags.length-1]||le).ns&&Object.keys(fn.ns).forEach(function(V){Ce(le,"onclosenamespace",{prefix:V,uri:fn.ns[V]})})}0===he&&(le.closedRoot=!0),le.tagName=le.attribValue=le.attribName="",le.attribList.length=0,le.state=J.TEXT}function at(le){var Fe,he=le.entity,Ye=he.toLowerCase(),Ut="";return le.ENTITIES[he]?le.ENTITIES[he]:le.ENTITIES[Ye]?le.ENTITIES[Ye]:("#"===(he=Ye).charAt(0)&&("x"===he.charAt(1)?(he=he.slice(2),Ut=(Fe=parseInt(he,16)).toString(16)):(he=he.slice(1),Ut=(Fe=parseInt(he,10)).toString(10))),he=he.replace(/^0+/,""),isNaN(Fe)||Ut.toLowerCase()!==he?(St(le,"Invalid character entity"),"&"+le.entity+";"):String.fromCodePoint(Fe))}function ze(le,he){"<"===he?(le.state=J.OPEN_WAKA,le.startTagPosition=le.position):Y(he)||(St(le,"Non-whitespace before first tag."),le.textNode=he,le.state=J.TEXT)}function qe(le,he){var Ye="";return he<le.length&&(Ye=le.charAt(he)),Ye}J=a.STATE,String.fromCodePoint||(le=String.fromCharCode,he=Math.floor,Ye=function(){var Ut=[],Dn=-1,An=arguments.length;if(!An)return"";for(var ge="";++Dn<An;){var V=Number(arguments[Dn]);if(!isFinite(V)||V<0||V>1114111||he(V)!==V)throw RangeError("Invalid code point: "+V);V<=65535?Ut.push(V):Ut.push(55296+((V-=65536)>>10),V%1024+56320),(Dn+1===An||Ut.length>16384)&&(ge+=le.apply(null,Ut),Ut.length=0)}return ge},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ye,configurable:!0,writable:!0}):String.fromCodePoint=Ye)}(se)},8280:function(){!function(ae,se){"use strict";if(!ae.setImmediate){var P,y=1,a={},I=!1,D=ae.document,ce=Object.getPrototypeOf&&Object.getPrototypeOf(ae);ce=ce&&ce.setTimeout?ce:ae,"[object process]"==={}.toString.call(ae.process)?function j(){P=function(ne){process.nextTick(function(){F(ne)})}}():function O(){if(ae.postMessage&&!ae.importScripts){var ne=!0,ye=ae.onmessage;return ae.onmessage=function(){ne=!1},ae.postMessage("","*"),ae.onmessage=ye,ne}}()?function $(){var ne="setImmediate$"+Math.random()+"$",ye=function(ee){ee.source===ae&&"string"==typeof ee.data&&0===ee.data.indexOf(ne)&&F(+ee.data.slice(ne.length))};ae.addEventListener?ae.addEventListener("message",ye,!1):ae.attachEvent("onmessage",ye),P=function(ee){ae.postMessage(ne+ee,"*")}}():ae.MessageChannel?function Q(){var ne=new MessageChannel;ne.port1.onmessage=function(ye){F(ye.data)},P=function(ye){ne.port2.postMessage(ye)}}():D&&"onreadystatechange"in D.createElement("script")?function K(){var ne=D.documentElement;P=function(ye){var ee=D.createElement("script");ee.onreadystatechange=function(){F(ye),ee.onreadystatechange=null,ne.removeChild(ee),ee=null},ne.appendChild(ee)}}():function Z(){P=function(ne){setTimeout(F,0,ne)}}(),ce.setImmediate=function L(ne){"function"!=typeof ne&&(ne=new Function(""+ne));for(var ye=new Array(arguments.length-1),ee=0;ee<ye.length;ee++)ye[ee]=arguments[ee+1];return a[y]={callback:ne,args:ye},P(y),y++},ce.clearImmediate=U}function U(ne){delete a[ne]}function F(ne){if(I)setTimeout(F,0,ne);else{var ye=a[ne];if(ye){I=!0;try{!function S(ne){var ye=ne.callback,ee=ne.args;switch(ee.length){case 0:ye();break;case 1:ye(ee[0]);break;case 2:ye(ee[0],ee[1]);break;case 3:ye(ee[0],ee[1],ee[2]);break;default:ye.apply(undefined,ee)}}(ye)}finally{U(ne),I=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},8270:(ae,se,y)=>{var a=y(5227);function I(){a.call(this)}I.prototype=new a,ae.exports=I,I.Stream=I,I.prototype.pipe=function(D,P){var L=this;function U(K){D.writable&&!1===D.write(K)&&L.pause&&L.pause()}function S(){L.readable&&L.resume&&L.resume()}L.on("data",U),D.on("drain",S),!D._isStdio&&(!P||!1!==P.end)&&(L.on("end",j),L.on("close",O));var F=!1;function j(){F||(F=!0,D.end())}function O(){F||(F=!0,"function"==typeof D.destroy&&D.destroy())}function $(K){if(Q(),!this.hasListeners("error"))throw K}function Q(){L.off("data",U),D.off("drain",S),L.off("end",j),L.off("close",O),L.off("error",$),D.off("error",$),L.off("end",Q),L.off("close",Q),D.off("end",Q),D.off("close",Q)}return L.on("error",$),D.on("error",$),L.on("end",Q),L.on("close",Q),D.on("end",Q),D.on("close",Q),D.emit("pipe",L),D}},2024:(ae,se,y)=>{"use strict";var a=y(6032).Buffer,I=a.isEncoding||function(ee){switch((ee=""+ee)&&ee.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function L(ee){var te;switch(this.encoding=function P(ee){var te=function D(ee){if(!ee)return"utf8";for(var te;;)switch(ee){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ee;default:if(te)return;ee=(""+ee).toLowerCase(),te=!0}}(ee);if("string"!=typeof te&&(a.isEncoding===I||!I(ee)))throw new Error("Unknown encoding: "+ee);return te||ee}(ee),this.encoding){case"utf16le":this.text=Q,this.end=K,te=4;break;case"utf8":this.fillLast=j,te=4;break;case"base64":this.text=Z,this.end=ce,te=3;break;default:return this.write=ne,void(this.end=ye)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(te)}function U(ee){return ee<=127?0:ee>>5==6?2:ee>>4==14?3:ee>>3==30?4:ee>>6==2?-1:-2}function j(ee){var te=this.lastTotal-this.lastNeed,Y=function F(ee,te,Y){if(128!=(192&te[0]))return ee.lastNeed=0,"\ufffd";if(ee.lastNeed>1&&te.length>1){if(128!=(192&te[1]))return ee.lastNeed=1,"\ufffd";if(ee.lastNeed>2&&te.length>2&&128!=(192&te[2]))return ee.lastNeed=2,"\ufffd"}}(this,ee);return void 0!==Y?Y:this.lastNeed<=ee.length?(ee.copy(this.lastChar,te,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ee.copy(this.lastChar,te,0,ee.length),void(this.lastNeed-=ee.length))}function Q(ee,te){if((ee.length-te)%2==0){var Y=ee.toString("utf16le",te);if(Y){var M=Y.charCodeAt(Y.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1],Y.slice(0,-1)}return Y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ee[ee.length-1],ee.toString("utf16le",te,ee.length-1)}function K(ee){var te=ee&&ee.length?this.write(ee):"";return this.lastNeed?te+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):te}function Z(ee,te){var Y=(ee.length-te)%3;return 0===Y?ee.toString("base64",te):(this.lastNeed=3-Y,this.lastTotal=3,1===Y?this.lastChar[0]=ee[ee.length-1]:(this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1]),ee.toString("base64",te,ee.length-Y))}function ce(ee){var te=ee&&ee.length?this.write(ee):"";return this.lastNeed?te+this.lastChar.toString("base64",0,3-this.lastNeed):te}function ne(ee){return ee.toString(this.encoding)}function ye(ee){return ee&&ee.length?this.write(ee):""}se.s=L,L.prototype.write=function(ee){if(0===ee.length)return"";var te,Y;if(this.lastNeed){if(void 0===(te=this.fillLast(ee)))return"";Y=this.lastNeed,this.lastNeed=0}else Y=0;return Y<ee.length?te?te+this.text(ee,Y):this.text(ee,Y):te||""},L.prototype.end=function $(ee){var te=ee&&ee.length?this.write(ee):"";return this.lastNeed?te+"\ufffd":te},L.prototype.text=function O(ee,te){var Y=function S(ee,te,Y){var M=te.length-1;if(M<Y)return 0;var k=U(te[M]);return k>=0?(k>0&&(ee.lastNeed=k-1),k):--M<Y||-2===k?0:(k=U(te[M]))>=0?(k>0&&(ee.lastNeed=k-2),k):--M<Y||-2===k?0:(k=U(te[M]))>=0?(k>0&&(2===k?k=0:ee.lastNeed=k-3),k):0}(this,ee,te);if(!this.lastNeed)return ee.toString("utf8",te);this.lastTotal=Y;var M=ee.length-(Y-this.lastNeed);return ee.copy(this.lastChar,0,M),ee.toString("utf8",te,M)},L.prototype.fillLast=function(ee){if(this.lastNeed<=ee.length)return ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ee.length),this.lastNeed-=ee.length}},6566:(ae,se,y)=>{typeof setTimeout<"u"&&setTimeout,typeof clearTimeout<"u"&&clearTimeout,typeof setInterval<"u"&&setInterval,typeof clearInterval<"u"&&clearInterval,y(8280)},7564:(ae,se)=>{var a={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var I in a)"millisecond"===I?a.ms=a[I]:a[I.charAt(0)]=a[I],a[I+"s"]=a[I];function D(U){this.count=0;var S=function L(U){var S=U.match(P);return S&&a[S[2]]?S.slice(1):null}(U);S&&(this.time=Number(S[0])*a[S[1]],this.type=S[1])}D.prototype.do=function(U){this.time&&(this.interval=setInterval(function F(){S.count++,U.call(S)},this.time));var S=this;return this},D.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var P=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/},8518:function(ae,se){(function(){"use strict";se.stripBOM=function(y){return"\ufeff"===y[0]?y.substring(1):y}}).call(this)},2284:function(ae,se,y){(function(){"use strict";var a,I,D,P,L,U={}.hasOwnProperty;a=y(2518),I=y(6082).defaults,P=function(S){return"string"==typeof S&&(S.indexOf("&")>=0||S.indexOf(">")>=0||S.indexOf("<")>=0)},L=function(S){return"<![CDATA["+D(S)+"]]>"},D=function(S){return S.replace("]]>","]]]]><![CDATA[>")},se.Builder=function(){function S(F){var j,O;for(j in this.options={},O=I[.2])U.call(O,j)&&(this.options[j]=O[j]);for(j in F)U.call(F,j)&&(this.options[j]=F[j])}return S.prototype.buildObject=function(F){var j,O,$,Q,K,Z;return j=this.options.attrkey,O=this.options.charkey,1===Object.keys(F).length&&this.options.rootName===I[.2].rootName?F=F[K=Object.keys(F)[0]]:K=this.options.rootName,Z=this,$=function(ce,ne){var ye,ee,te,Y,M;if("object"!=typeof ne)Z.options.cdata&&P(ne)?ce.raw(L(ne)):ce.txt(ne);else if(Array.isArray(ne)){for(Y in ne)if(U.call(ne,Y))for(M in ee=ne[Y])te=ee[M],ce=$(ce.ele(M),te).up()}else for(M in ne)if(U.call(ne,M))if(ee=ne[M],M===j){if("object"==typeof ee)for(ye in ee)ce=ce.att(ye,ee[ye])}else if(M===O)ce=Z.options.cdata&&P(ee)?ce.raw(L(ee)):ce.txt(ee);else if(Array.isArray(ee))for(Y in ee)U.call(ee,Y)&&(ce="string"==typeof(te=ee[Y])?Z.options.cdata&&P(te)?ce.ele(M).raw(L(te)).up():ce.ele(M,te).up():$(ce.ele(M),te).up());else"object"==typeof ee?ce=$(ce.ele(M),ee).up():"string"==typeof ee&&Z.options.cdata&&P(ee)?ce=ce.ele(M).raw(L(ee)).up():(null==ee&&(ee=""),ce=ce.ele(M,ee.toString()).up());return ce},Q=a.create(K,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),$(Q,F).end(this.options.renderOpts)},S}()}).call(this)},6082:function(ae,se){(function(){se.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},7013:function(ae,se,y){(function(){"use strict";var a,I,D,P,L,U,S,F,j,O=function(K,Z){return function(){return K.apply(Z,arguments)}},Q={}.hasOwnProperty;F=y(9528),P=y(2016),a=y(8518),S=y(5350),j=y(7564).setImmediate,I=y(6082).defaults,L=function(K){return"object"==typeof K&&null!=K&&0===Object.keys(K).length},U=function(K,Z,ce){var ne,ye;for(ne=0,ye=K.length;ne<ye;ne++)Z=(0,K[ne])(Z,ce);return Z},D=function(K,Z,ce){var ne;return(ne=Object.create(null)).value=ce,ne.writable=!0,ne.enumerable=!0,ne.configurable=!0,Object.defineProperty(K,Z,ne)},se.Parser=function(K){function Z(ce){var ne,ye;if(this.parseStringPromise=O(this.parseStringPromise,this),this.parseString=O(this.parseString,this),this.reset=O(this.reset,this),this.assignOrPush=O(this.assignOrPush,this),this.processAsync=O(this.processAsync,this),!(this instanceof se.Parser))return new se.Parser(ce);for(ne in this.options={},ye=I[.2])Q.call(ye,ne)&&(this.options[ne]=ye[ne]);for(ne in ce)Q.call(ce,ne)&&(this.options[ne]=ce[ne]);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(S.normalize)),this.reset()}return function(K,Z){for(var ce in Z)Q.call(Z,ce)&&(K[ce]=Z[ce]);function ne(){this.constructor=K}ne.prototype=Z.prototype,K.prototype=new ne,K.__super__=Z.prototype}(Z,K),Z.prototype.processAsync=function(){var ce,ne;try{return this.remaining.length<=this.options.chunkSize?(ce=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(ce),this.saxParser.close()):(ce=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(ce),j(this.processAsync))}catch(ye){if(ne=ye,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(ne)}},Z.prototype.assignOrPush=function(ce,ne,ye){return ne in ce?(ce[ne]instanceof Array||D(ce,ne,[ce[ne]]),ce[ne].push(ye)):D(ce,ne,this.options.explicitArray?[ye]:ye)},Z.prototype.reset=function(){var ce,ne,ye,ee,te;return this.removeAllListeners(),this.saxParser=F.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(te=this,function(Y){if(te.saxParser.resume(),!te.saxParser.errThrown)return te.saxParser.errThrown=!0,te.emit("error",Y)}),this.saxParser.onend=function(te){return function(){if(!te.saxParser.ended)return te.saxParser.ended=!0,te.emit("end",te.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,ee=[],ce=this.options.attrkey,ne=this.options.charkey,this.saxParser.onopentag=function(te){return function(Y){var M,k,W,be,J;if((W={})[ne]="",!te.options.ignoreAttrs)for(M in J=Y.attributes)Q.call(J,M)&&(!(ce in W)&&!te.options.mergeAttrs&&(W[ce]={}),k=te.options.attrValueProcessors?U(te.options.attrValueProcessors,Y.attributes[M],M):Y.attributes[M],be=te.options.attrNameProcessors?U(te.options.attrNameProcessors,M):M,te.options.mergeAttrs?te.assignOrPush(W,be,k):D(W[ce],be,k));return W["#name"]=te.options.tagNameProcessors?U(te.options.tagNameProcessors,Y.name):Y.name,te.options.xmlns&&(W[te.options.xmlnskey]={uri:Y.uri,local:Y.local}),ee.push(W)}}(this),this.saxParser.onclosetag=function(te){return function(){var Y,M,k,W,be,J,Re,fe,Ce,Pe;if(J=ee.pop(),be=J["#name"],(!te.options.explicitChildren||!te.options.preserveChildrenOrder)&&delete J["#name"],!0===J.cdata&&(Y=J.cdata,delete J.cdata),Ce=ee[ee.length-1],J[ne].match(/^\s*$/)&&!Y?(M=J[ne],delete J[ne]):(te.options.trim&&(J[ne]=J[ne].trim()),te.options.normalize&&(J[ne]=J[ne].replace(/\s{2,}/g," ").trim()),J[ne]=te.options.valueProcessors?U(te.options.valueProcessors,J[ne],be):J[ne],1===Object.keys(J).length&&ne in J&&!te.EXPLICIT_CHARKEY&&(J=J[ne])),L(J)&&(J="function"==typeof te.options.emptyTag?te.options.emptyTag():""!==te.options.emptyTag?te.options.emptyTag:M),null!=te.options.validator&&(Pe="/"+function(){var Be,vt,Ht;for(Ht=[],Be=0,vt=ee.length;Be<vt;Be++)Ht.push((W=ee[Be])["#name"]);return Ht}().concat(be).join("/"),function(){try{return J=te.options.validator(Pe,Ce&&Ce[be],J)}catch(vt){return te.emit("error",vt)}}()),te.options.explicitChildren&&!te.options.mergeAttrs&&"object"==typeof J)if(te.options.preserveChildrenOrder){if(Ce){for(k in Ce[te.options.childkey]=Ce[te.options.childkey]||[],Re={},J)Q.call(J,k)&&D(Re,k,J[k]);Ce[te.options.childkey].push(Re),delete J["#name"],1===Object.keys(J).length&&ne in J&&!te.EXPLICIT_CHARKEY&&(J=J[ne])}}else W={},te.options.attrkey in J&&(W[te.options.attrkey]=J[te.options.attrkey],delete J[te.options.attrkey]),!te.options.charsAsChildren&&te.options.charkey in J&&(W[te.options.charkey]=J[te.options.charkey],delete J[te.options.charkey]),Object.getOwnPropertyNames(J).length>0&&(W[te.options.childkey]=J),J=W;return ee.length>0?te.assignOrPush(Ce,be,J):(te.options.explicitRoot&&(fe=J,D(J={},be,fe)),te.resultObject=J,te.saxParser.ended=!0,te.emit("end",te.resultObject))}}(this),ye=function(te){return function(Y){var M,k;if(k=ee[ee.length-1])return k[ne]+=Y,te.options.explicitChildren&&te.options.preserveChildrenOrder&&te.options.charsAsChildren&&(te.options.includeWhiteChars||""!==Y.replace(/\\n/g,"").trim())&&(k[te.options.childkey]=k[te.options.childkey]||[],(M={"#name":"__text__"})[ne]=Y,te.options.normalize&&(M[ne]=M[ne].replace(/\s{2,}/g," ").trim()),k[te.options.childkey].push(M)),k}}(this),this.saxParser.ontext=ye,this.saxParser.oncdata=function(Y){var M;if(M=ye(Y))return M.cdata=!0}},Z.prototype.parseString=function(ce,ne){var ye;null!=ne&&"function"==typeof ne&&(this.on("end",function(ee){return this.reset(),ne(null,ee)}),this.on("error",function(ee){return this.reset(),ne(ee)}));try{return""===(ce=ce.toString()).trim()?(this.emit("end",null),!0):(ce=a.stripBOM(ce),this.options.async?(this.remaining=ce,j(this.processAsync),this.saxParser):this.saxParser.write(ce).close())}catch(ee){if(ye=ee,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",ye),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw ye}},Z.prototype.parseStringPromise=function(ce){return new Promise((ne=this,function(ye,ee){return ne.parseString(ce,function(te,Y){return te?ee(te):ye(Y)})}));var ne},Z}(P),se.parseString=function(K,Z,ce){var ne,ye;return null!=ce?("function"==typeof ce&&(ne=ce),"object"==typeof Z&&(ye=Z)):("function"==typeof Z&&(ne=Z),ye={}),new se.Parser(ye).parseString(K,ne)},se.parseStringPromise=function(K,Z){var ce;return"object"==typeof Z&&(ce=Z),new se.Parser(ce).parseStringPromise(K)}}).call(this)},5350:function(ae,se){(function(){"use strict";var y;y=new RegExp(/(?!xmlns)^.*:/),se.normalize=function(a){return a.toLowerCase()},se.firstCharLowerCase=function(a){return a.charAt(0).toLowerCase()+a.slice(1)},se.stripPrefix=function(a){return a.replace(y,"")},se.parseNumbers=function(a){return isNaN(a)||(a=a%1==0?parseInt(a,10):parseFloat(a)),a},se.parseBooleans=function(a){return/^(?:true|false)$/i.test(a)&&(a="true"===a.toLowerCase()),a}}).call(this)},9603:function(ae,se,y){(function(){"use strict";var a,I,D,P,U={}.hasOwnProperty;I=y(6082),a=y(2284),D=y(7013),P=y(5350),se.defaults=I.defaults,se.processors=P,se.ValidationError=function(S){function F(j){this.message=j}return function(S,F){for(var j in F)U.call(F,j)&&(S[j]=F[j]);function O(){this.constructor=S}O.prototype=F.prototype,S.prototype=new O,S.__super__=F.prototype}(F,Error),F}(),se.Builder=a.Builder,se.Parser=D.Parser,se.parseString=D.parseString,se.parseStringPromise=D.parseStringPromise}).call(this)},2302:function(ae){(function(){ae.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},7309:function(ae){(function(){ae.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},2249:function(ae){(function(){var se,y,a,I,D,P,L,U=[].slice,S={}.hasOwnProperty;se=function(){var F,j,O,$,Q,K;if(K=arguments[0],Q=2<=arguments.length?U.call(arguments,1):[],D(Object.assign))Object.assign.apply(null,arguments);else for(F=0,O=Q.length;F<O;F++)if(null!=($=Q[F]))for(j in $)S.call($,j)&&(K[j]=$[j]);return K},D=function(F){return!!F&&"[object Function]"===Object.prototype.toString.call(F)},P=function(F){var j;return!!F&&("function"==(j=typeof F)||"object"===j)},a=function(F){return D(Array.isArray)?Array.isArray(F):"[object Array]"===Object.prototype.toString.call(F)},I=function(F){var j;if(a(F))return!F.length;for(j in F)if(S.call(F,j))return!1;return!0},L=function(F){var j,O;return P(F)&&(O=Object.getPrototypeOf(F))&&(j=O.constructor)&&"function"==typeof j&&j instanceof j&&Function.prototype.toString.call(j)===Function.prototype.toString.call(Object)},y=function(F){return D(F.valueOf)?F.valueOf():F},ae.exports.assign=se,ae.exports.isFunction=D,ae.exports.isObject=P,ae.exports.isArray=a,ae.exports.isEmpty=I,ae.exports.isPlainObject=L,ae.exports.getValue=y}).call(this)},4680:function(ae){(function(){ae.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},9743:function(ae,se,y){(function(){var a;a=y(7309),y(8921),ae.exports=function(){function P(L,U,S){if(this.parent=L,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==U)throw new Error("Missing attribute name. "+this.debugInfo(U));this.name=this.stringify.name(U),this.value=this.stringify.attValue(S),this.type=a.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(P.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(P.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return this.value},set:function(L){return this.value=L||""}}),Object.defineProperty(P.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(P.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(P.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(P.prototype,"specified",{get:function(){return!0}}),P.prototype.clone=function(){return Object.create(this)},P.prototype.toString=function(L){return this.options.writer.attribute(this,this.options.writer.filterOptions(L))},P.prototype.debugInfo=function(L){return null==(L=L||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+L+"}, parent: <"+this.parent.name+">"},P.prototype.isEqualNode=function(L){return!(L.namespaceURI!==this.namespaceURI||L.prefix!==this.prefix||L.localName!==this.localName||L.value!==this.value)},P}()}).call(this)},4217:function(ae,se,y){(function(){var a,D,L={}.hasOwnProperty;a=y(7309),D=y(7836),ae.exports=function(U){function S(F,j){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=a.CData,this.value=this.stringify.cdata(j)}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.clone=function(){return Object.create(this)},S.prototype.toString=function(F){return this.options.writer.cdata(this,this.options.writer.filterOptions(F))},S}(D)}).call(this)},7836:function(ae,se,y){(function(){var I,P={}.hasOwnProperty;I=y(8921),ae.exports=function(L){function U(S){U.__super__.constructor.call(this,S),this.value=""}return function(L,U){for(var S in U)P.call(U,S)&&(L[S]=U[S]);function F(){this.constructor=L}F.prototype=U.prototype,L.prototype=new F,L.__super__=U.prototype}(U,L),Object.defineProperty(U.prototype,"data",{get:function(){return this.value},set:function(S){return this.value=S||""}}),Object.defineProperty(U.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(U.prototype,"textContent",{get:function(){return this.value},set:function(S){return this.value=S||""}}),U.prototype.clone=function(){return Object.create(this)},U.prototype.substringData=function(S,F){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.appendData=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.insertData=function(S,F){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.deleteData=function(S,F){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.replaceData=function(S,F,j){throw new Error("This DOM method is not implemented."+this.debugInfo())},U.prototype.isEqualNode=function(S){return!(!U.__super__.isEqualNode.apply(this,arguments).isEqualNode(S)||S.data!==this.data)},U}(I)}).call(this)},1697:function(ae,se,y){(function(){var a,I,L={}.hasOwnProperty;a=y(7309),I=y(7836),ae.exports=function(U){function S(F,j){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=a.Comment,this.value=this.stringify.comment(j)}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.clone=function(){return Object.create(this)},S.prototype.toString=function(F){return this.options.writer.comment(this,this.options.writer.filterOptions(F))},S}(I)}).call(this)},7052:function(ae,se,y){(function(){var I,D;I=y(1828),D=y(1946),ae.exports=function(){function P(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new I,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(P.prototype,"parameterNames",{get:function(){return new D(Object.keys(this.defaultParams))}}),P.prototype.getParameter=function(L){return this.params.hasOwnProperty(L)?this.params[L]:null},P.prototype.canSetParameter=function(L,U){return!0},P.prototype.setParameter=function(L,U){return null!=U?this.params[L]=U:delete this.params[L]},P}()}).call(this)},1828:function(ae){(function(){ae.exports=function(){function y(){}return y.prototype.handleError=function(a){throw new Error(a)},y}()}).call(this)},9663:function(ae){(function(){ae.exports=function(){function y(){}return y.prototype.hasFeature=function(a,I){return!0},y.prototype.createDocumentType=function(a,I,D){throw new Error("This DOM method is not implemented.")},y.prototype.createDocument=function(a,I,D){throw new Error("This DOM method is not implemented.")},y.prototype.createHTMLDocument=function(a){throw new Error("This DOM method is not implemented.")},y.prototype.getFeature=function(a,I){throw new Error("This DOM method is not implemented.")},y}()}).call(this)},1946:function(ae){(function(){ae.exports=function(){function y(a){this.arr=a||[]}return Object.defineProperty(y.prototype,"length",{get:function(){return this.arr.length}}),y.prototype.item=function(a){return this.arr[a]||null},y.prototype.contains=function(a){return-1!==this.arr.indexOf(a)},y}()}).call(this)},843:function(ae,se,y){(function(){var a,D,L={}.hasOwnProperty;D=y(8921),a=y(7309),ae.exports=function(U){function S(F,j,O,$,Q,K){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==O)throw new Error("Missing DTD attribute name. "+this.debugInfo(j));if(!$)throw new Error("Missing DTD attribute type. "+this.debugInfo(j));if(!Q)throw new Error("Missing DTD attribute default. "+this.debugInfo(j));if(0!==Q.indexOf("#")&&(Q="#"+Q),!Q.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(j));if(K&&!Q.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(j));this.elementName=this.stringify.name(j),this.type=a.AttributeDeclaration,this.attributeName=this.stringify.name(O),this.attributeType=this.stringify.dtdAttType($),K&&(this.defaultValue=this.stringify.dtdAttDefault(K)),this.defaultValueType=Q}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.toString=function(F){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(F))},S}(D)}).call(this)},3234:function(ae,se,y){(function(){var a,D,L={}.hasOwnProperty;D=y(8921),a=y(7309),ae.exports=function(U){function S(F,j,O){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing DTD element name. "+this.debugInfo());O||(O="(#PCDATA)"),Array.isArray(O)&&(O="("+O.join(",")+")"),this.name=this.stringify.name(j),this.type=a.ElementDeclaration,this.value=this.stringify.dtdElementValue(O)}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.toString=function(F){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(F))},S}(D)}).call(this)},4410:function(ae,se,y){(function(){var a,D,P,U={}.hasOwnProperty;P=y(2249).isObject,D=y(8921),a=y(7309),ae.exports=function(S){function F(j,O,$,Q){if(F.__super__.constructor.call(this,j),null==$)throw new Error("Missing DTD entity name. "+this.debugInfo($));if(null==Q)throw new Error("Missing DTD entity value. "+this.debugInfo($));if(this.pe=!!O,this.name=this.stringify.name($),this.type=a.EntityDeclaration,P(Q)){if(!Q.pubID&&!Q.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo($));if(Q.pubID&&!Q.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo($));if(this.internal=!1,null!=Q.pubID&&(this.pubID=this.stringify.dtdPubID(Q.pubID)),null!=Q.sysID&&(this.sysID=this.stringify.dtdSysID(Q.sysID)),null!=Q.nData&&(this.nData=this.stringify.dtdNData(Q.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo($))}else this.value=this.stringify.dtdEntityValue(Q),this.internal=!0}return function(S,F){for(var j in F)U.call(F,j)&&(S[j]=F[j]);function O(){this.constructor=S}O.prototype=F.prototype,S.prototype=new O,S.__super__=F.prototype}(F,S),Object.defineProperty(F.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(F.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(F.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(F.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(F.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(F.prototype,"xmlVersion",{get:function(){return null}}),F.prototype.toString=function(j){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(j))},F}(D)}).call(this)},6117:function(ae,se,y){(function(){var a,D,L={}.hasOwnProperty;D=y(8921),a=y(7309),ae.exports=function(U){function S(F,j,O){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing DTD notation name. "+this.debugInfo(j));if(!O.pubID&&!O.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(j));this.name=this.stringify.name(j),this.type=a.NotationDeclaration,null!=O.pubID&&(this.pubID=this.stringify.dtdPubID(O.pubID)),null!=O.sysID&&(this.sysID=this.stringify.dtdSysID(O.sysID))}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),Object.defineProperty(S.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(S.prototype,"systemId",{get:function(){return this.sysID}}),S.prototype.toString=function(F){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(F))},S}(D)}).call(this)},4417:function(ae,se,y){(function(){var a,D,P,U={}.hasOwnProperty;P=y(2249).isObject,D=y(8921),a=y(7309),ae.exports=function(S){function F(j,O,$,Q){var K;F.__super__.constructor.call(this,j),P(O)&&(O=(K=O).version,$=K.encoding,Q=K.standalone),O||(O="1.0"),this.type=a.Declaration,this.version=this.stringify.xmlVersion(O),null!=$&&(this.encoding=this.stringify.xmlEncoding($)),null!=Q&&(this.standalone=this.stringify.xmlStandalone(Q))}return function(S,F){for(var j in F)U.call(F,j)&&(S[j]=F[j]);function O(){this.constructor=S}O.prototype=F.prototype,S.prototype=new O,S.__super__=F.prototype}(F,S),F.prototype.toString=function(j){return this.options.writer.declaration(this,this.options.writer.filterOptions(j))},F}(D)}).call(this)},8914:function(ae,se,y){(function(){var a,I,D,P,L,S,F,j,$={}.hasOwnProperty;j=y(2249).isObject,F=y(8921),a=y(7309),I=y(843),P=y(4410),D=y(3234),L=y(6117),S=y(766),ae.exports=function(Q){function K(Z,ce,ne){var ye,ee,te,Y,M,k;if(K.__super__.constructor.call(this,Z),this.type=a.DocType,Z.children)for(ee=0,te=(Y=Z.children).length;ee<te;ee++)if((ye=Y[ee]).type===a.Element){this.name=ye.name;break}this.documentObject=Z,j(ce)&&(ce=(M=ce).pubID,ne=M.sysID),null==ne&&(ne=(k=[ce,ne])[0],ce=k[1]),null!=ce&&(this.pubID=this.stringify.dtdPubID(ce)),null!=ne&&(this.sysID=this.stringify.dtdSysID(ne))}return function(Q,K){for(var Z in K)$.call(K,Z)&&(Q[Z]=K[Z]);function ce(){this.constructor=Q}ce.prototype=K.prototype,Q.prototype=new ce,Q.__super__=K.prototype}(K,Q),Object.defineProperty(K.prototype,"entities",{get:function(){var Z,ce,ne,ye,ee;for(ye={},ce=0,ne=(ee=this.children).length;ce<ne;ce++)(Z=ee[ce]).type===a.EntityDeclaration&&!Z.pe&&(ye[Z.name]=Z);return new S(ye)}}),Object.defineProperty(K.prototype,"notations",{get:function(){var Z,ce,ne,ye,ee;for(ye={},ce=0,ne=(ee=this.children).length;ce<ne;ce++)(Z=ee[ce]).type===a.NotationDeclaration&&(ye[Z.name]=Z);return new S(ye)}}),Object.defineProperty(K.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(K.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(K.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),K.prototype.element=function(Z,ce){var ne;return ne=new D(this,Z,ce),this.children.push(ne),this},K.prototype.attList=function(Z,ce,ne,ye,ee){var te;return te=new I(this,Z,ce,ne,ye,ee),this.children.push(te),this},K.prototype.entity=function(Z,ce){var ne;return ne=new P(this,!1,Z,ce),this.children.push(ne),this},K.prototype.pEntity=function(Z,ce){var ne;return ne=new P(this,!0,Z,ce),this.children.push(ne),this},K.prototype.notation=function(Z,ce){var ne;return ne=new L(this,Z,ce),this.children.push(ne),this},K.prototype.toString=function(Z){return this.options.writer.docType(this,this.options.writer.filterOptions(Z))},K.prototype.ele=function(Z,ce){return this.element(Z,ce)},K.prototype.att=function(Z,ce,ne,ye,ee){return this.attList(Z,ce,ne,ye,ee)},K.prototype.ent=function(Z,ce){return this.entity(Z,ce)},K.prototype.pent=function(Z,ce){return this.pEntity(Z,ce)},K.prototype.not=function(Z,ce){return this.notation(Z,ce)},K.prototype.up=function(){return this.root()||this.documentObject},K.prototype.isEqualNode=function(Z){return!(!K.__super__.isEqualNode.apply(this,arguments).isEqualNode(Z)||Z.name!==this.name||Z.publicId!==this.publicId||Z.systemId!==this.systemId)},K}(F)}).call(this)},8261:function(ae,se,y){(function(){var a,I,D,L,U,S,F,O={}.hasOwnProperty;F=y(2249).isPlainObject,D=y(9663),I=y(7052),L=y(8921),a=y(7309),S=y(8358),U=y(6830),ae.exports=function($){function Q(K){Q.__super__.constructor.call(this,null),this.name="#document",this.type=a.Document,this.documentURI=null,this.domConfig=new I,K||(K={}),K.writer||(K.writer=new U),this.options=K,this.stringify=new S(K)}return function($,Q){for(var K in Q)O.call(Q,K)&&($[K]=Q[K]);function Z(){this.constructor=$}Z.prototype=Q.prototype,$.prototype=new Z,$.__super__=Q.prototype}(Q,$),Object.defineProperty(Q.prototype,"implementation",{value:new D}),Object.defineProperty(Q.prototype,"doctype",{get:function(){var K,Z,ce,ne;for(Z=0,ce=(ne=this.children).length;Z<ce;Z++)if((K=ne[Z]).type===a.DocType)return K;return null}}),Object.defineProperty(Q.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(Q.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(Q.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(Q.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===a.Declaration?this.children[0].encoding:null}}),Object.defineProperty(Q.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===a.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(Q.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===a.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(Q.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(Q.prototype,"origin",{get:function(){return null}}),Object.defineProperty(Q.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(Q.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(Q.prototype,"contentType",{get:function(){return null}}),Q.prototype.end=function(K){var Z;return Z={},K?F(K)&&(Z=K,K=this.options.writer):K=this.options.writer,K.document(this,K.filterOptions(Z))},Q.prototype.toString=function(K){return this.options.writer.document(this,this.options.writer.filterOptions(K))},Q.prototype.createElement=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createTextNode=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createComment=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createCDATASection=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createProcessingInstruction=function(K,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createAttribute=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createEntityReference=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementsByTagName=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.importNode=function(K,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createElementNS=function(K,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createAttributeNS=function(K,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementsByTagNameNS=function(K,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementById=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.adoptNode=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.renameNode=function(K,Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementsByClassName=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createEvent=function(K){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createNodeIterator=function(K,Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createTreeWalker=function(K,Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q}(L)}).call(this)},7590:function(ae,se,y){(function(){var a,I,D,P,L,U,S,F,j,O,$,Q,Z,ce,ne,ye,ee,te,Y,M,k,W,be,J={}.hasOwnProperty;be=y(2249),k=be.isObject,M=be.isFunction,W=be.isPlainObject,Y=be.getValue,a=y(7309),Q=y(8261),Z=y(7348),P=y(4217),L=y(1697),ne=y(6394),te=y(1523),ce=y(3787),O=y(4417),$=y(8914),U=y(843),F=y(4410),S=y(3234),j=y(6117),D=y(9743),ee=y(8358),ye=y(6830),I=y(4680),ae.exports=function(){function Re(fe,Ce,Pe){var Be;this.name="?xml",this.type=a.Document,fe||(fe={}),Be={},fe.writer?W(fe.writer)&&(Be=fe.writer,fe.writer=new ye):fe.writer=new ye,this.options=fe,this.writer=fe.writer,this.writerOptions=this.writer.filterOptions(Be),this.stringify=new ee(fe),this.onDataCallback=Ce||function(){},this.onEndCallback=Pe||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return Re.prototype.createChildNode=function(fe){var Pe,Be,vt,Ht,St,wn,hn;switch(fe.type){case a.CData:this.cdata(fe.value);break;case a.Comment:this.comment(fe.value);break;case a.Element:for(Pe in Be={},wn=fe.attribs)J.call(wn,Pe)&&(Be[Pe]=wn[Pe].value);this.node(fe.name,Be);break;case a.Dummy:this.dummy();break;case a.Raw:this.raw(fe.value);break;case a.Text:this.text(fe.value);break;case a.ProcessingInstruction:this.instruction(fe.target,fe.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+fe.constructor.name)}for(Ht=0,St=(hn=fe.children).length;Ht<St;Ht++)this.createChildNode(vt=hn[Ht]),vt.type===a.Element&&this.up();return this},Re.prototype.dummy=function(){return this},Re.prototype.node=function(fe,Ce,Pe){var Be;if(null==fe)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(fe));return this.openCurrent(),fe=Y(fe),null==Ce&&(Ce={}),Ce=Y(Ce),k(Ce)||(Pe=(Be=[Ce,Pe])[0],Ce=Be[1]),this.currentNode=new Z(this,fe,Ce),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=Pe&&this.text(Pe),this},Re.prototype.element=function(fe,Ce,Pe){var Be,vt,Ht,St,wn,hn;if(this.currentNode&&this.currentNode.type===a.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(fe)||k(fe)||M(fe))for(St=this.options.noValidation,this.options.noValidation=!0,(hn=new Q(this.options).element("TEMP_ROOT")).element(fe),this.options.noValidation=St,vt=0,Ht=(wn=hn.children).length;vt<Ht;vt++)this.createChildNode(Be=wn[vt]),Be.type===a.Element&&this.up();else this.node(fe,Ce,Pe);return this},Re.prototype.attribute=function(fe,Ce){var Pe;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(fe));if(null!=fe&&(fe=Y(fe)),k(fe))for(Pe in fe)J.call(fe,Pe)&&this.attribute(Pe,fe[Pe]);else M(Ce)&&(Ce=Ce.apply()),this.options.keepNullAttributes&&null==Ce?this.currentNode.attribs[fe]=new D(this,fe,""):null!=Ce&&(this.currentNode.attribs[fe]=new D(this,fe,Ce));return this},Re.prototype.text=function(fe){var Ce;return this.openCurrent(),Ce=new te(this,fe),this.onData(this.writer.text(Ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.cdata=function(fe){var Ce;return this.openCurrent(),Ce=new P(this,fe),this.onData(this.writer.cdata(Ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.comment=function(fe){var Ce;return this.openCurrent(),Ce=new L(this,fe),this.onData(this.writer.comment(Ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.raw=function(fe){var Ce;return this.openCurrent(),Ce=new ne(this,fe),this.onData(this.writer.raw(Ce,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.instruction=function(fe,Ce){var Pe,Be,Ht,St;if(this.openCurrent(),null!=fe&&(fe=Y(fe)),null!=Ce&&(Ce=Y(Ce)),Array.isArray(fe))for(Pe=0,Ht=fe.length;Pe<Ht;Pe++)this.instruction(Be=fe[Pe]);else if(k(fe))for(Be in fe)J.call(fe,Be)&&this.instruction(Be,fe[Be]);else M(Ce)&&(Ce=Ce.apply()),St=new ce(this,fe,Ce),this.onData(this.writer.processingInstruction(St,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},Re.prototype.declaration=function(fe,Ce,Pe){var Be;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return Be=new O(this,fe,Ce,Pe),this.onData(this.writer.declaration(Be,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.doctype=function(fe,Ce,Pe){if(this.openCurrent(),null==fe)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new $(this,Ce,Pe),this.currentNode.rootNodeName=fe,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},Re.prototype.dtdElement=function(fe,Ce){var Pe;return this.openCurrent(),Pe=new S(this,fe,Ce),this.onData(this.writer.dtdElement(Pe,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.attList=function(fe,Ce,Pe,Be,vt){var Ht;return this.openCurrent(),Ht=new U(this,fe,Ce,Pe,Be,vt),this.onData(this.writer.dtdAttList(Ht,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.entity=function(fe,Ce){var Pe;return this.openCurrent(),Pe=new F(this,!1,fe,Ce),this.onData(this.writer.dtdEntity(Pe,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.pEntity=function(fe,Ce){var Pe;return this.openCurrent(),Pe=new F(this,!0,fe,Ce),this.onData(this.writer.dtdEntity(Pe,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.notation=function(fe,Ce){var Pe;return this.openCurrent(),Pe=new j(this,fe,Ce),this.onData(this.writer.dtdNotation(Pe,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},Re.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},Re.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},Re.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},Re.prototype.openNode=function(fe){var Pe,Be,vt;if(!fe.isOpen){if(!this.root&&0===this.currentLevel&&fe.type===a.Element&&(this.root=fe),Pe="",fe.type===a.Element){for(Be in this.writerOptions.state=I.OpenTag,Pe=this.writer.indent(fe,this.writerOptions,this.currentLevel)+"<"+fe.name,vt=fe.attribs)J.call(vt,Be)&&(Pe+=this.writer.attribute(vt[Be],this.writerOptions,this.currentLevel));Pe+=(fe.children?">":"/>")+this.writer.endline(fe,this.writerOptions,this.currentLevel),this.writerOptions.state=I.InsideTag}else this.writerOptions.state=I.OpenTag,Pe=this.writer.indent(fe,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+fe.rootNodeName,fe.pubID&&fe.sysID?Pe+=' PUBLIC "'+fe.pubID+'" "'+fe.sysID+'"':fe.sysID&&(Pe+=' SYSTEM "'+fe.sysID+'"'),fe.children?(Pe+=" [",this.writerOptions.state=I.InsideTag):(this.writerOptions.state=I.CloseTag,Pe+=">"),Pe+=this.writer.endline(fe,this.writerOptions,this.currentLevel);return this.onData(Pe,this.currentLevel),fe.isOpen=!0}},Re.prototype.closeNode=function(fe){var Ce;if(!fe.isClosed)return"",this.writerOptions.state=I.CloseTag,Ce=fe.type===a.Element?this.writer.indent(fe,this.writerOptions,this.currentLevel)+"</"+fe.name+">"+this.writer.endline(fe,this.writerOptions,this.currentLevel):this.writer.indent(fe,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(fe,this.writerOptions,this.currentLevel),this.writerOptions.state=I.None,this.onData(Ce,this.currentLevel),fe.isClosed=!0},Re.prototype.onData=function(fe,Ce){return this.documentStarted=!0,this.onDataCallback(fe,Ce+1)},Re.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},Re.prototype.debugInfo=function(fe){return null==fe?"":"node: <"+fe+">"},Re.prototype.ele=function(){return this.element.apply(this,arguments)},Re.prototype.nod=function(fe,Ce,Pe){return this.node(fe,Ce,Pe)},Re.prototype.txt=function(fe){return this.text(fe)},Re.prototype.dat=function(fe){return this.cdata(fe)},Re.prototype.com=function(fe){return this.comment(fe)},Re.prototype.ins=function(fe,Ce){return this.instruction(fe,Ce)},Re.prototype.dec=function(fe,Ce,Pe){return this.declaration(fe,Ce,Pe)},Re.prototype.dtd=function(fe,Ce,Pe){return this.doctype(fe,Ce,Pe)},Re.prototype.e=function(fe,Ce,Pe){return this.element(fe,Ce,Pe)},Re.prototype.n=function(fe,Ce,Pe){return this.node(fe,Ce,Pe)},Re.prototype.t=function(fe){return this.text(fe)},Re.prototype.d=function(fe){return this.cdata(fe)},Re.prototype.c=function(fe){return this.comment(fe)},Re.prototype.r=function(fe){return this.raw(fe)},Re.prototype.i=function(fe,Ce){return this.instruction(fe,Ce)},Re.prototype.att=function(){return this.currentNode&&this.currentNode.type===a.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},Re.prototype.a=function(){return this.currentNode&&this.currentNode.type===a.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},Re.prototype.ent=function(fe,Ce){return this.entity(fe,Ce)},Re.prototype.pent=function(fe,Ce){return this.pEntity(fe,Ce)},Re.prototype.not=function(fe,Ce){return this.notation(fe,Ce)},Re}()}).call(this)},2071:function(ae,se,y){(function(){var a,D,L={}.hasOwnProperty;D=y(8921),a=y(7309),ae.exports=function(U){function S(F){S.__super__.constructor.call(this,F),this.type=a.Dummy}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.clone=function(){return Object.create(this)},S.prototype.toString=function(F){return""},S}(D)}).call(this)},7348:function(ae,se,y){(function(){var a,I,P,L,U,S,F,j,$={}.hasOwnProperty;j=y(2249),F=j.isObject,S=j.isFunction,U=j.getValue,L=y(8921),a=y(7309),I=y(9743),P=y(766),ae.exports=function(Q){function K(Z,ce,ne){var ye,ee,te,Y;if(K.__super__.constructor.call(this,Z),null==ce)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(ce),this.type=a.Element,this.attribs={},this.schemaTypeInfo=null,null!=ne&&this.attribute(ne),Z.type===a.Document&&(this.isRoot=!0,this.documentObject=Z,Z.rootObject=this,Z.children))for(ee=0,te=(Y=Z.children).length;ee<te;ee++)if((ye=Y[ee]).type===a.DocType){ye.name=this.name;break}}return function(Q,K){for(var Z in K)$.call(K,Z)&&(Q[Z]=K[Z]);function ce(){this.constructor=Q}ce.prototype=K.prototype,Q.prototype=new ce,Q.__super__=K.prototype}(K,Q),Object.defineProperty(K.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(K.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(K.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(K.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(K.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(K.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(K.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(K.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new P(this.attribs)),this.attributeMap}}),K.prototype.clone=function(){var ce,ne,ye;for(ce in(ne=Object.create(this)).isRoot&&(ne.documentObject=null),ne.attribs={},ye=this.attribs)$.call(ye,ce)&&(ne.attribs[ce]=ye[ce].clone());return ne.children=[],this.children.forEach(function(ee){var te;return(te=ee.clone()).parent=ne,ne.children.push(te)}),ne},K.prototype.attribute=function(Z,ce){var ne;if(null!=Z&&(Z=U(Z)),F(Z))for(ne in Z)$.call(Z,ne)&&this.attribute(ne,Z[ne]);else S(ce)&&(ce=ce.apply()),this.options.keepNullAttributes&&null==ce?this.attribs[Z]=new I(this,Z,""):null!=ce&&(this.attribs[Z]=new I(this,Z,ce));return this},K.prototype.removeAttribute=function(Z){var ne,ye;if(null==Z)throw new Error("Missing attribute name. "+this.debugInfo());if(Z=U(Z),Array.isArray(Z))for(ne=0,ye=Z.length;ne<ye;ne++)delete this.attribs[Z[ne]];else delete this.attribs[Z];return this},K.prototype.toString=function(Z){return this.options.writer.element(this,this.options.writer.filterOptions(Z))},K.prototype.att=function(Z,ce){return this.attribute(Z,ce)},K.prototype.a=function(Z,ce){return this.attribute(Z,ce)},K.prototype.getAttribute=function(Z){return this.attribs.hasOwnProperty(Z)?this.attribs[Z].value:null},K.prototype.setAttribute=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getAttributeNode=function(Z){return this.attribs.hasOwnProperty(Z)?this.attribs[Z]:null},K.prototype.setAttributeNode=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.removeAttributeNode=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getElementsByTagName=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getAttributeNS=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.setAttributeNS=function(Z,ce,ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.removeAttributeNS=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getAttributeNodeNS=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.setAttributeNodeNS=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getElementsByTagNameNS=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.hasAttribute=function(Z){return this.attribs.hasOwnProperty(Z)},K.prototype.hasAttributeNS=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.setIdAttribute=function(Z,ce){return this.attribs.hasOwnProperty(Z)?this.attribs[Z].isId:ce},K.prototype.setIdAttributeNS=function(Z,ce,ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.setIdAttributeNode=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getElementsByTagName=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getElementsByTagNameNS=function(Z,ce){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.getElementsByClassName=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.isEqualNode=function(Z){var ce,ne,ye;if(!K.__super__.isEqualNode.apply(this,arguments).isEqualNode(Z)||Z.namespaceURI!==this.namespaceURI||Z.prefix!==this.prefix||Z.localName!==this.localName||Z.attribs.length!==this.attribs.length)return!1;for(ce=ne=0,ye=this.attribs.length-1;0<=ye?ne<=ye:ne>=ye;ce=0<=ye?++ne:--ne)if(!this.attribs[ce].isEqualNode(Z.attribs[ce]))return!1;return!0},K}(L)}).call(this)},766:function(ae){(function(){ae.exports=function(){function y(a){this.nodes=a}return Object.defineProperty(y.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),y.prototype.clone=function(){return this.nodes=null},y.prototype.getNamedItem=function(a){return this.nodes[a]},y.prototype.setNamedItem=function(a){var I;return I=this.nodes[a.nodeName],this.nodes[a.nodeName]=a,I||null},y.prototype.removeNamedItem=function(a){var I;return I=this.nodes[a],delete this.nodes[a],I||null},y.prototype.item=function(a){return this.nodes[Object.keys(this.nodes)[a]]||null},y.prototype.getNamedItemNS=function(a,I){throw new Error("This DOM method is not implemented.")},y.prototype.setNamedItemNS=function(a){throw new Error("This DOM method is not implemented.")},y.prototype.removeNamedItemNS=function(a,I){throw new Error("This DOM method is not implemented.")},y}()}).call(this)},8921:function(ae,se,y){(function(){var a,I,D,P,L,U,S,F,$,Q,K,Z,ce,ne,ye,ee,te,Y={}.hasOwnProperty;te=y(2249),ee=te.isObject,ye=te.isFunction,ne=te.isEmpty,ce=te.getValue,F=null,D=null,P=null,L=null,U=null,K=null,Z=null,Q=null,S=null,I=null,$=null,a=null,ae.exports=function(){function M(k){this.parent=k,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,F||(F=y(7348),D=y(4217),P=y(1697),L=y(4417),U=y(8914),K=y(6394),Z=y(1523),Q=y(3787),S=y(2071),I=y(7309),$=y(7152),y(766),a=y(2302))}return Object.defineProperty(M.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(M.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(M.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(M.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(M.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new $(this.children)),this.childNodeList}}),Object.defineProperty(M.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(M.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(M.prototype,"previousSibling",{get:function(){var k;return k=this.parent.children.indexOf(this),this.parent.children[k-1]||null}}),Object.defineProperty(M.prototype,"nextSibling",{get:function(){var k;return k=this.parent.children.indexOf(this),this.parent.children[k+1]||null}}),Object.defineProperty(M.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(M.prototype,"textContent",{get:function(){var k,W,be,J,Re;if(this.nodeType===I.Element||this.nodeType===I.DocumentFragment){for(Re="",W=0,be=(J=this.children).length;W<be;W++)(k=J[W]).textContent&&(Re+=k.textContent);return Re}return null},set:function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),M.prototype.setParent=function(k){var be,J,Re,fe;for(this.parent=k,k&&(this.options=k.options,this.stringify=k.stringify),fe=[],be=0,J=(Re=this.children).length;be<J;be++)fe.push(Re[be].setParent(this));return fe},M.prototype.element=function(k,W,be){var J,fe,Ce,Pe,Be,vt,Ht,St,wn,hn;if(Be=null,null===W&&null==be&&(W=(St=[{},null])[0],be=St[1]),null==W&&(W={}),W=ce(W),ee(W)||(be=(wn=[W,be])[0],W=wn[1]),null!=k&&(k=ce(k)),Array.isArray(k))for(fe=0,vt=k.length;fe<vt;fe++)Be=this.element(k[fe]);else if(ye(k))Be=this.element(k.apply());else if(ee(k)){for(Pe in k)if(Y.call(k,Pe))if(ye(hn=k[Pe])&&(hn=hn.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===Pe.indexOf(this.stringify.convertAttKey))Be=this.attribute(Pe.substr(this.stringify.convertAttKey.length),hn);else if(!this.options.separateArrayItems&&Array.isArray(hn)&&ne(hn))Be=this.dummy();else if(ee(hn)&&ne(hn))Be=this.element(Pe);else if(this.options.keepNullNodes||null!=hn)if(!this.options.separateArrayItems&&Array.isArray(hn))for(Ce=0,Ht=hn.length;Ce<Ht;Ce++)(J={})[Pe]=hn[Ce],Be=this.element(J);else ee(hn)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===Pe.indexOf(this.stringify.convertTextKey)?Be=this.element(hn):(Be=this.element(Pe)).element(hn):Be=this.element(Pe,hn);else Be=this.dummy()}else Be=this.options.keepNullNodes||null!==be?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===k.indexOf(this.stringify.convertTextKey)?this.text(be):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===k.indexOf(this.stringify.convertCDataKey)?this.cdata(be):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===k.indexOf(this.stringify.convertCommentKey)?this.comment(be):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===k.indexOf(this.stringify.convertRawKey)?this.raw(be):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===k.indexOf(this.stringify.convertPIKey)?this.instruction(k.substr(this.stringify.convertPIKey.length),be):this.node(k,W,be):this.dummy();if(null==Be)throw new Error("Could not create any elements with: "+k+". "+this.debugInfo());return Be},M.prototype.insertBefore=function(k,W,be){var J,Re,fe,Ce,Pe;if(k?.type)return Ce=W,(fe=k).setParent(this),Ce?(Re=children.indexOf(Ce),Pe=children.splice(Re),children.push(fe),Array.prototype.push.apply(children,Pe)):children.push(fe),fe;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(k));return Re=this.parent.children.indexOf(this),Pe=this.parent.children.splice(Re),J=this.parent.element(k,W,be),Array.prototype.push.apply(this.parent.children,Pe),J},M.prototype.insertAfter=function(k,W,be){var J,Re,fe;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(k));return Re=this.parent.children.indexOf(this),fe=this.parent.children.splice(Re+1),J=this.parent.element(k,W,be),Array.prototype.push.apply(this.parent.children,fe),J},M.prototype.remove=function(){var k;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return k=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[k,k-k+1].concat([])),this.parent},M.prototype.node=function(k,W,be){var J,Re;return null!=k&&(k=ce(k)),W||(W={}),W=ce(W),ee(W)||(be=(Re=[W,be])[0],W=Re[1]),J=new F(this,k,W),null!=be&&J.text(be),this.children.push(J),J},M.prototype.text=function(k){var W;return ee(k)&&this.element(k),W=new Z(this,k),this.children.push(W),this},M.prototype.cdata=function(k){var W;return W=new D(this,k),this.children.push(W),this},M.prototype.comment=function(k){var W;return W=new P(this,k),this.children.push(W),this},M.prototype.commentBefore=function(k){var be,J;return be=this.parent.children.indexOf(this),J=this.parent.children.splice(be),this.parent.comment(k),Array.prototype.push.apply(this.parent.children,J),this},M.prototype.commentAfter=function(k){var be,J;return be=this.parent.children.indexOf(this),J=this.parent.children.splice(be+1),this.parent.comment(k),Array.prototype.push.apply(this.parent.children,J),this},M.prototype.raw=function(k){var W;return W=new K(this,k),this.children.push(W),this},M.prototype.dummy=function(){return new S(this)},M.prototype.instruction=function(k,W){var be,Re,fe,Ce;if(null!=k&&(k=ce(k)),null!=W&&(W=ce(W)),Array.isArray(k))for(fe=0,Ce=k.length;fe<Ce;fe++)this.instruction(be=k[fe]);else if(ee(k))for(be in k)Y.call(k,be)&&this.instruction(be,k[be]);else ye(W)&&(W=W.apply()),Re=new Q(this,k,W),this.children.push(Re);return this},M.prototype.instructionBefore=function(k,W){var J,Re;return J=this.parent.children.indexOf(this),Re=this.parent.children.splice(J),this.parent.instruction(k,W),Array.prototype.push.apply(this.parent.children,Re),this},M.prototype.instructionAfter=function(k,W){var J,Re;return J=this.parent.children.indexOf(this),Re=this.parent.children.splice(J+1),this.parent.instruction(k,W),Array.prototype.push.apply(this.parent.children,Re),this},M.prototype.declaration=function(k,W,be){var J,Re;return J=this.document(),Re=new L(J,k,W,be),0===J.children.length?J.children.unshift(Re):J.children[0].type===I.Declaration?J.children[0]=Re:J.children.unshift(Re),J.root()||J},M.prototype.dtd=function(k,W){var J,Re,fe,Ce,Pe,Be,vt,Ht,St;for(J=this.document(),Re=new U(J,k,W),fe=Ce=0,Be=(Ht=J.children).length;Ce<Be;fe=++Ce)if(Ht[fe].type===I.DocType)return J.children[fe]=Re,Re;for(fe=Pe=0,vt=(St=J.children).length;Pe<vt;fe=++Pe)if(St[fe].isRoot)return J.children.splice(fe,0,Re),Re;return J.children.push(Re),Re},M.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},M.prototype.root=function(){var k;for(k=this;k;){if(k.type===I.Document)return k.rootObject;if(k.isRoot)return k;k=k.parent}},M.prototype.document=function(){var k;for(k=this;k;){if(k.type===I.Document)return k;k=k.parent}},M.prototype.end=function(k){return this.document().end(k)},M.prototype.prev=function(){var k;if((k=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[k-1]},M.prototype.next=function(){var k;if(-1===(k=this.parent.children.indexOf(this))||k===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[k+1]},M.prototype.importDocument=function(k){var W;return(W=k.root().clone()).parent=this,W.isRoot=!1,this.children.push(W),this},M.prototype.debugInfo=function(k){var W,be;return null!=(k=k||this.name)||null!=(W=this.parent)&&W.name?null==k?"parent: <"+this.parent.name+">":null!=(be=this.parent)&&be.name?"node: <"+k+">, parent: <"+this.parent.name+">":"node: <"+k+">":""},M.prototype.ele=function(k,W,be){return this.element(k,W,be)},M.prototype.nod=function(k,W,be){return this.node(k,W,be)},M.prototype.txt=function(k){return this.text(k)},M.prototype.dat=function(k){return this.cdata(k)},M.prototype.com=function(k){return this.comment(k)},M.prototype.ins=function(k,W){return this.instruction(k,W)},M.prototype.doc=function(){return this.document()},M.prototype.dec=function(k,W,be){return this.declaration(k,W,be)},M.prototype.e=function(k,W,be){return this.element(k,W,be)},M.prototype.n=function(k,W,be){return this.node(k,W,be)},M.prototype.t=function(k){return this.text(k)},M.prototype.d=function(k){return this.cdata(k)},M.prototype.c=function(k){return this.comment(k)},M.prototype.r=function(k){return this.raw(k)},M.prototype.i=function(k,W){return this.instruction(k,W)},M.prototype.u=function(){return this.up()},M.prototype.importXMLBuilder=function(k){return this.importDocument(k)},M.prototype.replaceChild=function(k,W){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.removeChild=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.appendChild=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.hasChildNodes=function(){return 0!==this.children.length},M.prototype.cloneNode=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.isSupported=function(k,W){return!0},M.prototype.hasAttributes=function(){return 0!==this.attribs.length},M.prototype.compareDocumentPosition=function(k){var W,be;return(W=this)===k?0:this.document()!==k.document()?(be=a.Disconnected|a.ImplementationSpecific,Math.random()<.5?be|=a.Preceding:be|=a.Following,be):W.isAncestor(k)?a.Contains|a.Preceding:W.isDescendant(k)?a.Contains|a.Following:W.isPreceding(k)?a.Preceding:a.Following},M.prototype.isSameNode=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.lookupPrefix=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.isDefaultNamespace=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.lookupNamespaceURI=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.isEqualNode=function(k){var W,be,J;if(k.nodeType!==this.nodeType||k.children.length!==this.children.length)return!1;for(W=be=0,J=this.children.length-1;0<=J?be<=J:be>=J;W=0<=J?++be:--be)if(!this.children[W].isEqualNode(k.children[W]))return!1;return!0},M.prototype.getFeature=function(k,W){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.setUserData=function(k,W,be){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.getUserData=function(k){throw new Error("This DOM method is not implemented."+this.debugInfo())},M.prototype.contains=function(k){return!!k&&(k===this||this.isDescendant(k))},M.prototype.isDescendant=function(k){var W,J,Re,fe;for(J=0,Re=(fe=this.children).length;J<Re;J++)if(k===(W=fe[J])||W.isDescendant(k))return!0;return!1},M.prototype.isAncestor=function(k){return k.isDescendant(this)},M.prototype.isPreceding=function(k){var W,be;return W=this.treePosition(k),be=this.treePosition(this),-1!==W&&-1!==be&&W<be},M.prototype.isFollowing=function(k){var W,be;return W=this.treePosition(k),be=this.treePosition(this),-1!==W&&-1!==be&&W>be},M.prototype.treePosition=function(k){var W,be;return be=0,W=!1,this.foreachTreeNode(this.document(),function(J){if(be++,!W&&J===k)return W=!0}),W?be:-1},M.prototype.foreachTreeNode=function(k,W){var be,J,Re,fe,Ce;for(k||(k=this.document()),J=0,Re=(fe=k.children).length;J<Re;J++){if(Ce=W(be=fe[J]))return Ce;if(Ce=this.foreachTreeNode(be,W))return Ce}},M}()}).call(this)},7152:function(ae){(function(){ae.exports=function(){function y(a){this.nodes=a}return Object.defineProperty(y.prototype,"length",{get:function(){return this.nodes.length||0}}),y.prototype.clone=function(){return this.nodes=null},y.prototype.item=function(a){return this.nodes[a]||null},y}()}).call(this)},3787:function(ae,se,y){(function(){var a,I,L={}.hasOwnProperty;a=y(7309),I=y(7836),ae.exports=function(U){function S(F,j,O){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing instruction target. "+this.debugInfo());this.type=a.ProcessingInstruction,this.target=this.stringify.insTarget(j),this.name=this.target,O&&(this.value=this.stringify.insValue(O))}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.clone=function(){return Object.create(this)},S.prototype.toString=function(F){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(F))},S.prototype.isEqualNode=function(F){return!(!S.__super__.isEqualNode.apply(this,arguments).isEqualNode(F)||F.target!==this.target)},S}(I)}).call(this)},6394:function(ae,se,y){(function(){var a,I,L={}.hasOwnProperty;a=y(7309),I=y(8921),ae.exports=function(U){function S(F,j){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing raw text. "+this.debugInfo());this.type=a.Raw,this.value=this.stringify.raw(j)}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),S.prototype.clone=function(){return Object.create(this)},S.prototype.toString=function(F){return this.options.writer.raw(this,this.options.writer.filterOptions(F))},S}(I)}).call(this)},8461:function(ae,se,y){(function(){var a,I,P,U={}.hasOwnProperty;a=y(7309),P=y(1778),I=y(4680),ae.exports=function(S){function F(j,O){this.stream=j,F.__super__.constructor.call(this,O)}return function(S,F){for(var j in F)U.call(F,j)&&(S[j]=F[j]);function O(){this.constructor=S}O.prototype=F.prototype,S.prototype=new O,S.__super__=F.prototype}(F,S),F.prototype.endline=function(j,O,$){return j.isLastRootNode&&O.state===I.CloseTag?"":F.__super__.endline.call(this,j,O,$)},F.prototype.document=function(j,O){var Q,K,Z,ce,ne,ye,ee,te;for(Q=K=0,ce=(ye=j.children).length;K<ce;Q=++K)ye[Q].isLastRootNode=Q===j.children.length-1;for(O=this.filterOptions(O),te=[],Z=0,ne=(ee=j.children).length;Z<ne;Z++)te.push(this.writeChildNode(ee[Z],O,0));return te},F.prototype.attribute=function(j,O,$){return this.stream.write(F.__super__.attribute.call(this,j,O,$))},F.prototype.cdata=function(j,O,$){return this.stream.write(F.__super__.cdata.call(this,j,O,$))},F.prototype.comment=function(j,O,$){return this.stream.write(F.__super__.comment.call(this,j,O,$))},F.prototype.declaration=function(j,O,$){return this.stream.write(F.__super__.declaration.call(this,j,O,$))},F.prototype.docType=function(j,O,$){var K,Z,ce;if($||($=0),this.openNode(j,O,$),O.state=I.OpenTag,this.stream.write(this.indent(j,O,$)),this.stream.write("<!DOCTYPE "+j.root().name),j.pubID&&j.sysID?this.stream.write(' PUBLIC "'+j.pubID+'" "'+j.sysID+'"'):j.sysID&&this.stream.write(' SYSTEM "'+j.sysID+'"'),j.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(j,O,$)),O.state=I.InsideTag,K=0,Z=(ce=j.children).length;K<Z;K++)this.writeChildNode(ce[K],O,$+1);O.state=I.CloseTag,this.stream.write("]")}return O.state=I.CloseTag,this.stream.write(O.spaceBeforeSlash+">"),this.stream.write(this.endline(j,O,$)),O.state=I.None,this.closeNode(j,O,$)},F.prototype.element=function(j,O,$){var Z,ce,ne,ye,ee,Y,M;for(ee in $||($=0),this.openNode(j,O,$),O.state=I.OpenTag,this.stream.write(this.indent(j,O,$)+"<"+j.name),Y=j.attribs)U.call(Y,ee)&&this.attribute(Y[ee],O,$);if(ce=0===(Z=j.children.length)?null:j.children[0],0===Z||j.children.every(function(k){return(k.type===a.Text||k.type===a.Raw)&&""===k.value}))O.allowEmpty?(this.stream.write(">"),O.state=I.CloseTag,this.stream.write("</"+j.name+">")):(O.state=I.CloseTag,this.stream.write(O.spaceBeforeSlash+"/>"));else if(!O.pretty||1!==Z||ce.type!==a.Text&&ce.type!==a.Raw||null==ce.value){for(this.stream.write(">"+this.endline(j,O,$)),O.state=I.InsideTag,ne=0,ye=(M=j.children).length;ne<ye;ne++)this.writeChildNode(M[ne],O,$+1);O.state=I.CloseTag,this.stream.write(this.indent(j,O,$)+"</"+j.name+">")}else this.stream.write(">"),O.state=I.InsideTag,O.suppressPrettyCount++,this.writeChildNode(ce,O,$+1),O.suppressPrettyCount--,O.state=I.CloseTag,this.stream.write("</"+j.name+">");return this.stream.write(this.endline(j,O,$)),O.state=I.None,this.closeNode(j,O,$)},F.prototype.processingInstruction=function(j,O,$){return this.stream.write(F.__super__.processingInstruction.call(this,j,O,$))},F.prototype.raw=function(j,O,$){return this.stream.write(F.__super__.raw.call(this,j,O,$))},F.prototype.text=function(j,O,$){return this.stream.write(F.__super__.text.call(this,j,O,$))},F.prototype.dtdAttList=function(j,O,$){return this.stream.write(F.__super__.dtdAttList.call(this,j,O,$))},F.prototype.dtdElement=function(j,O,$){return this.stream.write(F.__super__.dtdElement.call(this,j,O,$))},F.prototype.dtdEntity=function(j,O,$){return this.stream.write(F.__super__.dtdEntity.call(this,j,O,$))},F.prototype.dtdNotation=function(j,O,$){return this.stream.write(F.__super__.dtdNotation.call(this,j,O,$))},F}(P)}).call(this)},6830:function(ae,se,y){(function(){var I,P={}.hasOwnProperty;I=y(1778),ae.exports=function(L){function U(S){U.__super__.constructor.call(this,S)}return function(L,U){for(var S in U)P.call(U,S)&&(L[S]=U[S]);function F(){this.constructor=L}F.prototype=U.prototype,L.prototype=new F,L.__super__=U.prototype}(U,L),U.prototype.document=function(S,F){var O,$,Q,K;for(F=this.filterOptions(F),Q="",O=0,$=(K=S.children).length;O<$;O++)Q+=this.writeChildNode(K[O],F,0);return F.pretty&&Q.slice(-F.newline.length)===F.newline&&(Q=Q.slice(0,-F.newline.length)),Q},U}(I)}).call(this)},8358:function(ae){(function(){var y=function(I,D){return function(){return I.apply(D,arguments)}},a={}.hasOwnProperty;ae.exports=function(){function I(D){var P,L;for(P in this.assertLegalName=y(this.assertLegalName,this),this.assertLegalChar=y(this.assertLegalChar,this),D||(D={}),this.options=D,this.options.version||(this.options.version="1.0"),L=D.stringify||{})a.call(L,P)&&(this[P]=L[P])}return I.prototype.name=function(D){return this.options.noValidation?D:this.assertLegalName(""+D||"")},I.prototype.text=function(D){return this.options.noValidation?D:this.assertLegalChar(this.textEscape(""+D||""))},I.prototype.cdata=function(D){return this.options.noValidation?D:(D=(D=""+D||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(D))},I.prototype.comment=function(D){if(this.options.noValidation)return D;if((D=""+D||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+D);return this.assertLegalChar(D)},I.prototype.raw=function(D){return this.options.noValidation?D:""+D||""},I.prototype.attValue=function(D){return this.options.noValidation?D:this.assertLegalChar(this.attEscape(D=""+D||""))},I.prototype.insTarget=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.insValue=function(D){if(this.options.noValidation)return D;if((D=""+D||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+D);return this.assertLegalChar(D)},I.prototype.xmlVersion=function(D){if(this.options.noValidation)return D;if(!(D=""+D||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+D);return D},I.prototype.xmlEncoding=function(D){if(this.options.noValidation)return D;if(!(D=""+D||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+D);return this.assertLegalChar(D)},I.prototype.xmlStandalone=function(D){return this.options.noValidation?D:D?"yes":"no"},I.prototype.dtdPubID=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.dtdSysID=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.dtdElementValue=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.dtdAttType=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.dtdAttDefault=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.dtdEntityValue=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.dtdNData=function(D){return this.options.noValidation?D:this.assertLegalChar(""+D||"")},I.prototype.convertAttKey="@",I.prototype.convertPIKey="?",I.prototype.convertTextKey="#text",I.prototype.convertCDataKey="#cdata",I.prototype.convertCommentKey="#comment",I.prototype.convertRawKey="#raw",I.prototype.assertLegalChar=function(D){var L;if(this.options.noValidation)return D;if("1.0"===this.options.version){if(L=D.match(/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+D+" at index "+L.index)}else if("1.1"===this.options.version&&(L=D.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/)))throw new Error("Invalid character in string: "+D+" at index "+L.index);return D},I.prototype.assertLegalName=function(D){if(this.options.noValidation)return D;if(this.assertLegalChar(D),!D.match(/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/))throw new Error("Invalid character in name");return D},I.prototype.textEscape=function(D){return this.options.noValidation?D:D.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},I.prototype.attEscape=function(D){return this.options.noValidation?D:D.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},I}()}).call(this)},1523:function(ae,se,y){(function(){var a,I,L={}.hasOwnProperty;a=y(7309),I=y(7836),ae.exports=function(U){function S(F,j){if(S.__super__.constructor.call(this,F),null==j)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=a.Text,this.value=this.stringify.text(j)}return function(U,S){for(var F in S)L.call(S,F)&&(U[F]=S[F]);function j(){this.constructor=U}j.prototype=S.prototype,U.prototype=new j,U.__super__=S.prototype}(S,U),Object.defineProperty(S.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(S.prototype,"wholeText",{get:function(){var F,j,O;for(O="",j=this.previousSibling;j;)O=j.data+O,j=j.previousSibling;for(O+=this.data,F=this.nextSibling;F;)O+=F.data,F=F.nextSibling;return O}}),S.prototype.clone=function(){return Object.create(this)},S.prototype.toString=function(F){return this.options.writer.text(this,this.options.writer.filterOptions(F))},S.prototype.splitText=function(F){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.replaceWholeText=function(F){throw new Error("This DOM method is not implemented."+this.debugInfo())},S}(I)}).call(this)},1778:function(ae,se,y){(function(){var a,I,ye,ee={}.hasOwnProperty;ye=y(2249).assign,a=y(7309),y(4417),y(8914),y(4217),y(1697),y(7348),y(6394),y(1523),y(3787),y(2071),y(843),y(3234),y(4410),y(6117),I=y(4680),ae.exports=function(){function te(Y){var M,k,W;for(M in Y||(Y={}),this.options=Y,k=Y.writer||{})ee.call(k,M)&&(W=k[M],this["_"+M]=this[M],this[M]=W)}return te.prototype.filterOptions=function(Y){var M,k,W,be,J,Re,fe,Ce;return Y||(Y={}),Y=ye({},this.options,Y),(M={writer:this}).pretty=Y.pretty||!1,M.allowEmpty=Y.allowEmpty||!1,M.indent=null!=(k=Y.indent)?k:"  ",M.newline=null!=(W=Y.newline)?W:"\n",M.offset=null!=(be=Y.offset)?be:0,M.dontPrettyTextNodes=null!=(J=null!=(Re=Y.dontPrettyTextNodes)?Re:Y.dontprettytextnodes)?J:0,M.spaceBeforeSlash=null!=(fe=null!=(Ce=Y.spaceBeforeSlash)?Ce:Y.spacebeforeslash)?fe:"",!0===M.spaceBeforeSlash&&(M.spaceBeforeSlash=" "),M.suppressPrettyCount=0,M.user={},M.state=I.None,M},te.prototype.indent=function(Y,M,k){var W;return!M.pretty||M.suppressPrettyCount?"":M.pretty&&(W=(k||0)+M.offset+1)>0?new Array(W).join(M.indent):""},te.prototype.endline=function(Y,M,k){return!M.pretty||M.suppressPrettyCount?"":M.newline},te.prototype.attribute=function(Y,M,k){var W;return this.openAttribute(Y,M,k),W=" "+Y.name+'="'+Y.value+'"',this.closeAttribute(Y,M,k),W},te.prototype.cdata=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<![CDATA[",M.state=I.InsideTag,W+=Y.value,M.state=I.CloseTag,W+="]]>"+this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.comment=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"\x3c!-- ",M.state=I.InsideTag,W+=Y.value,M.state=I.CloseTag,W+=" --\x3e"+this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.declaration=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<?xml",M.state=I.InsideTag,W+=' version="'+Y.version+'"',null!=Y.encoding&&(W+=' encoding="'+Y.encoding+'"'),null!=Y.standalone&&(W+=' standalone="'+Y.standalone+'"'),M.state=I.CloseTag,W+=M.spaceBeforeSlash+"?>",W+=this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.docType=function(Y,M,k){var be,J,Re,fe;if(k||(k=0),this.openNode(Y,M,k),M.state=I.OpenTag,Re=this.indent(Y,M,k),Re+="<!DOCTYPE "+Y.root().name,Y.pubID&&Y.sysID?Re+=' PUBLIC "'+Y.pubID+'" "'+Y.sysID+'"':Y.sysID&&(Re+=' SYSTEM "'+Y.sysID+'"'),Y.children.length>0){for(Re+=" [",Re+=this.endline(Y,M,k),M.state=I.InsideTag,be=0,J=(fe=Y.children).length;be<J;be++)Re+=this.writeChildNode(fe[be],M,k+1);M.state=I.CloseTag,Re+="]"}return M.state=I.CloseTag,Re+=M.spaceBeforeSlash+">",Re+=this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),Re},te.prototype.element=function(Y,M,k){var be,J,Re,fe,Ce,Pe,Be,vt,Ht,St,wn,hn,tt;for(vt in k||(k=0),Ht=!1,St="",this.openNode(Y,M,k),M.state=I.OpenTag,St+=this.indent(Y,M,k)+"<"+Y.name,wn=Y.attribs)ee.call(wn,vt)&&(St+=this.attribute(wn[vt],M,k));if(Re=0===(J=Y.children.length)?null:Y.children[0],0===J||Y.children.every(function(Ke){return(Ke.type===a.Text||Ke.type===a.Raw)&&""===Ke.value}))M.allowEmpty?(St+=">",M.state=I.CloseTag,St+="</"+Y.name+">"+this.endline(Y,M,k)):(M.state=I.CloseTag,St+=M.spaceBeforeSlash+"/>"+this.endline(Y,M,k));else if(!M.pretty||1!==J||Re.type!==a.Text&&Re.type!==a.Raw||null==Re.value){if(M.dontPrettyTextNodes)for(fe=0,Pe=(hn=Y.children).length;fe<Pe;fe++)if(((be=hn[fe]).type===a.Text||be.type===a.Raw)&&null!=be.value){M.suppressPrettyCount++,Ht=!0;break}for(St+=">"+this.endline(Y,M,k),M.state=I.InsideTag,Ce=0,Be=(tt=Y.children).length;Ce<Be;Ce++)St+=this.writeChildNode(be=tt[Ce],M,k+1);M.state=I.CloseTag,St+=this.indent(Y,M,k)+"</"+Y.name+">",Ht&&M.suppressPrettyCount--,St+=this.endline(Y,M,k),M.state=I.None}else St+=">",M.state=I.InsideTag,M.suppressPrettyCount++,Ht=!0,St+=this.writeChildNode(Re,M,k+1),M.suppressPrettyCount--,Ht=!1,M.state=I.CloseTag,St+="</"+Y.name+">"+this.endline(Y,M,k);return this.closeNode(Y,M,k),St},te.prototype.writeChildNode=function(Y,M,k){switch(Y.type){case a.CData:return this.cdata(Y,M,k);case a.Comment:return this.comment(Y,M,k);case a.Element:return this.element(Y,M,k);case a.Raw:return this.raw(Y,M,k);case a.Text:return this.text(Y,M,k);case a.ProcessingInstruction:return this.processingInstruction(Y,M,k);case a.Dummy:return"";case a.Declaration:return this.declaration(Y,M,k);case a.DocType:return this.docType(Y,M,k);case a.AttributeDeclaration:return this.dtdAttList(Y,M,k);case a.ElementDeclaration:return this.dtdElement(Y,M,k);case a.EntityDeclaration:return this.dtdEntity(Y,M,k);case a.NotationDeclaration:return this.dtdNotation(Y,M,k);default:throw new Error("Unknown XML node type: "+Y.constructor.name)}},te.prototype.processingInstruction=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<?",M.state=I.InsideTag,W+=Y.target,Y.value&&(W+=" "+Y.value),M.state=I.CloseTag,W+=M.spaceBeforeSlash+"?>",W+=this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.raw=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k),M.state=I.InsideTag,W+=Y.value,M.state=I.CloseTag,W+=this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.text=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k),M.state=I.InsideTag,W+=Y.value,M.state=I.CloseTag,W+=this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.dtdAttList=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<!ATTLIST",M.state=I.InsideTag,W+=" "+Y.elementName+" "+Y.attributeName+" "+Y.attributeType,"#DEFAULT"!==Y.defaultValueType&&(W+=" "+Y.defaultValueType),Y.defaultValue&&(W+=' "'+Y.defaultValue+'"'),M.state=I.CloseTag,W+=M.spaceBeforeSlash+">"+this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.dtdElement=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<!ELEMENT",M.state=I.InsideTag,W+=" "+Y.name+" "+Y.value,M.state=I.CloseTag,W+=M.spaceBeforeSlash+">"+this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.dtdEntity=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<!ENTITY",M.state=I.InsideTag,Y.pe&&(W+=" %"),W+=" "+Y.name,Y.value?W+=' "'+Y.value+'"':(Y.pubID&&Y.sysID?W+=' PUBLIC "'+Y.pubID+'" "'+Y.sysID+'"':Y.sysID&&(W+=' SYSTEM "'+Y.sysID+'"'),Y.nData&&(W+=" NDATA "+Y.nData)),M.state=I.CloseTag,W+=M.spaceBeforeSlash+">"+this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.dtdNotation=function(Y,M,k){var W;return this.openNode(Y,M,k),M.state=I.OpenTag,W=this.indent(Y,M,k)+"<!NOTATION",M.state=I.InsideTag,W+=" "+Y.name,Y.pubID&&Y.sysID?W+=' PUBLIC "'+Y.pubID+'" "'+Y.sysID+'"':Y.pubID?W+=' PUBLIC "'+Y.pubID+'"':Y.sysID&&(W+=' SYSTEM "'+Y.sysID+'"'),M.state=I.CloseTag,W+=M.spaceBeforeSlash+">"+this.endline(Y,M,k),M.state=I.None,this.closeNode(Y,M,k),W},te.prototype.openNode=function(Y,M,k){},te.prototype.closeNode=function(Y,M,k){},te.prototype.openAttribute=function(Y,M,k){},te.prototype.closeAttribute=function(Y,M,k){},te}()}).call(this)},2518:function(ae,se,y){(function(){var a,I,D,P,L,U,S,F,j,O;O=y(2249),F=O.assign,j=O.isFunction,D=y(9663),P=y(8261),L=y(7590),S=y(6830),U=y(8461),a=y(7309),I=y(4680),ae.exports.create=function($,Q,K,Z){var ce,ne;if(null==$)throw new Error("Root element needs a name.");return Z=F({},Q,K,Z),ne=(ce=new P(Z)).element($),Z.headless||(ce.declaration(Z),(null!=Z.pubID||null!=Z.sysID)&&ce.dtd(Z)),ne},ae.exports.begin=function($,Q,K){var Z;return j($)&&(Q=(Z=[$,Q])[0],K=Z[1],$={}),Q?new L($,Q,K):new P($)},ae.exports.stringWriter=function($){return new S($)},ae.exports.streamWriter=function($,Q){return new U($,Q)},ae.exports.implementation=new D,ae.exports.nodeType=a,ae.exports.writerState=I}).call(this)},242:function(ae,se,y){"use strict";var a,I,D=this&&this.__assign||function(){return D=Object.assign||function(P){for(var L,U=1,S=arguments.length;U<S;U++)for(var F in L=arguments[U])Object.prototype.hasOwnProperty.call(L,F)&&(P[F]=L[F]);return P},D.apply(this,arguments)};a=function(){!function(Ae){var Ze,lt=Ae.performance;function je(nt){lt&&lt.mark&&lt.mark(nt)}function bt(nt,ke){lt&&lt.measure&&lt.measure(nt,ke)}je("Zone");var ft=Ae.__Zone_symbol_prefix||"__zone_symbol__";function Ft(nt){return ft+nt}var Gt=!0===Ae[Ft("forceDuplicateZoneCheck")];if(Ae.Zone){if(Gt||"function"!=typeof Ae.Zone.__symbol__)throw new Error("Zone already loaded.");return Ae.Zone}var dn=function(){function nt(ke,Oe){this._parent=ke,this._name=Oe?Oe.name||"unnamed":"<root>",this._properties=Oe&&Oe.properties||{},this._zoneDelegate=new cn(this,this._parent&&this._parent._zoneDelegate,Oe)}return nt.assertZonePatched=function(){if(Ae.Promise!==en.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(nt,"root",{get:function(){for(var ke=Ze.current;ke.parent;)ke=ke.parent;return ke},enumerable:!1,configurable:!0}),Object.defineProperty(nt,"current",{get:function(){return Zn.zone},enumerable:!1,configurable:!0}),Object.defineProperty(nt,"currentTask",{get:function(){return rt},enumerable:!1,configurable:!0}),nt.__load_patch=function(ke,Oe,Je){if(void 0===Je&&(Je=!1),en.hasOwnProperty(ke)){if(!Je&&Gt)throw Error("Already loaded patch: "+ke)}else if(!Ae["__Zone_disable_"+ke]){var Yt="Zone:"+ke;je(Yt),en[ke]=Oe(Ae,Ze,Ln),bt(Yt,Yt)}},Object.defineProperty(nt.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(nt.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),nt.prototype.get=function(ke){var Oe=this.getZoneWith(ke);if(Oe)return Oe._properties[ke]},nt.prototype.getZoneWith=function(ke){for(var Oe=this;Oe;){if(Oe._properties.hasOwnProperty(ke))return Oe;Oe=Oe._parent}return null},nt.prototype.fork=function(ke){if(!ke)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,ke)},nt.prototype.wrap=function(ke,Oe){if("function"!=typeof ke)throw new Error("Expecting function got: "+ke);var Je=this._zoneDelegate.intercept(this,ke,Oe),Yt=this;return function(){return Yt.runGuarded(Je,this,arguments,Oe)}},nt.prototype.run=function(ke,Oe,Je,Yt){Zn={parent:Zn,zone:this};try{return this._zoneDelegate.invoke(this,ke,Oe,Je,Yt)}finally{Zn=Zn.parent}},nt.prototype.runGuarded=function(ke,Oe,Je,Yt){void 0===Oe&&(Oe=null),Zn={parent:Zn,zone:this};try{try{return this._zoneDelegate.invoke(this,ke,Oe,Je,Yt)}catch(zt){if(this._zoneDelegate.handleError(this,zt))throw zt}}finally{Zn=Zn.parent}},nt.prototype.runTask=function(ke,Oe,Je){if(ke.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(ke.zone||Ne).name+"; Execution: "+this.name+")");if(ke.state!==De||ke.type!==Dt&&ke.type!==ot){var Yt=ke.state!=ve;Yt&&ke._transitionTo(ve,Le),ke.runCount++;var zt=rt;rt=ke,Zn={parent:Zn,zone:this};try{ke.type==ot&&ke.data&&!ke.data.isPeriodic&&(ke.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,ke,Oe,Je)}catch(Xe){if(this._zoneDelegate.handleError(this,Xe))throw Xe}}finally{ke.state!==De&&ke.state!==xe&&(ke.type==Dt||ke.data&&ke.data.isPeriodic?Yt&&ke._transitionTo(Le,ve):(ke.runCount=0,this._updateTaskCount(ke,-1),Yt&&ke._transitionTo(De,ve,De))),Zn=Zn.parent,rt=zt}}},nt.prototype.scheduleTask=function(ke){if(ke.zone&&ke.zone!==this)for(var Oe=this;Oe;){if(Oe===ke.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(ke.zone.name));Oe=Oe.parent}ke._transitionTo(gt,De);var Je=[];ke._zoneDelegates=Je,ke._zone=this;try{ke=this._zoneDelegate.scheduleTask(this,ke)}catch(Yt){throw ke._transitionTo(xe,gt,De),this._zoneDelegate.handleError(this,Yt),Yt}return ke._zoneDelegates===Je&&this._updateTaskCount(ke,1),ke.state==gt&&ke._transitionTo(Le,gt),ke},nt.prototype.scheduleMicroTask=function(ke,Oe,Je,Yt){return this.scheduleTask(new ln(Ve,ke,Oe,Je,Yt,void 0))},nt.prototype.scheduleMacroTask=function(ke,Oe,Je,Yt,zt){return this.scheduleTask(new ln(ot,ke,Oe,Je,Yt,zt))},nt.prototype.scheduleEventTask=function(ke,Oe,Je,Yt,zt){return this.scheduleTask(new ln(Dt,ke,Oe,Je,Yt,zt))},nt.prototype.cancelTask=function(ke){if(ke.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(ke.zone||Ne).name+"; Execution: "+this.name+")");if(ke.state===Le||ke.state===ve){ke._transitionTo(pe,Le,ve);try{this._zoneDelegate.cancelTask(this,ke)}catch(Oe){throw ke._transitionTo(xe,pe),this._zoneDelegate.handleError(this,Oe),Oe}return this._updateTaskCount(ke,-1),ke._transitionTo(De,pe),ke.runCount=0,ke}},nt.prototype._updateTaskCount=function(ke,Oe){var Je=ke._zoneDelegates;-1==Oe&&(ke._zoneDelegates=null);for(var Yt=0;Yt<Je.length;Yt++)Je[Yt]._updateTaskCount(ke.type,Oe)},nt}();(Ze=dn).__symbol__=Ft;var ht,an={name:"",onHasTask:function(nt,ke,Oe,Je){return nt.hasTask(Oe,Je)},onScheduleTask:function(nt,ke,Oe,Je){return nt.scheduleTask(Oe,Je)},onInvokeTask:function(nt,ke,Oe,Je,Yt,zt){return nt.invokeTask(Oe,Je,Yt,zt)},onCancelTask:function(nt,ke,Oe,Je){return nt.cancelTask(Oe,Je)}},cn=function(){function nt(ke,Oe,Je){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=ke,this._parentDelegate=Oe,this._forkZS=Je&&(Je&&Je.onFork?Je:Oe._forkZS),this._forkDlgt=Je&&(Je.onFork?Oe:Oe._forkDlgt),this._forkCurrZone=Je&&(Je.onFork?this.zone:Oe._forkCurrZone),this._interceptZS=Je&&(Je.onIntercept?Je:Oe._interceptZS),this._interceptDlgt=Je&&(Je.onIntercept?Oe:Oe._interceptDlgt),this._interceptCurrZone=Je&&(Je.onIntercept?this.zone:Oe._interceptCurrZone),this._invokeZS=Je&&(Je.onInvoke?Je:Oe._invokeZS),this._invokeDlgt=Je&&(Je.onInvoke?Oe:Oe._invokeDlgt),this._invokeCurrZone=Je&&(Je.onInvoke?this.zone:Oe._invokeCurrZone),this._handleErrorZS=Je&&(Je.onHandleError?Je:Oe._handleErrorZS),this._handleErrorDlgt=Je&&(Je.onHandleError?Oe:Oe._handleErrorDlgt),this._handleErrorCurrZone=Je&&(Je.onHandleError?this.zone:Oe._handleErrorCurrZone),this._scheduleTaskZS=Je&&(Je.onScheduleTask?Je:Oe._scheduleTaskZS),this._scheduleTaskDlgt=Je&&(Je.onScheduleTask?Oe:Oe._scheduleTaskDlgt),this._scheduleTaskCurrZone=Je&&(Je.onScheduleTask?this.zone:Oe._scheduleTaskCurrZone),this._invokeTaskZS=Je&&(Je.onInvokeTask?Je:Oe._invokeTaskZS),this._invokeTaskDlgt=Je&&(Je.onInvokeTask?Oe:Oe._invokeTaskDlgt),this._invokeTaskCurrZone=Je&&(Je.onInvokeTask?this.zone:Oe._invokeTaskCurrZone),this._cancelTaskZS=Je&&(Je.onCancelTask?Je:Oe._cancelTaskZS),this._cancelTaskDlgt=Je&&(Je.onCancelTask?Oe:Oe._cancelTaskDlgt),this._cancelTaskCurrZone=Je&&(Je.onCancelTask?this.zone:Oe._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var Yt=Je&&Je.onHasTask;(Yt||Oe&&Oe._hasTaskZS)&&(this._hasTaskZS=Yt?Je:an,this._hasTaskDlgt=Oe,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=ke,Je.onScheduleTask||(this._scheduleTaskZS=an,this._scheduleTaskDlgt=Oe,this._scheduleTaskCurrZone=this.zone),Je.onInvokeTask||(this._invokeTaskZS=an,this._invokeTaskDlgt=Oe,this._invokeTaskCurrZone=this.zone),Je.onCancelTask||(this._cancelTaskZS=an,this._cancelTaskDlgt=Oe,this._cancelTaskCurrZone=this.zone))}return nt.prototype.fork=function(ke,Oe){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,ke,Oe):new dn(ke,Oe)},nt.prototype.intercept=function(ke,Oe,Je){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,ke,Oe,Je):Oe},nt.prototype.invoke=function(ke,Oe,Je,Yt,zt){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,ke,Oe,Je,Yt,zt):Oe.apply(Je,Yt)},nt.prototype.handleError=function(ke,Oe){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,ke,Oe)},nt.prototype.scheduleTask=function(ke,Oe){var Je=Oe;if(this._scheduleTaskZS)this._hasTaskZS&&Je._zoneDelegates.push(this._hasTaskDlgtOwner),(Je=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,ke,Oe))||(Je=Oe);else if(Oe.scheduleFn)Oe.scheduleFn(Oe);else{if(Oe.type!=Ve)throw new Error("Task is missing scheduleFn.");z(Oe)}return Je},nt.prototype.invokeTask=function(ke,Oe,Je,Yt){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,ke,Oe,Je,Yt):Oe.callback.apply(Je,Yt)},nt.prototype.cancelTask=function(ke,Oe){var Je;if(this._cancelTaskZS)Je=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,ke,Oe);else{if(!Oe.cancelFn)throw Error("Task is not cancelable");Je=Oe.cancelFn(Oe)}return Je},nt.prototype.hasTask=function(ke,Oe){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,ke,Oe)}catch(Je){this.handleError(ke,Je)}},nt.prototype._updateTaskCount=function(ke,Oe){var Je=this._taskCounts,Yt=Je[ke],zt=Je[ke]=Yt+Oe;if(zt<0)throw new Error("More tasks executed then were scheduled.");0!=Yt&&0!=zt||this.hasTask(this.zone,{microTask:Je.microTask>0,macroTask:Je.macroTask>0,eventTask:Je.eventTask>0,change:ke})},nt}(),ln=function(){function nt(ke,Oe,Je,Yt,zt,Xe){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=ke,this.source=Oe,this.data=Yt,this.scheduleFn=zt,this.cancelFn=Xe,!Je)throw new Error("callback is not defined");this.callback=Je;var xt=this;this.invoke=ke===Dt&&Yt&&Yt.useG?nt.invokeTask:function(){return nt.invokeTask.call(Ae,xt,this,arguments)}}return nt.invokeTask=function(ke,Oe,Je){ke||(ke=this),He++;try{return ke.runCount++,ke.zone.runTask(ke,Oe,Je)}finally{1==He&&oe(),He--}},Object.defineProperty(nt.prototype,"zone",{get:function(){return this._zone},enumerable:!1,configurable:!0}),Object.defineProperty(nt.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),nt.prototype.cancelScheduleRequest=function(){this._transitionTo(De,gt)},nt.prototype._transitionTo=function(ke,Oe,Je){if(this._state!==Oe&&this._state!==Je)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(ke,"', expecting state '").concat(Oe,"'").concat(Je?" or '"+Je+"'":"",", was '").concat(this._state,"'."));this._state=ke,ke==De&&(this._zoneDelegates=null)},nt.prototype.toString=function(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)},nt.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},nt}(),mn=Ft("setTimeout"),Tn=Ft("Promise"),Yn=Ft("then"),Mn=[],_i=!1;function ie(nt){if(ht||Ae[Tn]&&(ht=Ae[Tn].resolve(0)),ht){var ke=ht[Yn];ke||(ke=ht.then),ke.call(ht,nt)}else Ae[mn](nt,0)}function z(nt){0===He&&0===Mn.length&&ie(oe),nt&&Mn.push(nt)}function oe(){if(!_i){for(_i=!0;Mn.length;){var nt=Mn;Mn=[];for(var ke=0;ke<nt.length;ke++){var Oe=nt[ke];try{Oe.zone.runTask(Oe,null,null)}catch(Je){Ln.onUnhandledError(Je)}}}Ln.microtaskDrainDone(),_i=!1}}var Ne={name:"NO ZONE"},De="notScheduled",gt="scheduling",Le="scheduled",ve="running",pe="canceling",xe="unknown",Ve="microTask",ot="macroTask",Dt="eventTask",en={},Ln={symbol:Ft,currentZoneFrame:function(){return Zn},onUnhandledError:ut,microtaskDrainDone:ut,scheduleMicroTask:z,showUncaughtError:function(){return!dn[Ft("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:ut,patchMethod:function(){return ut},bindArguments:function(){return[]},patchThen:function(){return ut},patchMacroTask:function(){return ut},patchEventPrototype:function(){return ut},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return ut},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return ut},wrapWithCurrentZone:function(){return ut},filterProperties:function(){return[]},attachOriginToPatched:function(){return ut},_redefineProperty:function(){return ut},patchCallbacks:function(){return ut},nativeScheduleMicroTask:ie},Zn={parent:null,zone:new dn(null,null)},rt=null,He=0;function ut(){}bt("Zone","Zone"),Ae.Zone=dn}(typeof window<"u"&&window||typeof self<"u"&&self||global);var P=Object.getOwnPropertyDescriptor,L=Object.defineProperty,U=Object.getPrototypeOf,S=Object.create,F=Array.prototype.slice,j="addEventListener",O="removeEventListener",$=Zone.__symbol__(j),Q=Zone.__symbol__(O),K="true",Z="false",ce=Zone.__symbol__("");function ne(Ae,Ze){return Zone.current.wrap(Ae,Ze)}function ye(Ae,Ze,lt,je,bt){return Zone.current.scheduleMacroTask(Ae,Ze,lt,je,bt)}var ee=Zone.__symbol__,te=typeof window<"u",Y=te?window:void 0,M=te&&Y||"object"==typeof self&&self||global,k="removeAttribute";function W(Ae,Ze){for(var lt=Ae.length-1;lt>=0;lt--)"function"==typeof Ae[lt]&&(Ae[lt]=ne(Ae[lt],Ze+"_"+lt));return Ae}function J(Ae){return!Ae||!1!==Ae.writable&&!("function"==typeof Ae.get&&typeof Ae.set>"u")}var Re=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fe=!("nw"in M)&&typeof M.process<"u"&&"[object process]"==={}.toString.call(M.process),Ce=!fe&&!Re&&!(!te||!Y.HTMLElement),Pe=typeof M.process<"u"&&"[object process]"==={}.toString.call(M.process)&&!Re&&!(!te||!Y.HTMLElement),Be={},vt=function(Ae){if(Ae=Ae||M.event){var Ze=Be[Ae.type];Ze||(Ze=Be[Ae.type]=ee("ON_PROPERTY"+Ae.type));var bt,lt=this||Ae.target||M,je=lt[Ze];return Ce&&lt===Y&&"error"===Ae.type?!0===(bt=je&&je.call(this,Ae.message,Ae.filename,Ae.lineno,Ae.colno,Ae.error))&&Ae.preventDefault():null!=(bt=je&&je.apply(this,arguments))&&!bt&&Ae.preventDefault(),bt}};function Ht(Ae,Ze,lt){var je=P(Ae,Ze);if(!je&&lt&&P(lt,Ze)&&(je={enumerable:!0,configurable:!0}),je&&je.configurable){var ft=ee("on"+Ze+"patched");if(!Ae.hasOwnProperty(ft)||!Ae[ft]){delete je.writable,delete je.value;var Ft=je.get,Gt=je.set,dn=Ze.slice(2),an=Be[dn];an||(an=Be[dn]=ee("ON_PROPERTY"+dn)),je.set=function(cn){var ln=this;!ln&&Ae===M&&(ln=M),ln&&("function"==typeof ln[an]&&ln.removeEventListener(dn,vt),Gt&&Gt.call(ln,null),ln[an]=cn,"function"==typeof cn&&ln.addEventListener(dn,vt,!1))},je.get=function(){var cn=this;if(!cn&&Ae===M&&(cn=M),!cn)return null;var ln=cn[an];if(ln)return ln;if(Ft){var mn=Ft.call(this);if(mn)return je.set.call(this,mn),"function"==typeof cn[k]&&cn.removeAttribute(Ze),mn}return null},L(Ae,Ze,je),Ae[ft]=!0}}}function St(Ae,Ze,lt){if(Ze)for(var je=0;je<Ze.length;je++)Ht(Ae,"on"+Ze[je],lt);else{var bt=[];for(var ft in Ae)"on"==ft.slice(0,2)&&bt.push(ft);for(var Ft=0;Ft<bt.length;Ft++)Ht(Ae,bt[Ft],lt)}}var wn=ee("originalInstance");function hn(Ae){var Ze=M[Ae];if(Ze){M[ee(Ae)]=Ze,M[Ae]=function(){var bt=W(arguments,Ae);switch(bt.length){case 0:this[wn]=new Ze;break;case 1:this[wn]=new Ze(bt[0]);break;case 2:this[wn]=new Ze(bt[0],bt[1]);break;case 3:this[wn]=new Ze(bt[0],bt[1],bt[2]);break;case 4:this[wn]=new Ze(bt[0],bt[1],bt[2],bt[3]);break;default:throw new Error("Arg list too long.")}},$e(M[Ae],Ze);var je,lt=new Ze(function(){});for(je in lt)"XMLHttpRequest"===Ae&&"responseBlob"===je||function(bt){"function"==typeof lt[bt]?M[Ae].prototype[bt]=function(){return this[wn][bt].apply(this[wn],arguments)}:L(M[Ae].prototype,bt,{set:function(ft){"function"==typeof ft?(this[wn][bt]=ne(ft,Ae+"."+bt),$e(this[wn][bt],ft)):this[wn][bt]=ft},get:function(){return this[wn][bt]}})}(je);for(je in Ze)"prototype"!==je&&Ze.hasOwnProperty(je)&&(M[Ae][je]=Ze[je])}}function tt(Ae,Ze,lt){for(var je=Ae;je&&!je.hasOwnProperty(Ze);)je=U(je);!je&&Ae[Ze]&&(je=Ae);var bt=ee(Ze),ft=null;if(je&&(!(ft=je[bt])||!je.hasOwnProperty(bt))&&(ft=je[bt]=je[Ze],J(je&&P(je,Ze)))){var Gt=lt(ft,bt,Ze);je[Ze]=function(){return Gt(this,arguments)},$e(je[Ze],ft)}return ft}function Ke(Ae,Ze,lt){var je=null;function bt(ft){var Ft=ft.data;return Ft.args[Ft.cbIdx]=function(){ft.invoke.apply(this,arguments)},je.apply(Ft.target,Ft.args),ft}je=tt(Ae,Ze,function(ft){return function(Ft,Gt){var dn=lt(Ft,Gt);return dn.cbIdx>=0&&"function"==typeof Gt[dn.cbIdx]?ye(dn.name,Gt[dn.cbIdx],dn,bt):ft.apply(Ft,Gt)}})}function $e(Ae,Ze){Ae[ee("OriginalDelegate")]=Ze}var at=!1,ze=!1;function Ct(){if(at)return ze;at=!0;try{var Ae=Y.navigator.userAgent;(-1!==Ae.indexOf("MSIE ")||-1!==Ae.indexOf("Trident/")||-1!==Ae.indexOf("Edge/"))&&(ze=!0)}catch{}return ze}Zone.__load_patch("ZoneAwarePromise",function(Ae,Ze,lt){var je=Object.getOwnPropertyDescriptor,bt=Object.defineProperty;var Ft=lt.symbol,Gt=[],dn=!0===Ae[Ft("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],an=Ft("Promise"),cn=Ft("then"),ln="__creationTrace__";lt.onUnhandledError=function(Xe){if(lt.showUncaughtError()){var xt=Xe&&Xe.rejection;xt?console.error("Unhandled Promise rejection:",xt instanceof Error?xt.message:xt,"; Zone:",Xe.zone.name,"; Task:",Xe.task&&Xe.task.source,"; Value:",xt,xt instanceof Error?xt.stack:void 0):console.error(Xe)}},lt.microtaskDrainDone=function(){for(var Xe=function(){var xt=Gt.shift();try{xt.zone.runGuarded(function(){throw xt.throwOriginal?xt.rejection:xt})}catch(kt){!function Tn(Xe){lt.onUnhandledError(Xe);try{var xt=Ze[mn];"function"==typeof xt&&xt.call(this,Xe)}catch{}}(kt)}};Gt.length;)Xe()};var mn=Ft("unhandledPromiseRejectionHandler");function Yn(Xe){return Xe&&Xe.then}function Mn(Xe){return Xe}function _i(Xe){return ke.reject(Xe)}var ht=Ft("state"),ie=Ft("value"),z=Ft("finally"),oe=Ft("parentPromiseValue"),Ne=Ft("parentPromiseState"),De="Promise.then",gt=null,Le=!0,ve=!1,pe=0;function xe(Xe,xt){return function(kt){try{en(Xe,xt,kt)}catch(wt){en(Xe,!1,wt)}}}var Ve=function(){var Xe=!1;return function(kt){return function(){Xe||(Xe=!0,kt.apply(null,arguments))}}},ot="Promise resolved with itself",Dt=Ft("currentTaskTrace");function en(Xe,xt,kt){var wt=Ve();if(Xe===kt)throw new TypeError(ot);if(Xe[ht]===gt){var Vt=null;try{("object"==typeof kt||"function"==typeof kt)&&(Vt=kt&&kt.then)}catch(Rn){return wt(function(){en(Xe,!1,Rn)})(),Xe}if(xt!==ve&&kt instanceof ke&&kt.hasOwnProperty(ht)&&kt.hasOwnProperty(ie)&&kt[ht]!==gt)Zn(kt),en(Xe,kt[ht],kt[ie]);else if(xt!==ve&&"function"==typeof Vt)try{Vt.call(kt,wt(xe(Xe,xt)),wt(xe(Xe,!1)))}catch(Rn){wt(function(){en(Xe,!1,Rn)})()}else{Xe[ht]=xt;var rn=Xe[ie];if(Xe[ie]=kt,Xe[z]===z&&xt===Le&&(Xe[ht]=Xe[Ne],Xe[ie]=Xe[oe]),xt===ve&&kt instanceof Error){var vn=Ze.currentTask&&Ze.currentTask.data&&Ze.currentTask.data[ln];vn&&bt(kt,Dt,{configurable:!0,enumerable:!1,writable:!0,value:vn})}for(var Vn=0;Vn<rn.length;)rt(Xe,rn[Vn++],rn[Vn++],rn[Vn++],rn[Vn++]);if(0==rn.length&&xt==ve){Xe[ht]=pe;var Xt=kt;try{throw new Error("Uncaught (in promise): "+function ft(Xe){return Xe&&Xe.toString===Object.prototype.toString?(Xe.constructor&&Xe.constructor.name||"")+": "+JSON.stringify(Xe):Xe?Xe.toString():Object.prototype.toString.call(Xe)}(kt)+(kt&&kt.stack?"\n"+kt.stack:""))}catch(Rn){Xt=Rn}dn&&(Xt.throwOriginal=!0),Xt.rejection=kt,Xt.promise=Xe,Xt.zone=Ze.current,Xt.task=Ze.currentTask,Gt.push(Xt),lt.scheduleMicroTask()}}}return Xe}var Ln=Ft("rejectionHandledHandler");function Zn(Xe){if(Xe[ht]===pe){try{var xt=Ze[Ln];xt&&"function"==typeof xt&&xt.call(this,{rejection:Xe[ie],promise:Xe})}catch{}Xe[ht]=ve;for(var kt=0;kt<Gt.length;kt++)Xe===Gt[kt].promise&&Gt.splice(kt,1)}}function rt(Xe,xt,kt,wt,Vt){Zn(Xe);var rn=Xe[ht],vn=rn?"function"==typeof wt?wt:Mn:"function"==typeof Vt?Vt:_i;xt.scheduleMicroTask(De,function(){try{var Vn=Xe[ie],Xt=!!kt&&z===kt[z];Xt&&(kt[oe]=Vn,kt[Ne]=rn);var Rn=xt.run(vn,void 0,Xt&&vn!==_i&&vn!==Mn?[]:[Vn]);en(kt,!0,Rn)}catch(Nn){en(kt,!1,Nn)}},kt)}var ut=function(){},nt=Ae.AggregateError,ke=function(){function Xe(xt){var kt=this;if(!(kt instanceof Xe))throw new Error("Must be an instanceof Promise.");kt[ht]=gt,kt[ie]=[];try{var wt=Ve();xt&&xt(wt(xe(kt,Le)),wt(xe(kt,ve)))}catch(Vt){en(kt,!1,Vt)}}return Xe.toString=function(){return"function ZoneAwarePromise() { [native code] }"},Xe.resolve=function(xt){return en(new this(null),Le,xt)},Xe.reject=function(xt){return en(new this(null),ve,xt)},Xe.any=function(xt){if(!xt||"function"!=typeof xt[Symbol.iterator])return Promise.reject(new nt([],"All promises were rejected"));var kt=[],wt=0;try{for(var Vt=0,rn=xt;Vt<rn.length;Vt++)wt++,kt.push(Xe.resolve(rn[Vt]))}catch{return Promise.reject(new nt([],"All promises were rejected"))}if(0===wt)return Promise.reject(new nt([],"All promises were rejected"));var Vn=!1,Xt=[];return new Xe(function(Rn,Nn){for(var Xn=0;Xn<kt.length;Xn++)kt[Xn].then(function(Hn){Vn||(Vn=!0,Rn(Hn))},function(Hn){Xt.push(Hn),0==--wt&&(Vn=!0,Nn(new nt(Xt,"All promises were rejected")))})})},Xe.race=function(xt){var kt,wt,Vt=new this(function(Nn,Xn){kt=Nn,wt=Xn});function rn(Nn){kt(Nn)}function vn(Nn){wt(Nn)}for(var Vn=0,Xt=xt;Vn<Xt.length;Vn++){var Rn=Xt[Vn];Yn(Rn)||(Rn=this.resolve(Rn)),Rn.then(rn,vn)}return Vt},Xe.all=function(xt){return Xe.allWithCallback(xt)},Xe.allSettled=function(xt){return(this&&this.prototype instanceof Xe?this:Xe).allWithCallback(xt,{thenCallback:function(wt){return{status:"fulfilled",value:wt}},errorCallback:function(wt){return{status:"rejected",reason:wt}}})},Xe.allWithCallback=function(xt,kt){for(var wt,Vt,rn=new this(function(yi,Gn){wt=yi,Vt=Gn}),vn=2,Vn=0,Xt=[],Rn=function(yi){Yn(yi)||(yi=Nn.resolve(yi));var Gn=Vn;try{yi.then(function(bi){Xt[Gn]=kt?kt.thenCallback(bi):bi,0==--vn&&wt(Xt)},function(bi){kt?(Xt[Gn]=kt.errorCallback(bi),0==--vn&&wt(Xt)):Vt(bi)})}catch(bi){Vt(bi)}vn++,Vn++},Nn=this,Xn=0,Hn=xt;Xn<Hn.length;Xn++)Rn(Hn[Xn]);return 0==(vn-=2)&&wt(Xt),rn},Object.defineProperty(Xe.prototype,Symbol.toStringTag,{get:function(){return"Promise"},enumerable:!1,configurable:!0}),Object.defineProperty(Xe.prototype,Symbol.species,{get:function(){return Xe},enumerable:!1,configurable:!0}),Xe.prototype.then=function(xt,kt){var wt,Vt=null===(wt=this.constructor)||void 0===wt?void 0:wt[Symbol.species];(!Vt||"function"!=typeof Vt)&&(Vt=this.constructor||Xe);var rn=new Vt(ut),vn=Ze.current;return this[ht]==gt?this[ie].push(vn,rn,xt,kt):rt(this,vn,rn,xt,kt),rn},Xe.prototype.catch=function(xt){return this.then(null,xt)},Xe.prototype.finally=function(xt){var kt,wt=null===(kt=this.constructor)||void 0===kt?void 0:kt[Symbol.species];(!wt||"function"!=typeof wt)&&(wt=Xe);var Vt=new wt(ut);Vt[z]=z;var rn=Ze.current;return this[ht]==gt?this[ie].push(rn,Vt,xt,xt):rt(this,rn,Vt,xt,xt),Vt},Xe}();ke.resolve=ke.resolve,ke.reject=ke.reject,ke.race=ke.race,ke.all=ke.all;var Oe=Ae[an]=Ae.Promise;Ae.Promise=ke;var Je=Ft("thenPatched");function Yt(Xe){var xt=Xe.prototype,kt=je(xt,"then");if(!kt||!1!==kt.writable&&kt.configurable){var wt=xt.then;xt[cn]=wt,Xe.prototype.then=function(Vt,rn){var vn=this;return new ke(function(Xt,Rn){wt.call(vn,Xt,Rn)}).then(Vt,rn)},Xe[Je]=!0}}return lt.patchThen=Yt,Oe&&(Yt(Oe),tt(Ae,"fetch",function(Xe){return function zt(Xe){return function(xt,kt){var wt=Xe.apply(xt,kt);if(wt instanceof ke)return wt;var Vt=wt.constructor;return Vt[Je]||Yt(Vt),wt}}(Xe)})),Promise[Ze.__symbol__("uncaughtPromiseErrors")]=Gt,ke}),Zone.__load_patch("toString",function(Ae){var Ze=Function.prototype.toString,lt=ee("OriginalDelegate"),je=ee("Promise"),bt=ee("Error"),ft=function(){if("function"==typeof this){var an=this[lt];if(an)return"function"==typeof an?Ze.call(an):Object.prototype.toString.call(an);if(this===Promise){var cn=Ae[je];if(cn)return Ze.call(cn)}if(this===Error){var ln=Ae[bt];if(ln)return Ze.call(ln)}}return Ze.call(this)};ft[lt]=Ze,Function.prototype.toString=ft;var Ft=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Ft.call(this)}});var le=!1;if(typeof window<"u")try{var he=Object.defineProperty({},"passive",{get:function(){le=!0}});window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{le=!1}var Ye={useG:!0},Fe={},Ut={},_n=new RegExp("^"+ce+"(\\w+)(true|false)$"),fn=ee("propagationStopped");function Dn(Ae,Ze){var lt=(Ze?Ze(Ae):Ae)+Z,je=(Ze?Ze(Ae):Ae)+K,bt=ce+lt,ft=ce+je;Fe[Ae]={},Fe[Ae][Z]=bt,Fe[Ae][K]=ft}function An(Ae,Ze,lt,je){var bt=je&&je.add||j,ft=je&&je.rm||O,Ft=je&&je.listeners||"eventListeners",Gt=je&&je.rmAll||"removeAllListeners",dn=ee(bt),an="."+bt+":",cn="prependListener",ln="."+cn+":",mn=function(z,oe,Ne){if(!z.isRemoved){var gt,De=z.callback;"object"==typeof De&&De.handleEvent&&(z.callback=function(pe){return De.handleEvent(pe)},z.originalDelegate=De);try{z.invoke(z,oe,[Ne])}catch(pe){gt=pe}var Le=z.options;return Le&&"object"==typeof Le&&Le.once&&oe[ft].call(oe,Ne.type,z.originalDelegate?z.originalDelegate:z.callback,Le),gt}};function Tn(z,oe,Ne){if(oe=oe||Ae.event){var De=z||oe.target||Ae,gt=De[Fe[oe.type][Ne?K:Z]];if(gt){var Le=[];if(1===gt.length)(ve=mn(gt[0],De,oe))&&Le.push(ve);else for(var pe=gt.slice(),xe=0;xe<pe.length&&(!oe||!0!==oe[fn]);xe++){var ve;(ve=mn(pe[xe],De,oe))&&Le.push(ve)}if(1===Le.length)throw Le[0];var Ve=function(ot){var Dt=Le[ot];Ze.nativeScheduleMicroTask(function(){throw Dt})};for(xe=0;xe<Le.length;xe++)Ve(xe)}}}var Yn=function(z){return Tn(this,z,!1)},Mn=function(z){return Tn(this,z,!0)};function _i(z,oe){if(!z)return!1;var Ne=!0;oe&&void 0!==oe.useG&&(Ne=oe.useG);var De=oe&&oe.vh,gt=!0;oe&&void 0!==oe.chkDup&&(gt=oe.chkDup);var Le=!1;oe&&void 0!==oe.rt&&(Le=oe.rt);for(var ve=z;ve&&!ve.hasOwnProperty(bt);)ve=U(ve);if(!ve&&z[bt]&&(ve=z),!ve||ve[dn])return!1;var Ln,pe=oe&&oe.eventNameToString,xe={},Ve=ve[dn]=ve[bt],ot=ve[ee(ft)]=ve[ft],Dt=ve[ee(Ft)]=ve[Ft],en=ve[ee(Gt)]=ve[Gt];oe&&oe.prepend&&(Ln=ve[ee(oe.prepend)]=ve[oe.prepend]);var Oe=Ne?function(wt){if(!xe.isExisting)return Ve.call(xe.target,xe.eventName,xe.capture?Mn:Yn,xe.options)}:function(wt){return Ve.call(xe.target,xe.eventName,wt.invoke,xe.options)},Je=Ne?function(wt){if(!wt.isRemoved){var Vt=Fe[wt.eventName],rn=void 0;Vt&&(rn=Vt[wt.capture?K:Z]);var vn=rn&&wt.target[rn];if(vn)for(var Vn=0;Vn<vn.length;Vn++)if(vn[Vn]===wt){vn.splice(Vn,1),wt.isRemoved=!0,0===vn.length&&(wt.allRemoved=!0,wt.target[rn]=null);break}}if(wt.allRemoved)return ot.call(wt.target,wt.eventName,wt.capture?Mn:Yn,wt.options)}:function(wt){return ot.call(wt.target,wt.eventName,wt.invoke,wt.options)},zt=oe&&oe.diff?oe.diff:function(wt,Vt){var rn=typeof Vt;return"function"===rn&&wt.callback===Vt||"object"===rn&&wt.originalDelegate===Vt},Xe=Zone[ee("UNPATCHED_EVENTS")],xt=Ae[ee("PASSIVE_EVENTS")],kt=function(wt,Vt,rn,vn,Vn,Xt){return void 0===Vn&&(Vn=!1),void 0===Xt&&(Xt=!1),function(){var Rn=this||Ae,Nn=arguments[0];oe&&oe.transferEventName&&(Nn=oe.transferEventName(Nn));var Xn=arguments[1];if(!Xn)return wt.apply(this,arguments);if(fe&&"uncaughtException"===Nn)return wt.apply(this,arguments);var Hn=!1;if("function"!=typeof Xn){if(!Xn.handleEvent)return wt.apply(this,arguments);Hn=!0}if(!De||De(wt,Xn,Rn,arguments)){var Mi=le&&!!xt&&-1!==xt.indexOf(Nn),yi=function Zn(wt,Vt){return!le&&"object"==typeof wt&&wt?!!wt.capture:le&&Vt?"boolean"==typeof wt?{capture:wt,passive:!0}:wt?"object"==typeof wt&&!1!==wt.passive?D(D({},wt),{passive:!0}):wt:{passive:!0}:wt}(arguments[2],Mi);if(Xe)for(var Gn=0;Gn<Xe.length;Gn++)if(Nn===Xe[Gn])return Mi?wt.call(Rn,Nn,Xn,yi):wt.apply(this,arguments);var bi=!!yi&&("boolean"==typeof yi||yi.capture),Ho=!(!yi||"object"!=typeof yi)&&yi.once,xc=Zone.current,Ar=Fe[Nn];Ar||(Dn(Nn,pe),Ar=Fe[Nn]);var Vr=Ar[bi?K:Z],Ao=Rn[Vr],Sn=!1;if(Ao){if(Sn=!0,gt)for(Gn=0;Gn<Ao.length;Gn++)if(zt(Ao[Gn],Xn))return}else Ao=Rn[Vr]=[];var ss,Br=Rn.constructor.name,zo=Ut[Br];zo&&(ss=zo[Nn]),ss||(ss=Br+Vt+(pe?pe(Nn):Nn)),xe.options=yi,Ho&&(xe.options.once=!1),xe.target=Rn,xe.capture=bi,xe.eventName=Nn,xe.isExisting=Sn;var as=Ne?Ye:void 0;as&&(as.taskData=xe);var Go=xc.scheduleEventTask(ss,Xn,as,rn,vn);if(xe.target=null,as&&(as.taskData=null),Ho&&(yi.once=!0),!le&&"boolean"==typeof Go.options||(Go.options=yi),Go.target=Rn,Go.capture=bi,Go.eventName=Nn,Hn&&(Go.originalDelegate=Xn),Xt?Ao.unshift(Go):Ao.push(Go),Vn)return Rn}}};return ve[bt]=kt(Ve,an,Oe,Je,Le),Ln&&(ve[cn]=kt(Ln,ln,function(wt){return Ln.call(xe.target,xe.eventName,wt.invoke,xe.options)},Je,Le,!0)),ve[ft]=function(){var wt=this||Ae,Vt=arguments[0];oe&&oe.transferEventName&&(Vt=oe.transferEventName(Vt));var rn=arguments[2],vn=!!rn&&("boolean"==typeof rn||rn.capture),Vn=arguments[1];if(!Vn)return ot.apply(this,arguments);if(!De||De(ot,Vn,wt,arguments)){var Rn,Xt=Fe[Vt];Xt&&(Rn=Xt[vn?K:Z]);var Nn=Rn&&wt[Rn];if(Nn)for(var Xn=0;Xn<Nn.length;Xn++){var Hn=Nn[Xn];if(zt(Hn,Vn))return Nn.splice(Xn,1),Hn.isRemoved=!0,0===Nn.length&&(Hn.allRemoved=!0,wt[Rn]=null,"string"==typeof Vt)&&(wt[ce+"ON_PROPERTY"+Vt]=null),Hn.zone.cancelTask(Hn),Le?wt:void 0}return ot.apply(this,arguments)}},ve[Ft]=function(){var wt=this||Ae,Vt=arguments[0];oe&&oe.transferEventName&&(Vt=oe.transferEventName(Vt));for(var rn=[],vn=ge(wt,pe?pe(Vt):Vt),Vn=0;Vn<vn.length;Vn++){var Xt=vn[Vn];rn.push(Xt.originalDelegate?Xt.originalDelegate:Xt.callback)}return rn},ve[Gt]=function(){var wt=this||Ae,Vt=arguments[0];if(Vt){oe&&oe.transferEventName&&(Vt=oe.transferEventName(Vt));var Nn=Fe[Vt];if(Nn){var Mi=wt[Nn[Z]],yi=wt[Nn[K]];if(Mi)for(var Gn=Mi.slice(),vn=0;vn<Gn.length;vn++)this[ft].call(this,Vt,(bi=Gn[vn]).originalDelegate?bi.originalDelegate:bi.callback,bi.options);if(yi)for(Gn=yi.slice(),vn=0;vn<Gn.length;vn++){var bi;this[ft].call(this,Vt,(bi=Gn[vn]).originalDelegate?bi.originalDelegate:bi.callback,bi.options)}}}else{var rn=Object.keys(wt);for(vn=0;vn<rn.length;vn++){var Xt=_n.exec(rn[vn]),Rn=Xt&&Xt[1];Rn&&"removeListener"!==Rn&&this[Gt].call(this,Rn)}this[Gt].call(this,"removeListener")}if(Le)return this},$e(ve[bt],Ve),$e(ve[ft],ot),en&&$e(ve[Gt],en),Dt&&$e(ve[Ft],Dt),!0}for(var ht=[],ie=0;ie<lt.length;ie++)ht[ie]=_i(lt[ie],je);return ht}function ge(Ae,Ze){if(!Ze){var lt=[];for(var je in Ae){var bt=_n.exec(je),ft=bt&&bt[1];if(ft&&(!Ze||ft===Ze)){var Ft=Ae[je];if(Ft)for(var Gt=0;Gt<Ft.length;Gt++)lt.push(Ft[Gt])}}return lt}var dn=Fe[Ze];dn||(Dn(Ze),dn=Fe[Ze]);var an=Ae[dn[Z]],cn=Ae[dn[K]];return an?cn?an.concat(cn):an.slice():cn?cn.slice():[]}function V(Ae,Ze){var lt=Ae.Event;lt&&lt.prototype&&Ze.patchMethod(lt.prototype,"stopImmediatePropagation",function(je){return function(bt,ft){bt[fn]=!0,je&&je.apply(bt,ft)}})}function G(Ae,Ze,lt,je,bt){var ft=Zone.__symbol__(je);if(!Ze[ft]){var Ft=Ze[ft]=Ze[je];Ze[je]=function(Gt,dn,an){return dn&&dn.prototype&&bt.forEach(function(cn){var ln="".concat(lt,".").concat(je,"::")+cn,mn=dn.prototype;try{if(mn.hasOwnProperty(cn)){var Tn=Ae.ObjectGetOwnPropertyDescriptor(mn,cn);Tn&&Tn.value?(Tn.value=Ae.wrapWithCurrentZone(Tn.value,ln),Ae._redefineProperty(dn.prototype,cn,Tn)):mn[cn]&&(mn[cn]=Ae.wrapWithCurrentZone(mn[cn],ln))}else mn[cn]&&(mn[cn]=Ae.wrapWithCurrentZone(mn[cn],ln))}catch{}}),Ft.call(Ze,Gt,dn,an)},Ae.attachOriginToPatched(Ze[je],Ft)}}function Ee(Ae,Ze,lt){if(!lt||0===lt.length)return Ze;var je=lt.filter(function(ft){return ft.target===Ae});if(!je||0===je.length)return Ze;var bt=je[0].ignoreProperties;return Ze.filter(function(ft){return-1===bt.indexOf(ft)})}function We(Ae,Ze,lt,je){Ae&&St(Ae,Ee(Ae,Ze,lt),je)}function mt(Ae){return Object.getOwnPropertyNames(Ae).filter(function(Ze){return Ze.startsWith("on")&&Ze.length>2}).map(function(Ze){return Ze.substring(2)})}function Tt(Ae,Ze){if((!fe||Pe)&&!Zone[Ae.symbol("patchEvents")]){var lt=Ze.__Zone_ignore_on_properties,je=[];if(Ce){var bt=window;je=je.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);var ft=function qe(){try{var Ae=Y.navigator.userAgent;if(-1!==Ae.indexOf("MSIE ")||-1!==Ae.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:bt,ignoreProperties:["error"]}]:[];We(bt,mt(bt),lt&&lt.concat(ft),U(bt))}je=je.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(var Ft=0;Ft<je.length;Ft++){var Gt=Ze[je[Ft]];Gt&&Gt.prototype&&We(Gt.prototype,mt(Gt.prototype),lt)}}}Zone.__load_patch("util",function(Ae,Ze,lt){var je=mt(Ae);lt.patchOnProperties=St,lt.patchMethod=tt,lt.bindArguments=W,lt.patchMacroTask=Ke;var bt=Ze.__symbol__("BLACK_LISTED_EVENTS"),ft=Ze.__symbol__("UNPATCHED_EVENTS");Ae[ft]&&(Ae[bt]=Ae[ft]),Ae[bt]&&(Ze[bt]=Ze[ft]=Ae[bt]),lt.patchEventPrototype=V,lt.patchEventTarget=An,lt.isIEOrEdge=Ct,lt.ObjectDefineProperty=L,lt.ObjectGetOwnPropertyDescriptor=P,lt.ObjectCreate=S,lt.ArraySlice=F,lt.patchClass=hn,lt.wrapWithCurrentZone=ne,lt.filterProperties=Ee,lt.attachOriginToPatched=$e,lt._redefineProperty=Object.defineProperty,lt.patchCallbacks=G,lt.getGlobalObjects=function(){return{globalSources:Ut,zoneSymbolEventNames:Fe,eventNames:je,isBrowser:Ce,isMix:Pe,isNode:fe,TRUE_STR:K,FALSE_STR:Z,ZONE_SYMBOL_PREFIX:ce,ADD_EVENT_LISTENER_STR:j,REMOVE_EVENT_LISTENER_STR:O}}});var Qt=ee("zoneTask");function jt(Ae,Ze,lt,je){var bt=null,ft=null;lt+=je;var Ft={};function Gt(an){var cn=an.data;return cn.args[0]=function(){return an.invoke.apply(this,arguments)},cn.handleId=bt.apply(Ae,cn.args),an}function dn(an){return ft.call(Ae,an.data.handleId)}bt=tt(Ae,Ze+=je,function(an){return function(cn,ln){if("function"==typeof ln[0]){var mn={isPeriodic:"Interval"===je,delay:"Timeout"===je||"Interval"===je?ln[1]||0:void 0,args:ln},Tn=ln[0];ln[0]=function(){try{return Tn.apply(this,arguments)}finally{mn.isPeriodic||("number"==typeof mn.handleId?delete Ft[mn.handleId]:mn.handleId&&(mn.handleId[Qt]=null))}};var Yn=ye(Ze,ln[0],mn,Gt,dn);if(!Yn)return Yn;var Mn=Yn.data.handleId;return"number"==typeof Mn?Ft[Mn]=Yn:Mn&&(Mn[Qt]=Yn),Mn&&Mn.ref&&Mn.unref&&"function"==typeof Mn.ref&&"function"==typeof Mn.unref&&(Yn.ref=Mn.ref.bind(Mn),Yn.unref=Mn.unref.bind(Mn)),"number"==typeof Mn||Mn?Mn:Yn}return an.apply(Ae,ln)}}),ft=tt(Ae,lt,function(an){return function(cn,ln){var Tn,mn=ln[0];"number"==typeof mn?Tn=Ft[mn]:(Tn=mn&&mn[Qt])||(Tn=mn),Tn&&"string"==typeof Tn.type?"notScheduled"!==Tn.state&&(Tn.cancelFn&&Tn.data.isPeriodic||0===Tn.runCount)&&("number"==typeof mn?delete Ft[mn]:mn&&(mn[Qt]=null),Tn.zone.cancelTask(Tn)):an.apply(Ae,ln)}})}Zone.__load_patch("legacy",function(Ae){var Ze=Ae[Zone.__symbol__("legacyPatch")];Ze&&Ze()}),Zone.__load_patch("timers",function(Ae){var lt="clear";jt(Ae,"set",lt,"Timeout"),jt(Ae,"set",lt,"Interval"),jt(Ae,"set",lt,"Immediate")}),Zone.__load_patch("requestAnimationFrame",function(Ae){jt(Ae,"request","cancel","AnimationFrame"),jt(Ae,"mozRequest","mozCancel","AnimationFrame"),jt(Ae,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(Ae,Ze){for(var lt=["alert","prompt","confirm"],je=0;je<lt.length;je++)tt(Ae,lt[je],function(ft,Ft,Gt){return function(dn,an){return Ze.current.run(ft,Ae,an,Gt)}})}),Zone.__load_patch("EventTarget",function(Ae,Ze,lt){(function Si(Ae,Ze){Ze.patchEventPrototype(Ae,Ze)})(Ae,lt),function Wn(Ae,Ze){if(!Zone[Ze.symbol("patchEventTarget")]){for(var lt=Ze.getGlobalObjects(),je=lt.eventNames,bt=lt.zoneSymbolEventNames,ft=lt.TRUE_STR,Ft=lt.FALSE_STR,Gt=lt.ZONE_SYMBOL_PREFIX,dn=0;dn<je.length;dn++){var an=je[dn],mn=Gt+(an+Ft),Tn=Gt+(an+ft);bt[an]={},bt[an][Ft]=mn,bt[an][ft]=Tn}var Yn=Ae.EventTarget;if(Yn&&Yn.prototype)return Ze.patchEventTarget(Ae,Ze,[Yn&&Yn.prototype]),!0}}(Ae,lt);var je=Ae.XMLHttpRequestEventTarget;je&&je.prototype&&lt.patchEventTarget(Ae,lt,[je.prototype])}),Zone.__load_patch("MutationObserver",function(Ae,Ze,lt){hn("MutationObserver"),hn("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",function(Ae,Ze,lt){hn("IntersectionObserver")}),Zone.__load_patch("FileReader",function(Ae,Ze,lt){hn("FileReader")}),Zone.__load_patch("on_property",function(Ae,Ze,lt){Tt(lt,Ae)}),Zone.__load_patch("customElements",function(Ae,Ze,lt){!function Fn(Ae,Ze){var lt=Ze.getGlobalObjects();(lt.isBrowser||lt.isMix)&&Ae.customElements&&"customElements"in Ae&&Ze.patchCallbacks(Ze,Ae.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Ae,lt)}),Zone.__load_patch("XHR",function(Ae,Ze){!function dn(an){var cn=an.XMLHttpRequest;if(cn){var ln=cn.prototype,Tn=ln[$],Yn=ln[Q];if(!Tn){var Mn=an.XMLHttpRequestEventTarget;if(Mn){var _i=Mn.prototype;Tn=_i[$],Yn=_i[Q]}}var ht="readystatechange",ie="scheduled",De=tt(ln,"open",function(){return function(Ve,ot){return Ve[je]=0==ot[2],Ve[Ft]=ot[1],De.apply(Ve,ot)}}),Le=ee("fetchTaskAborting"),ve=ee("fetchTaskScheduling"),pe=tt(ln,"send",function(){return function(Ve,ot){if(!0===Ze.current[ve]||Ve[je])return pe.apply(Ve,ot);var Dt={target:Ve,url:Ve[Ft],isPeriodic:!1,args:ot,aborted:!1},en=ye("XMLHttpRequest.send",oe,Dt,z,Ne);Ve&&!0===Ve[Gt]&&!Dt.aborted&&en.state===ie&&en.invoke()}}),xe=tt(ln,"abort",function(){return function(Ve,ot){var Dt=function mn(Ve){return Ve[lt]}(Ve);if(Dt&&"string"==typeof Dt.type){if(null==Dt.cancelFn||Dt.data&&Dt.data.aborted)return;Dt.zone.cancelTask(Dt)}else if(!0===Ze.current[Le])return xe.apply(Ve,ot)}})}function z(Ve){var ot=Ve.data,Dt=ot.target;Dt[ft]=!1,Dt[Gt]=!1;var en=Dt[bt];Tn||(Tn=Dt[$],Yn=Dt[Q]),en&&Yn.call(Dt,ht,en);var Ln=Dt[bt]=function(){if(Dt.readyState===Dt.DONE)if(!ot.aborted&&Dt[ft]&&Ve.state===ie){var rt=Dt[Ze.__symbol__("loadfalse")];if(0!==Dt.status&&rt&&rt.length>0){var He=Ve.invoke;Ve.invoke=function(){for(var ut=Dt[Ze.__symbol__("loadfalse")],nt=0;nt<ut.length;nt++)ut[nt]===Ve&&ut.splice(nt,1);!ot.aborted&&Ve.state===ie&&He.call(Ve)},rt.push(Ve)}else Ve.invoke()}else!ot.aborted&&!1===Dt[ft]&&(Dt[Gt]=!0)};return Tn.call(Dt,ht,Ln),Dt[lt]||(Dt[lt]=Ve),pe.apply(Dt,ot.args),Dt[ft]=!0,Ve}function oe(){}function Ne(Ve){var ot=Ve.data;return ot.aborted=!0,xe.apply(ot.target,ot.args)}}(Ae);var lt=ee("xhrTask"),je=ee("xhrSync"),bt=ee("xhrListener"),ft=ee("xhrScheduled"),Ft=ee("xhrURL"),Gt=ee("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",function(Ae){Ae.navigator&&Ae.navigator.geolocation&&function be(Ae,Ze){for(var lt=Ae.constructor.name,je=function(ft){var an,cn,Ft=Ze[ft],Gt=Ae[Ft];if(Gt){if(!J(P(Ae,Ft)))return"continue";Ae[Ft]=(cn=function(){return an.apply(this,W(arguments,lt+"."+Ft))},$e(cn,an=Gt),cn)}},bt=0;bt<Ze.length;bt++)je(bt)}(Ae.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(Ae,Ze){function lt(je){return function(bt){ge(Ae,je).forEach(function(Ft){var Gt=Ae.PromiseRejectionEvent;if(Gt){var dn=new Gt(je,{promise:bt.promise,reason:bt.rejection});Ft.invoke(dn)}})}}Ae.PromiseRejectionEvent&&(Ze[ee("unhandledPromiseRejectionHandler")]=lt("unhandledrejection"),Ze[ee("rejectionHandledHandler")]=lt("rejectionhandled"))}),Zone.__load_patch("queueMicrotask",function(Ae,Ze,lt){!function Nt(Ae,Ze){Ze.patchMethod(Ae,"queueMicrotask",function(lt){return function(je,bt){Zone.current.scheduleMicroTask("queueMicrotask",bt[0])}})}(Ae,lt)})},void 0!==(I=a.call(se,y,se,ae))&&(ae.exports=I)},2722:(ae,se,y)=>{"use strict";y(228),y(4333),y(50),y(9871),y(1049),y(2349),y(149),y(3792),y(9707),y(3545),y(2087),y(1505),y(5247),y(2373),y(6034);var a=y(496);ae.exports=a.Reflect},509:(ae,se,y)=>{"use strict";var a=y(9985),I=y(3691),D=TypeError;ae.exports=function(P){if(a(P))return P;throw new D(I(P)+" is not a function")}},2655:(ae,se,y)=>{"use strict";var a=y(9429),I=y(3691),D=TypeError;ae.exports=function(P){if(a(P))return P;throw new D(I(P)+" is not a constructor")}},3550:(ae,se,y)=>{"use strict";var a=y(9985),I=String,D=TypeError;ae.exports=function(P){if("object"==typeof P||a(P))return P;throw new D("Can't set "+I(P)+" as a prototype")}},5027:(ae,se,y)=>{"use strict";var a=y(8999),I=String,D=TypeError;ae.exports=function(P){if(a(P))return P;throw new D(I(P)+" is not an object")}},1655:(ae,se,y)=>{"use strict";var a=y(3689);ae.exports=a(function(){if("function"==typeof ArrayBuffer){var I=new ArrayBuffer(8);Object.isExtensible(I)&&Object.defineProperty(I,"a",{value:8})}})},4328:(ae,se,y)=>{"use strict";var a=y(5290),I=y(7578),D=y(6310),P=function(L){return function(U,S,F){var Q,j=a(U),O=D(j),$=I(F,O);if(L&&S!=S){for(;O>$;)if((Q=j[$++])!=Q)return!0}else for(;O>$;$++)if((L||$ in j)&&j[$]===S)return L||$||0;return!L&&-1}};ae.exports={includes:P(!0),indexOf:P(!1)}},6004:(ae,se,y)=>{"use strict";var a=y(8844);ae.exports=a([].slice)},6648:(ae,se,y)=>{"use strict";var a=y(8844),I=a({}.toString),D=a("".slice);ae.exports=function(P){return D(I(P),8,-1)}},926:(ae,se,y)=>{"use strict";var a=y(3043),I=y(9985),D=y(6648),L=y(4201)("toStringTag"),U=Object,S="Arguments"===D(function(){return arguments}());ae.exports=a?D:function(j){var O,$,Q;return void 0===j?"Undefined":null===j?"Null":"string"==typeof($=function(j,O){try{return j[O]}catch{}}(O=U(j),L))?$:S?D(O):"Object"===(Q=D(O))&&I(O.callee)?"Arguments":Q}},8758:(ae,se,y)=>{"use strict";var a=y(6812),I=y(9152),D=y(2474),P=y(2560);ae.exports=function(L,U,S){for(var F=I(U),j=P.f,O=D.f,$=0;$<F.length;$++){var Q=F[$];!a(L,Q)&&(!S||!a(S,Q))&&j(L,Q,O(U,Q))}}},1748:(ae,se,y)=>{"use strict";var a=y(3689);ae.exports=!a(function(){function I(){}return I.prototype.constructor=null,Object.getPrototypeOf(new I)!==I.prototype})},5773:(ae,se,y)=>{"use strict";var a=y(7697),I=y(2560),D=y(5684);ae.exports=a?function(P,L,U){return I.f(P,L,D(1,U))}:function(P,L,U){return P[L]=U,P}},5684:ae=>{"use strict";ae.exports=function(se,y){return{enumerable:!(1&se),configurable:!(2&se),writable:!(4&se),value:y}}},1880:(ae,se,y)=>{"use strict";var a=y(9985),I=y(2560),D=y(8702),P=y(5014);ae.exports=function(L,U,S,F){F||(F={});var j=F.enumerable,O=void 0!==F.name?F.name:U;if(a(S)&&D(S,O,F),F.global)j?L[U]=S:P(U,S);else{try{F.unsafe?L[U]&&(j=!0):delete L[U]}catch{}j?L[U]=S:I.f(L,U,{value:S,enumerable:!1,configurable:!F.nonConfigurable,writable:!F.nonWritable})}return L}},5014:(ae,se,y)=>{"use strict";var a=y(9037),I=Object.defineProperty;ae.exports=function(D,P){try{I(a,D,{value:P,configurable:!0,writable:!0})}catch{a[D]=P}return P}},7697:(ae,se,y)=>{"use strict";var a=y(3689);ae.exports=!a(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},2659:ae=>{"use strict";var se="object"==typeof document&&document.all;ae.exports={all:se,IS_HTMLDDA:typeof se>"u"&&void 0!==se}},6420:(ae,se,y)=>{"use strict";var a=y(9037),I=y(8999),D=a.document,P=I(D)&&I(D.createElement);ae.exports=function(L){return P?D.createElement(L):{}}},71:ae=>{"use strict";ae.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},3615:(ae,se,y)=>{"use strict";var S,F,a=y(9037),I=y(71),D=a.process,P=a.Deno,L=D&&D.versions||P&&P.version,U=L&&L.v8;U&&(F=(S=U.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!F&&I&&(!(S=I.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=I.match(/Chrome\/(\d+)/))&&(F=+S[1]),ae.exports=F},2739:ae=>{"use strict";ae.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:(ae,se,y)=>{"use strict";var a=y(9037),I=y(2474).f,D=y(5773),P=y(1880),L=y(5014),U=y(8758),S=y(5266);ae.exports=function(F,j){var Z,ce,ne,ye,ee,O=F.target,$=F.global,Q=F.stat;if(Z=$?a:Q?a[O]||L(O,{}):(a[O]||{}).prototype)for(ce in j){if(ye=j[ce],ne=F.dontCallGetSet?(ee=I(Z,ce))&&ee.value:Z[ce],!S($?ce:O+(Q?".":"#")+ce,F.forced)&&void 0!==ne){if(typeof ye==typeof ne)continue;U(ye,ne)}(F.sham||ne&&ne.sham)&&D(ye,"sham",!0),P(Z,ce,ye,F)}}},3689:ae=>{"use strict";ae.exports=function(se){try{return!!se()}catch{return!0}}},1594:(ae,se,y)=>{"use strict";var a=y(3689);ae.exports=!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},1735:(ae,se,y)=>{"use strict";var a=y(7215),I=Function.prototype,D=I.apply,P=I.call;ae.exports="object"==typeof Reflect&&Reflect.apply||(a?P.bind(D):function(){return P.apply(D,arguments)})},7215:(ae,se,y)=>{"use strict";var a=y(3689);ae.exports=!a(function(){var I=function(){}.bind();return"function"!=typeof I||I.hasOwnProperty("prototype")})},6761:(ae,se,y)=>{"use strict";var a=y(8844),I=y(509),D=y(8999),P=y(6812),L=y(6004),U=y(7215),S=Function,F=a([].concat),j=a([].join),O={};ae.exports=U?S.bind:function(K){var Z=I(this),ce=Z.prototype,ne=L(arguments,1),ye=function(){var te=F(ne,L(arguments));return this instanceof ye?function(Q,K,Z){if(!P(O,K)){for(var ce=[],ne=0;ne<K;ne++)ce[ne]="a["+ne+"]";O[K]=S("C,a","return new C("+j(ce,",")+")")}return O[K](Q,Z)}(Z,te.length,te):Z.apply(K,te)};return D(ce)&&(ye.prototype=ce),ye}},2615:(ae,se,y)=>{"use strict";var a=y(7215),I=Function.prototype.call;ae.exports=a?I.bind(I):function(){return I.apply(I,arguments)}},1236:(ae,se,y)=>{"use strict";var a=y(7697),I=y(6812),D=Function.prototype,P=a&&Object.getOwnPropertyDescriptor,L=I(D,"name"),U=L&&"something"===function(){}.name,S=L&&(!a||a&&P(D,"name").configurable);ae.exports={EXISTS:L,PROPER:U,CONFIGURABLE:S}},2743:(ae,se,y)=>{"use strict";var a=y(8844),I=y(509);ae.exports=function(D,P,L){try{return a(I(Object.getOwnPropertyDescriptor(D,P)[L]))}catch{}}},8844:(ae,se,y)=>{"use strict";var a=y(7215),I=Function.prototype,D=I.call,P=a&&I.bind.bind(D,D);ae.exports=a?P:function(L){return function(){return D.apply(L,arguments)}}},6058:(ae,se,y)=>{"use strict";var a=y(9037),I=y(9985);ae.exports=function(P,L){return arguments.length<2?function(P){return I(P)?P:void 0}(a[P]):a[P]&&a[P][L]}},4849:(ae,se,y)=>{"use strict";var a=y(509),I=y(981);ae.exports=function(D,P){var L=D[P];return I(L)?void 0:a(L)}},9037:function(ae){"use strict";var se=function(y){return y&&y.Math===Math&&y};ae.exports=se("object"==typeof globalThis&&globalThis)||se("object"==typeof window&&window)||se("object"==typeof self&&self)||se("object"==typeof global&&global)||se("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:(ae,se,y)=>{"use strict";var a=y(8844),I=y(690),D=a({}.hasOwnProperty);ae.exports=Object.hasOwn||function(L,U){return D(I(L),U)}},7248:ae=>{"use strict";ae.exports={}},2688:(ae,se,y)=>{"use strict";var a=y(6058);ae.exports=a("document","documentElement")},8506:(ae,se,y)=>{"use strict";var a=y(7697),I=y(3689),D=y(6420);ae.exports=!a&&!I(function(){return 7!==Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a})},4413:(ae,se,y)=>{"use strict";var a=y(8844),I=y(3689),D=y(6648),P=Object,L=a("".split);ae.exports=I(function(){return!P("z").propertyIsEnumerable(0)})?function(U){return"String"===D(U)?L(U,""):P(U)}:P},6738:(ae,se,y)=>{"use strict";var a=y(8844),I=y(9985),D=y(4091),P=a(Function.toString);I(D.inspectSource)||(D.inspectSource=function(L){return P(L)}),ae.exports=D.inspectSource},618:(ae,se,y)=>{"use strict";var Q,K,Z,a=y(9834),I=y(9037),D=y(8999),P=y(5773),L=y(6812),U=y(4091),S=y(2713),F=y(7248),j="Object already initialized",O=I.TypeError;if(a||U.state){var ye=U.state||(U.state=new(0,I.WeakMap));ye.get=ye.get,ye.has=ye.has,ye.set=ye.set,Q=function(te,Y){if(ye.has(te))throw new O(j);return Y.facade=te,ye.set(te,Y),Y},K=function(te){return ye.get(te)||{}},Z=function(te){return ye.has(te)}}else{var ee=S("state");F[ee]=!0,Q=function(te,Y){if(L(te,ee))throw new O(j);return Y.facade=te,P(te,ee,Y),Y},K=function(te){return L(te,ee)?te[ee]:{}},Z=function(te){return L(te,ee)}}ae.exports={set:Q,get:K,has:Z,enforce:function(te){return Z(te)?K(te):Q(te,{})},getterFor:function(te){return function(Y){var M;if(!D(Y)||(M=K(Y)).type!==te)throw new O("Incompatible receiver, "+te+" required");return M}}}},9985:(ae,se,y)=>{"use strict";var a=y(2659),I=a.all;ae.exports=a.IS_HTMLDDA?function(D){return"function"==typeof D||D===I}:function(D){return"function"==typeof D}},9429:(ae,se,y)=>{"use strict";var a=y(8844),I=y(3689),D=y(9985),P=y(926),L=y(6058),U=y(6738),S=function(){},F=[],j=L("Reflect","construct"),O=/^\s*(?:class|function)\b/,$=a(O.exec),Q=!O.test(S),K=function(ne){if(!D(ne))return!1;try{return j(S,F,ne),!0}catch{return!1}},Z=function(ne){if(!D(ne))return!1;switch(P(ne)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Q||!!$(O,U(ne))}catch{return!0}};Z.sham=!0,ae.exports=!j||I(function(){var ce;return K(K.call)||!K(Object)||!K(function(){ce=!0})||ce})?Z:K},6251:(ae,se,y)=>{"use strict";var a=y(6812);ae.exports=function(I){return void 0!==I&&(a(I,"value")||a(I,"writable"))}},5266:(ae,se,y)=>{"use strict";var a=y(3689),I=y(9985),D=/#|\.prototype\./,P=function(j,O){var $=U[L(j)];return $===F||$!==S&&(I(O)?a(O):!!O)},L=P.normalize=function(j){return String(j).replace(D,".").toLowerCase()},U=P.data={},S=P.NATIVE="N",F=P.POLYFILL="P";ae.exports=P},981:ae=>{"use strict";ae.exports=function(se){return null==se}},8999:(ae,se,y)=>{"use strict";var a=y(9985),I=y(2659),D=I.all;ae.exports=I.IS_HTMLDDA?function(P){return"object"==typeof P?null!==P:a(P)||P===D}:function(P){return"object"==typeof P?null!==P:a(P)}},3931:ae=>{"use strict";ae.exports=!1},734:(ae,se,y)=>{"use strict";var a=y(6058),I=y(9985),D=y(3622),P=y(9525),L=Object;ae.exports=P?function(U){return"symbol"==typeof U}:function(U){var S=a("Symbol");return I(S)&&D(S.prototype,L(U))}},6310:(ae,se,y)=>{"use strict";var a=y(3126);ae.exports=function(I){return a(I.length)}},8702:(ae,se,y)=>{"use strict";var a=y(8844),I=y(3689),D=y(9985),P=y(6812),L=y(7697),U=y(1236).CONFIGURABLE,S=y(6738),F=y(618),j=F.enforce,O=F.get,$=String,Q=Object.defineProperty,K=a("".slice),Z=a("".replace),ce=a([].join),ne=L&&!I(function(){return 8!==Q(function(){},"length",{value:8}).length}),ye=String(String).split("String"),ee=ae.exports=function(te,Y,M){"Symbol("===K($(Y),0,7)&&(Y="["+Z($(Y),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(Y="get "+Y),M&&M.setter&&(Y="set "+Y),(!P(te,"name")||U&&te.name!==Y)&&(L?Q(te,"name",{value:Y,configurable:!0}):te.name=Y),ne&&M&&P(M,"arity")&&te.length!==M.arity&&Q(te,"length",{value:M.arity});try{M&&P(M,"constructor")&&M.constructor?L&&Q(te,"prototype",{writable:!1}):te.prototype&&(te.prototype=void 0)}catch{}var k=j(te);return P(k,"source")||(k.source=ce(ye,"string"==typeof Y?Y:"")),te};Function.prototype.toString=ee(function(){return D(this)&&O(this).source||S(this)},"toString")},8828:ae=>{"use strict";var se=Math.ceil,y=Math.floor;ae.exports=Math.trunc||function(I){var D=+I;return(D>0?y:se)(D)}},5391:(ae,se,y)=>{"use strict";var ye,a=y(5027),I=y(8920),D=y(2739),P=y(7248),L=y(2688),U=y(6420),S=y(2713),O="prototype",$="script",Q=S("IE_PROTO"),K=function(){},Z=function(te){return"<"+$+">"+te+"</"+$+">"},ce=function(te){te.write(Z("")),te.close();var Y=te.parentWindow.Object;return te=null,Y},ee=function(){try{ye=new ActiveXObject("htmlfile")}catch{}ee=typeof document<"u"?document.domain&&ye?ce(ye):function(){var M,te=U("iframe"),Y="java"+$+":";return te.style.display="none",L.appendChild(te),te.src=String(Y),(M=te.contentWindow.document).open(),M.write(Z("document.F=Object")),M.close(),M.F}():ce(ye);for(var te=D.length;te--;)delete ee[O][D[te]];return ee()};P[Q]=!0,ae.exports=Object.create||function(Y,M){var k;return null!==Y?(K[O]=a(Y),k=new K,K[O]=null,k[Q]=Y):k=ee(),void 0===M?k:I.f(k,M)}},8920:(ae,se,y)=>{"use strict";var a=y(7697),I=y(5648),D=y(2560),P=y(5027),L=y(5290),U=y(300);se.f=a&&!I?Object.defineProperties:function(F,j){P(F);for(var Z,O=L(j),$=U(j),Q=$.length,K=0;Q>K;)D.f(F,Z=$[K++],O[Z]);return F}},2560:(ae,se,y)=>{"use strict";var a=y(7697),I=y(8506),D=y(5648),P=y(5027),L=y(8360),U=TypeError,S=Object.defineProperty,F=Object.getOwnPropertyDescriptor,j="enumerable",O="configurable",$="writable";se.f=a?D?function(K,Z,ce){if(P(K),Z=L(Z),P(ce),"function"==typeof K&&"prototype"===Z&&"value"in ce&&$ in ce&&!ce[$]){var ne=F(K,Z);ne&&ne[$]&&(K[Z]=ce.value,ce={configurable:O in ce?ce[O]:ne[O],enumerable:j in ce?ce[j]:ne[j],writable:!1})}return S(K,Z,ce)}:S:function(K,Z,ce){if(P(K),Z=L(Z),P(ce),I)try{return S(K,Z,ce)}catch{}if("get"in ce||"set"in ce)throw new U("Accessors not supported");return"value"in ce&&(K[Z]=ce.value),K}},2474:(ae,se,y)=>{"use strict";var a=y(7697),I=y(2615),D=y(9556),P=y(5684),L=y(5290),U=y(8360),S=y(6812),F=y(8506),j=Object.getOwnPropertyDescriptor;se.f=a?j:function($,Q){if($=L($),Q=U(Q),F)try{return j($,Q)}catch{}if(S($,Q))return P(!I(D.f,$,Q),$[Q])}},2741:(ae,se,y)=>{"use strict";var a=y(4948),D=y(2739).concat("length","prototype");se.f=Object.getOwnPropertyNames||function(L){return a(L,D)}},7518:(ae,se)=>{"use strict";se.f=Object.getOwnPropertySymbols},1868:(ae,se,y)=>{"use strict";var a=y(6812),I=y(9985),D=y(690),P=y(2713),L=y(1748),U=P("IE_PROTO"),S=Object,F=S.prototype;ae.exports=L?S.getPrototypeOf:function(j){var O=D(j);if(a(O,U))return O[U];var $=O.constructor;return I($)&&O instanceof $?$.prototype:O instanceof S?F:null}},7049:(ae,se,y)=>{"use strict";var a=y(3689),I=y(8999),D=y(6648),P=y(1655),L=Object.isExtensible,U=a(function(){L(1)});ae.exports=U||P?function(F){return!(!I(F)||P&&"ArrayBuffer"===D(F))&&(!L||L(F))}:L},3622:(ae,se,y)=>{"use strict";var a=y(8844);ae.exports=a({}.isPrototypeOf)},4948:(ae,se,y)=>{"use strict";var a=y(8844),I=y(6812),D=y(5290),P=y(4328).indexOf,L=y(7248),U=a([].push);ae.exports=function(S,F){var Q,j=D(S),O=0,$=[];for(Q in j)!I(L,Q)&&I(j,Q)&&U($,Q);for(;F.length>O;)I(j,Q=F[O++])&&(~P($,Q)||U($,Q));return $}},300:(ae,se,y)=>{"use strict";var a=y(4948),I=y(2739);ae.exports=Object.keys||function(P){return a(P,I)}},9556:(ae,se)=>{"use strict";var y={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,I=a&&!y.call({1:2},1);se.f=I?function(P){var L=a(this,P);return!!L&&L.enumerable}:y},9385:(ae,se,y)=>{"use strict";var a=y(2743),I=y(5027),D=y(3550);ae.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var U,P=!1,L={};try{(U=a(Object.prototype,"__proto__","set"))(L,[]),P=L instanceof Array}catch{}return function(F,j){return I(F),D(j),P?U(F,j):F.__proto__=j,F}}():void 0)},5073:(ae,se,y)=>{"use strict";var a=y(3043),I=y(926);ae.exports=a?{}.toString:function(){return"[object "+I(this)+"]"}},5899:(ae,se,y)=>{"use strict";var a=y(2615),I=y(9985),D=y(8999),P=TypeError;ae.exports=function(L,U){var S,F;if("string"===U&&I(S=L.toString)&&!D(F=a(S,L))||I(S=L.valueOf)&&!D(F=a(S,L))||"string"!==U&&I(S=L.toString)&&!D(F=a(S,L)))return F;throw new P("Can't convert object to primitive value")}},9152:(ae,se,y)=>{"use strict";var a=y(6058),I=y(8844),D=y(2741),P=y(7518),L=y(5027),U=I([].concat);ae.exports=a("Reflect","ownKeys")||function(F){var j=D.f(L(F)),O=P.f;return O?U(j,O(F)):j}},496:(ae,se,y)=>{"use strict";var a=y(9037);ae.exports=a},4684:(ae,se,y)=>{"use strict";var a=y(981),I=TypeError;ae.exports=function(D){if(a(D))throw new I("Can't call method on "+D);return D}},5997:(ae,se,y)=>{"use strict";var a=y(2560).f,I=y(6812),P=y(4201)("toStringTag");ae.exports=function(L,U,S){L&&!S&&(L=L.prototype),L&&!I(L,P)&&a(L,P,{configurable:!0,value:U})}},2713:(ae,se,y)=>{"use strict";var a=y(3430),I=y(4630),D=a("keys");ae.exports=function(P){return D[P]||(D[P]=I(P))}},4091:(ae,se,y)=>{"use strict";var a=y(9037),I=y(5014),D="__core-js_shared__",P=a[D]||I(D,{});ae.exports=P},3430:(ae,se,y)=>{"use strict";var a=y(3931),I=y(4091);(ae.exports=function(D,P){return I[D]||(I[D]=void 0!==P?P:{})})("versions",[]).push({version:"3.34.0",mode:a?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},146:(ae,se,y)=>{"use strict";var a=y(3615),I=y(3689),P=y(9037).String;ae.exports=!!Object.getOwnPropertySymbols&&!I(function(){var L=Symbol("symbol detection");return!P(L)||!(Object(L)instanceof Symbol)||!Symbol.sham&&a&&a<41})},7578:(ae,se,y)=>{"use strict";var a=y(8700),I=Math.max,D=Math.min;ae.exports=function(P,L){var U=a(P);return U<0?I(U+L,0):D(U,L)}},5290:(ae,se,y)=>{"use strict";var a=y(4413),I=y(4684);ae.exports=function(D){return a(I(D))}},8700:(ae,se,y)=>{"use strict";var a=y(8828);ae.exports=function(I){var D=+I;return D!=D||0===D?0:a(D)}},3126:(ae,se,y)=>{"use strict";var a=y(8700),I=Math.min;ae.exports=function(D){return D>0?I(a(D),9007199254740991):0}},690:(ae,se,y)=>{"use strict";var a=y(4684),I=Object;ae.exports=function(D){return I(a(D))}},8732:(ae,se,y)=>{"use strict";var a=y(2615),I=y(8999),D=y(734),P=y(4849),L=y(5899),U=y(4201),S=TypeError,F=U("toPrimitive");ae.exports=function(j,O){if(!I(j)||D(j))return j;var Q,$=P(j,F);if($){if(void 0===O&&(O="default"),Q=a($,j,O),!I(Q)||D(Q))return Q;throw new S("Can't convert object to primitive value")}return void 0===O&&(O="number"),L(j,O)}},8360:(ae,se,y)=>{"use strict";var a=y(8732),I=y(734);ae.exports=function(D){var P=a(D,"string");return I(P)?P:P+""}},3043:(ae,se,y)=>{"use strict";var D={};D[y(4201)("toStringTag")]="z",ae.exports="[object z]"===String(D)},3691:ae=>{"use strict";var se=String;ae.exports=function(y){try{return se(y)}catch{return"Object"}}},4630:(ae,se,y)=>{"use strict";var a=y(8844),I=0,D=Math.random(),P=a(1..toString);ae.exports=function(L){return"Symbol("+(void 0===L?"":L)+")_"+P(++I+D,36)}},9525:(ae,se,y)=>{"use strict";var a=y(146);ae.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:(ae,se,y)=>{"use strict";var a=y(7697),I=y(3689);ae.exports=a&&I(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},9834:(ae,se,y)=>{"use strict";var a=y(9037),I=y(9985),D=a.WeakMap;ae.exports=I(D)&&/native code/.test(String(D))},4201:(ae,se,y)=>{"use strict";var a=y(9037),I=y(3430),D=y(6812),P=y(4630),L=y(146),U=y(9525),S=a.Symbol,F=I("wks"),j=U?S.for||S:S&&S.withoutSetter||P;ae.exports=function(O){return D(F,O)||(F[O]=L&&D(S,O)?S[O]:j("Symbol."+O)),F[O]}},228:(ae,se,y)=>{"use strict";var a=y(3043),I=y(1880),D=y(5073);a||I(Object.prototype,"toString",D,{unsafe:!0})},4333:(ae,se,y)=>{"use strict";var a=y(9989),I=y(1735),D=y(509),P=y(5027);a({target:"Reflect",stat:!0,forced:!y(3689)(function(){Reflect.apply(function(){})})},{apply:function(F,j,O){return I(D(F),j,P(O))}})},50:(ae,se,y)=>{"use strict";var a=y(9989),I=y(6058),D=y(1735),P=y(6761),L=y(2655),U=y(5027),S=y(8999),F=y(5391),j=y(3689),O=I("Reflect","construct"),$=Object.prototype,Q=[].push,K=j(function(){function ne(){}return!(O(function(){},[],ne)instanceof ne)}),Z=!j(function(){O(function(){})}),ce=K||Z;a({target:"Reflect",stat:!0,forced:ce,sham:ce},{construct:function(ye,ee){L(ye),U(ee);var te=arguments.length<3?ye:L(arguments[2]);if(Z&&!K)return O(ye,ee,te);if(ye===te){switch(ee.length){case 0:return new ye;case 1:return new ye(ee[0]);case 2:return new ye(ee[0],ee[1]);case 3:return new ye(ee[0],ee[1],ee[2]);case 4:return new ye(ee[0],ee[1],ee[2],ee[3])}var Y=[null];return D(Q,Y,ee),new(D(P,ye,Y))}var M=te.prototype,k=F(S(M)?M:$),W=D(ye,k,ee);return S(W)?W:k}})},9871:(ae,se,y)=>{"use strict";var a=y(9989),I=y(7697),D=y(5027),P=y(8360),L=y(2560);a({target:"Reflect",stat:!0,forced:y(3689)(function(){Reflect.defineProperty(L.f({},1,{value:1}),1,{value:2})}),sham:!I},{defineProperty:function(j,O,$){D(j);var Q=P(O);D($);try{return L.f(j,Q,$),!0}catch{return!1}}})},1049:(ae,se,y)=>{"use strict";var a=y(9989),I=y(5027),D=y(2474).f;a({target:"Reflect",stat:!0},{deleteProperty:function(L,U){var S=D(I(L),U);return!(S&&!S.configurable)&&delete L[U]}})},149:(ae,se,y)=>{"use strict";var a=y(9989),I=y(7697),D=y(5027),P=y(2474);a({target:"Reflect",stat:!0,sham:!I},{getOwnPropertyDescriptor:function(U,S){return P.f(D(U),S)}})},3792:(ae,se,y)=>{"use strict";var a=y(9989),I=y(5027),D=y(1868);a({target:"Reflect",stat:!0,sham:!y(1748)},{getPrototypeOf:function(U){return D(I(U))}})},2349:(ae,se,y)=>{"use strict";var a=y(9989),I=y(2615),D=y(8999),P=y(5027),L=y(6251),U=y(2474),S=y(1868);a({target:"Reflect",stat:!0},{get:function F(j,O){var Q,K,$=arguments.length<3?j:arguments[2];return P(j)===$?j[O]:(Q=U.f(j,O))?L(Q)?Q.value:void 0===Q.get?void 0:I(Q.get,$):D(K=S(j))?F(K,O,$):void 0}})},9707:(ae,se,y)=>{"use strict";y(9989)({target:"Reflect",stat:!0},{has:function(D,P){return P in D}})},3545:(ae,se,y)=>{"use strict";var a=y(9989),I=y(5027),D=y(7049);a({target:"Reflect",stat:!0},{isExtensible:function(L){return I(L),D(L)}})},2087:(ae,se,y)=>{"use strict";y(9989)({target:"Reflect",stat:!0},{ownKeys:y(9152)})},1505:(ae,se,y)=>{"use strict";var a=y(9989),I=y(6058),D=y(5027);a({target:"Reflect",stat:!0,sham:!y(1594)},{preventExtensions:function(U){D(U);try{var S=I("Object","preventExtensions");return S&&S(U),!0}catch{return!1}}})},2373:(ae,se,y)=>{"use strict";var a=y(9989),I=y(5027),D=y(3550),P=y(9385);P&&a({target:"Reflect",stat:!0},{setPrototypeOf:function(U,S){I(U),D(S);try{return P(U,S),!0}catch{return!1}}})},5247:(ae,se,y)=>{"use strict";var a=y(9989),I=y(2615),D=y(5027),P=y(8999),L=y(6251),U=y(3689),S=y(2560),F=y(2474),j=y(1868),O=y(5684);a({target:"Reflect",stat:!0,forced:U(function(){var K=function(){},Z=S.f(new K,"a",{configurable:!0});return!1!==Reflect.set(K.prototype,"a",1,Z)})},{set:function $(K,Z,ce){var ee,te,Y,ne=arguments.length<4?K:arguments[3],ye=F.f(D(K),Z);if(!ye){if(P(te=j(K)))return $(te,Z,ce,ne);ye=O(0)}if(L(ye)){if(!1===ye.writable||!P(ne))return!1;if(ee=F.f(ne,Z)){if(ee.get||ee.set||!1===ee.writable)return!1;ee.value=ce,S.f(ne,Z,ee)}else S.f(ne,Z,O(0,ce))}else{if(void 0===(Y=ye.set))return!1;I(Y,ne,ce)}return!0}})},6034:(ae,se,y)=>{"use strict";var a=y(9989),I=y(9037),D=y(5997);a({global:!0},{Reflect:{}}),D(I.Reflect,"Reflect",!0)},7849:(ae,se,y)=>{"use strict";y.d(se,{Em:()=>he,tE:()=>ht,qm:()=>De,X6:()=>lt,yG:()=>je});var a=y(6814),I=y(5879),D=y(2831),P=y(8645),L=y(7394),U=y(5619),S=y(2096),F=y(6028),j=y(9397),O=y(3620),$=y(2181),Q=y(7398);function K(Le){return(0,$.h)((ve,pe)=>Le<=pe)}var Z=y(3997),ce=y(9773),ne=y(2495),ye=y(2572),ee=y(5211),te=y(5592),Y=y(8180),M=y(7921);const W=new Set;let be,J=(()=>{class Le{constructor(pe,xe){this._platform=pe,this._nonce=xe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fe}matchMedia(pe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Re(Le,ve){if(!W.has(Le))try{be||(be=document.createElement("style"),ve&&(be.nonce=ve),be.setAttribute("type","text/css"),document.head.appendChild(be)),be.sheet&&(be.sheet.insertRule(`@media ${Le} {body{ }}`,0),W.add(Le))}catch(pe){console.error(pe)}}(pe,this._nonce),this._matchMedia(pe)}static#e=this.\u0275fac=function(xe){return new(xe||Le)(I.LFG(D.t4),I.LFG(I.Ojb,8))};static#t=this.\u0275prov=I.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();function fe(Le){return{matches:"all"===Le||""===Le,media:Le,addListener:()=>{},removeListener:()=>{}}}let Ce=(()=>{class Le{constructor(pe,xe){this._mediaMatcher=pe,this._zone=xe,this._queries=new Map,this._destroySubject=new P.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(pe){return Pe((0,ne.Eq)(pe)).some(Ve=>this._registerQuery(Ve).mql.matches)}observe(pe){const Ve=Pe((0,ne.Eq)(pe)).map(Dt=>this._registerQuery(Dt).observable);let ot=(0,ye.a)(Ve);return ot=(0,ee.z)(ot.pipe((0,Y.q)(1)),ot.pipe(K(1),(0,O.b)(0))),ot.pipe((0,Q.U)(Dt=>{const en={matches:!1,breakpoints:{}};return Dt.forEach(({matches:Ln,query:Zn})=>{en.matches=en.matches||Ln,en.breakpoints[Zn]=Ln}),en}))}_registerQuery(pe){if(this._queries.has(pe))return this._queries.get(pe);const xe=this._mediaMatcher.matchMedia(pe),ot={observable:new te.y(Dt=>{const en=Ln=>this._zone.run(()=>Dt.next(Ln));return xe.addListener(en),()=>{xe.removeListener(en)}}).pipe((0,M.O)(xe),(0,Q.U)(({matches:Dt})=>({query:pe,matches:Dt})),(0,ce.R)(this._destroySubject)),mql:xe};return this._queries.set(pe,ot),ot}static#e=this.\u0275fac=function(xe){return new(xe||Le)(I.LFG(J),I.LFG(I.R0b))};static#t=this.\u0275prov=I.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();function Pe(Le){return Le.map(ve=>ve.split(",")).reduce((ve,pe)=>ve.concat(pe)).map(ve=>ve.trim())}class Ct{constructor(ve){this._items=ve,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new P.x,this._typeaheadSubscription=L.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=pe=>pe.disabled,this._pressedLetters=[],this.tabOut=new P.x,this.change=new P.x,ve instanceof I.n_E&&(this._itemChangesSubscription=ve.changes.subscribe(pe=>{if(this._activeItem){const Ve=pe.toArray().indexOf(this._activeItem);Ve>-1&&Ve!==this._activeItemIndex&&(this._activeItemIndex=Ve)}}))}skipPredicate(ve){return this._skipPredicateFn=ve,this}withWrap(ve=!0){return this._wrap=ve,this}withVerticalOrientation(ve=!0){return this._vertical=ve,this}withHorizontalOrientation(ve){return this._horizontal=ve,this}withAllowedModifierKeys(ve){return this._allowedModifierKeys=ve,this}withTypeAhead(ve=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,j.b)(pe=>this._pressedLetters.push(pe)),(0,O.b)(ve),(0,$.h)(()=>this._pressedLetters.length>0),(0,Q.U)(()=>this._pressedLetters.join(""))).subscribe(pe=>{const xe=this._getItemsArray();for(let Ve=1;Ve<xe.length+1;Ve++){const ot=(this._activeItemIndex+Ve)%xe.length,Dt=xe[ot];if(!this._skipPredicateFn(Dt)&&0===Dt.getLabel().toUpperCase().trim().indexOf(pe)){this.setActiveItem(ot);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ve=!0){return this._homeAndEnd=ve,this}withPageUpDown(ve=!0,pe=10){return this._pageUpAndDown={enabled:ve,delta:pe},this}setActiveItem(ve){const pe=this._activeItem;this.updateActiveItem(ve),this._activeItem!==pe&&this.change.next(this._activeItemIndex)}onKeydown(ve){const pe=ve.keyCode,Ve=["altKey","ctrlKey","metaKey","shiftKey"].every(ot=>!ve[ot]||this._allowedModifierKeys.indexOf(ot)>-1);switch(pe){case F.Mf:return void this.tabOut.next();case F.JH:if(this._vertical&&Ve){this.setNextItemActive();break}return;case F.LH:if(this._vertical&&Ve){this.setPreviousItemActive();break}return;case F.SV:if(this._horizontal&&Ve){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case F.oh:if(this._horizontal&&Ve){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case F.Sd:if(this._homeAndEnd&&Ve){this.setFirstItemActive();break}return;case F.uR:if(this._homeAndEnd&&Ve){this.setLastItemActive();break}return;case F.Ku:if(this._pageUpAndDown.enabled&&Ve){const ot=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(ot>0?ot:0,1);break}return;case F.VM:if(this._pageUpAndDown.enabled&&Ve){const ot=this._activeItemIndex+this._pageUpAndDown.delta,Dt=this._getItemsArray().length;this._setActiveItemByIndex(ot<Dt?ot:Dt-1,-1);break}return;default:return void((Ve||(0,F.Vb)(ve,"shiftKey"))&&(ve.key&&1===ve.key.length?this._letterKeyStream.next(ve.key.toLocaleUpperCase()):(pe>=F.A&&pe<=F.Z||pe>=F.xE&&pe<=F.aO)&&this._letterKeyStream.next(String.fromCharCode(pe))))}this._pressedLetters=[],ve.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ve){const pe=this._getItemsArray(),xe="number"==typeof ve?ve:pe.indexOf(ve);this._activeItem=pe[xe]??null,this._activeItemIndex=xe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ve){this._wrap?this._setActiveInWrapMode(ve):this._setActiveInDefaultMode(ve)}_setActiveInWrapMode(ve){const pe=this._getItemsArray();for(let xe=1;xe<=pe.length;xe++){const Ve=(this._activeItemIndex+ve*xe+pe.length)%pe.length;if(!this._skipPredicateFn(pe[Ve]))return void this.setActiveItem(Ve)}}_setActiveInDefaultMode(ve){this._setActiveItemByIndex(this._activeItemIndex+ve,ve)}_setActiveItemByIndex(ve,pe){const xe=this._getItemsArray();if(xe[ve]){for(;this._skipPredicateFn(xe[ve]);)if(!xe[ve+=pe])return;this.setActiveItem(ve)}}_getItemsArray(){return this._items instanceof I.n_E?this._items.toArray():this._items}}class he extends Ct{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ve){return this._origin=ve,this}setActiveItem(ve){super.setActiveItem(ve),this.activeItem&&this.activeItem.focus(this._origin)}}function lt(Le){return 0===Le.buttons||0===Le.offsetX&&0===Le.offsetY}function je(Le){const ve=Le.touches&&Le.touches[0]||Le.changedTouches&&Le.changedTouches[0];return!(!ve||-1!==ve.identifier||null!=ve.radiusX&&1!==ve.radiusX||null!=ve.radiusY&&1!==ve.radiusY)}const bt=new I.OlP("cdk-input-modality-detector-options"),ft={ignoreKeys:[F.zL,F.jx,F.b2,F.MW,F.JU]},Gt=(0,D.i$)({passive:!0,capture:!0});let dn=(()=>{class Le{get mostRecentModality(){return this._modality.value}constructor(pe,xe,Ve,ot){this._platform=pe,this._mostRecentTarget=null,this._modality=new U.X(null),this._lastTouchMs=0,this._onKeydown=Dt=>{this._options?.ignoreKeys?.some(en=>en===Dt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,D.sA)(Dt))},this._onMousedown=Dt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lt(Dt)?"keyboard":"mouse"),this._mostRecentTarget=(0,D.sA)(Dt))},this._onTouchstart=Dt=>{je(Dt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,D.sA)(Dt))},this._options={...ft,...ot},this.modalityDetected=this._modality.pipe(K(1)),this.modalityChanged=this.modalityDetected.pipe((0,Z.x)()),pe.isBrowser&&xe.runOutsideAngular(()=>{Ve.addEventListener("keydown",this._onKeydown,Gt),Ve.addEventListener("mousedown",this._onMousedown,Gt),Ve.addEventListener("touchstart",this._onTouchstart,Gt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gt),document.removeEventListener("mousedown",this._onMousedown,Gt),document.removeEventListener("touchstart",this._onTouchstart,Gt))}static#e=this.\u0275fac=function(xe){return new(xe||Le)(I.LFG(D.t4),I.LFG(I.R0b),I.LFG(a.K0),I.LFG(bt,8))};static#t=this.\u0275prov=I.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();const Mn=new I.OlP("cdk-focus-monitor-default-options"),_i=(0,D.i$)({passive:!0,capture:!0});let ht=(()=>{class Le{constructor(pe,xe,Ve,ot,Dt){this._ngZone=pe,this._platform=xe,this._inputModalityDetector=Ve,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new P.x,this._rootNodeFocusAndBlurListener=en=>{for(let Zn=(0,D.sA)(en);Zn;Zn=Zn.parentElement)"focus"===en.type?this._onFocus(en,Zn):this._onBlur(en,Zn)},this._document=ot,this._detectionMode=Dt?.detectionMode||0}monitor(pe,xe=!1){const Ve=(0,ne.fI)(pe);if(!this._platform.isBrowser||1!==Ve.nodeType)return(0,S.of)();const ot=(0,D.kV)(Ve)||this._getDocument(),Dt=this._elementInfo.get(Ve);if(Dt)return xe&&(Dt.checkChildren=!0),Dt.subject;const en={checkChildren:xe,subject:new P.x,rootNode:ot};return this._elementInfo.set(Ve,en),this._registerGlobalListeners(en),en.subject}stopMonitoring(pe){const xe=(0,ne.fI)(pe),Ve=this._elementInfo.get(xe);Ve&&(Ve.subject.complete(),this._setClasses(xe),this._elementInfo.delete(xe),this._removeGlobalListeners(Ve))}focusVia(pe,xe,Ve){const ot=(0,ne.fI)(pe);ot===this._getDocument().activeElement?this._getClosestElementsInfo(ot).forEach(([en,Ln])=>this._originChanged(en,xe,Ln)):(this._setOrigin(xe),"function"==typeof ot.focus&&ot.focus(Ve))}ngOnDestroy(){this._elementInfo.forEach((pe,xe)=>this.stopMonitoring(xe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(pe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(pe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:pe&&this._isLastInteractionFromInputLabel(pe)?"mouse":"program"}_shouldBeAttributedToTouch(pe){return 1===this._detectionMode||!!pe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(pe,xe){pe.classList.toggle("cdk-focused",!!xe),pe.classList.toggle("cdk-touch-focused","touch"===xe),pe.classList.toggle("cdk-keyboard-focused","keyboard"===xe),pe.classList.toggle("cdk-mouse-focused","mouse"===xe),pe.classList.toggle("cdk-program-focused","program"===xe)}_setOrigin(pe,xe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=pe,this._originFromTouchInteraction="touch"===pe&&xe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(pe,xe){const Ve=this._elementInfo.get(xe),ot=(0,D.sA)(pe);!Ve||!Ve.checkChildren&&xe!==ot||this._originChanged(xe,this._getFocusOrigin(ot),Ve)}_onBlur(pe,xe){const Ve=this._elementInfo.get(xe);!Ve||Ve.checkChildren&&pe.relatedTarget instanceof Node&&xe.contains(pe.relatedTarget)||(this._setClasses(xe),this._emitOrigin(Ve,null))}_emitOrigin(pe,xe){pe.subject.observers.length&&this._ngZone.run(()=>pe.subject.next(xe))}_registerGlobalListeners(pe){if(!this._platform.isBrowser)return;const xe=pe.rootNode,Ve=this._rootNodeFocusListenerCount.get(xe)||0;Ve||this._ngZone.runOutsideAngular(()=>{xe.addEventListener("focus",this._rootNodeFocusAndBlurListener,_i),xe.addEventListener("blur",this._rootNodeFocusAndBlurListener,_i)}),this._rootNodeFocusListenerCount.set(xe,Ve+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ce.R)(this._stopInputModalityDetector)).subscribe(ot=>{this._setOrigin(ot,!0)}))}_removeGlobalListeners(pe){const xe=pe.rootNode;if(this._rootNodeFocusListenerCount.has(xe)){const Ve=this._rootNodeFocusListenerCount.get(xe);Ve>1?this._rootNodeFocusListenerCount.set(xe,Ve-1):(xe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_i),xe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_i),this._rootNodeFocusListenerCount.delete(xe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(pe,xe,Ve){this._setClasses(pe,xe),this._emitOrigin(Ve,xe),this._lastFocusOrigin=xe}_getClosestElementsInfo(pe){const xe=[];return this._elementInfo.forEach((Ve,ot)=>{(ot===pe||Ve.checkChildren&&ot.contains(pe))&&xe.push([ot,Ve])}),xe}_isLastInteractionFromInputLabel(pe){const{_mostRecentTarget:xe,mostRecentModality:Ve}=this._inputModalityDetector;if("mouse"!==Ve||!xe||xe===pe||"INPUT"!==pe.nodeName&&"TEXTAREA"!==pe.nodeName||pe.disabled)return!1;const ot=pe.labels;if(ot)for(let Dt=0;Dt<ot.length;Dt++)if(ot[Dt].contains(xe))return!0;return!1}static#e=this.\u0275fac=function(xe){return new(xe||Le)(I.LFG(I.R0b),I.LFG(D.t4),I.LFG(dn),I.LFG(a.K0,8),I.LFG(Mn,8))};static#t=this.\u0275prov=I.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})();const z="cdk-high-contrast-black-on-white",oe="cdk-high-contrast-white-on-black",Ne="cdk-high-contrast-active";let De=(()=>{class Le{constructor(pe,xe){this._platform=pe,this._document=xe,this._breakpointSubscription=(0,I.f3M)(Ce).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const pe=this._document.createElement("div");pe.style.backgroundColor="rgb(1,2,3)",pe.style.position="absolute",this._document.body.appendChild(pe);const xe=this._document.defaultView||window,Ve=xe&&xe.getComputedStyle?xe.getComputedStyle(pe):null,ot=(Ve&&Ve.backgroundColor||"").replace(/ /g,"");switch(pe.remove(),ot){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const pe=this._document.body.classList;pe.remove(Ne,z,oe),this._hasCheckedHighContrastMode=!0;const xe=this.getHighContrastMode();1===xe?pe.add(Ne,z):2===xe&&pe.add(Ne,oe)}}static#e=this.\u0275fac=function(xe){return new(xe||Le)(I.LFG(D.t4),I.LFG(a.K0))};static#t=this.\u0275prov=I.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},9388:(ae,se,y)=>{"use strict";y.d(se,{Is:()=>S,vT:()=>j});var a=y(5879),I=y(6814);const D=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function P(){return(0,a.f3M)(I.K0)}}),L=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let S=(()=>{class O{constructor(Q){this.value="ltr",this.change=new a.vpe,Q&&(this.value=function U(O){const $=O?.toLowerCase()||"";return"auto"===$&&typeof navigator<"u"&&navigator?.language?L.test(navigator.language)?"rtl":"ltr":"rtl"===$?"rtl":"ltr"}((Q.body?Q.body.dir:null)||(Q.documentElement?Q.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(K){return new(K||O)(a.LFG(D,8))};static#t=this.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),j=(()=>{class O{static#e=this.\u0275fac=function(K){return new(K||O)};static#t=this.\u0275mod=a.oAB({type:O});static#n=this.\u0275inj=a.cJS({})}return O})()},2495:(ae,se,y)=>{"use strict";y.d(se,{Eq:()=>L,HM:()=>U,Ig:()=>I,fI:()=>S,su:()=>D});var a=y(5879);function I(j){return null!=j&&"false"!=`${j}`}function D(j,O=0){return function P(j){return!isNaN(parseFloat(j))&&!isNaN(Number(j))}(j)?Number(j):O}function L(j){return Array.isArray(j)?j:[j]}function U(j){return null==j?"":"string"==typeof j?j:`${j}px`}function S(j){return j instanceof a.SBq?j.nativeElement:j}},6028:(ae,se,y)=>{"use strict";y.d(se,{A:()=>at,JH:()=>Y,JU:()=>U,K5:()=>L,Ku:()=>K,LH:()=>ee,L_:()=>Q,MW:()=>Ae,Mf:()=>D,SV:()=>te,Sd:()=>ne,VM:()=>Z,Vb:()=>Hn,Z:()=>Si,aO:()=>wn,b2:()=>Xn,hY:()=>$,jx:()=>S,oh:()=>ye,uR:()=>ce,xE:()=>J,zL:()=>F});const D=9,L=13,U=16,S=17,F=18,$=27,Q=32,K=33,Z=34,ce=35,ne=36,ye=37,ee=38,te=39,Y=40,J=48,wn=57,at=65,Si=90,Ae=91,Xn=224;function Hn(Mi,...yi){return yi.length?yi.some(Gn=>Mi[Gn]):Mi.altKey||Mi.shiftKey||Mi.ctrlKey||Mi.metaKey}},2831:(ae,se,y)=>{"use strict";y.d(se,{Mq:()=>Z,Oy:()=>M,i$:()=>$,kV:()=>ee,qK:()=>F,sA:()=>Y,t4:()=>P});var a=y(5879),I=y(6814);let D;try{D=typeof Intl<"u"&&Intl.v8BreakIterator}catch{D=!1}let U,P=(()=>{class k{constructor(be){this._platformId=be,this.isBrowser=this._platformId?(0,I.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!D)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(J){return new(J||k)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})();const S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function F(){if(U)return U;if("object"!=typeof document||!document)return U=new Set(S),U;let k=document.createElement("input");return U=new Set(S.filter(W=>(k.setAttribute("type",W),k.type===W))),U}let j,K,ne;function $(k){return function O(){if(null==j&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>j=!0}))}finally{j=j||!1}return j}()?k:!!k.capture}function Z(){if(null==K){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return K=!1,K;if("scrollBehavior"in document.documentElement.style)K=!0;else{const k=Element.prototype.scrollTo;K=!!k&&!/\{\s*\[native code\]\s*\}/.test(k.toString())}}return K}function ee(k){if(function ye(){if(null==ne){const k=typeof document<"u"?document.head:null;ne=!(!k||!k.createShadowRoot&&!k.attachShadow)}return ne}()){const W=k.getRootNode?k.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&W instanceof ShadowRoot)return W}return null}function Y(k){return k.composedPath?k.composedPath()[0]:k.target}function M(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6814:(ae,se,y)=>{"use strict";y.d(se,{Do:()=>ne,EM:()=>Ls,HT:()=>P,JF:()=>Vs,K0:()=>U,Mx:()=>xt,NF:()=>Fs,O5:()=>Xn,Ov:()=>Cu,PM:()=>Au,RF:()=>Gn,S$:()=>K,V_:()=>F,Ye:()=>ye,b0:()=>ce,bD:()=>Ri,ez:()=>hs,mk:()=>Vt,n9:()=>bi,q:()=>D,sg:()=>Xt,tP:()=>Sn,uU:()=>vr,w_:()=>L});var a=y(5879);let I=null;function D(){return I}function P(C){I||(I=C)}class L{}const U=new a.OlP("DocumentToken");let S=(()=>{class C{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275prov=a.Yz7({token:C,factory:function(){return(0,a.f3M)(j)},providedIn:"platform"})}return C})();const F=new a.OlP("Location Initialized");let j=(()=>{class C extends S{constructor(){super(),this._doc=(0,a.f3M)(U),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return D().getBaseHref(this._doc)}onPopState(N){const X=D().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",N,!1),()=>X.removeEventListener("popstate",N)}onHashChange(N){const X=D().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",N,!1),()=>X.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,X,Ie){this._history.pushState(N,X,Ie)}replaceState(N,X,Ie){this._history.replaceState(N,X,Ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275prov=a.Yz7({token:C,factory:function(){return new C},providedIn:"platform"})}return C})();function O(C,re){if(0==C.length)return re;if(0==re.length)return C;let N=0;return C.endsWith("/")&&N++,re.startsWith("/")&&N++,2==N?C+re.substring(1):1==N?C+re:C+"/"+re}function $(C){const re=C.match(/#|\?|$/),N=re&&re.index||C.length;return C.slice(0,N-("/"===C[N-1]?1:0))+C.slice(N)}function Q(C){return C&&"?"!==C[0]?"?"+C:C}let K=(()=>{class C{historyGo(N){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275prov=a.Yz7({token:C,factory:function(){return(0,a.f3M)(ce)},providedIn:"root"})}return C})();const Z=new a.OlP("appBaseHref");let ce=(()=>{class C extends K{constructor(N,X){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(U).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return O(this._baseHref,N)}path(N=!1){const X=this._platformLocation.pathname+Q(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&N?`${X}${Ie}`:X}pushState(N,X,Ie,st){const Et=this.prepareExternalUrl(Ie+Q(st));this._platformLocation.pushState(N,X,Et)}replaceState(N,X,Ie,st){const Et=this.prepareExternalUrl(Ie+Q(st));this._platformLocation.replaceState(N,X,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(X){return new(X||C)(a.LFG(S),a.LFG(Z,8))};static#t=this.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ne=(()=>{class C extends K{constructor(N,X){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(N){const X=O(this._baseHref,N);return X.length>0?"#"+X:X}pushState(N,X,Ie,st){let Et=this.prepareExternalUrl(Ie+Q(st));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(N,X,Et)}replaceState(N,X,Ie,st){let Et=this.prepareExternalUrl(Ie+Q(st));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(N,X,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static#e=this.\u0275fac=function(X){return new(X||C)(a.LFG(S),a.LFG(Z,8))};static#t=this.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac})}return C})(),ye=(()=>{class C{constructor(N){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const X=this._locationStrategy.getBaseHref();this._basePath=function M(C){if(new RegExp("^(https?:)?//").test(C)){const[,N]=C.split(/\/\/[^\/]+/);return N}return C}($(Y(X))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,X=""){return this.path()==this.normalize(N+Q(X))}normalize(N){return C.stripTrailingSlash(function te(C,re){if(!C||!re.startsWith(C))return re;const N=re.substring(C.length);return""===N||["/",";","?","#"].includes(N[0])?N:re}(this._basePath,Y(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,X="",Ie=null){this._locationStrategy.pushState(Ie,"",N,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Q(X)),Ie)}replaceState(N,X="",Ie=null){this._locationStrategy.replaceState(Ie,"",N,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Q(X)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",X){this._urlChangeListeners.forEach(Ie=>Ie(N,X))}subscribe(N,X,Ie){return this._subject.subscribe({next:N,error:X,complete:Ie})}static#e=this.normalizeQueryParams=Q;static#t=this.joinWithSlash=O;static#n=this.stripTrailingSlash=$;static#i=this.\u0275fac=function(X){return new(X||C)(a.LFG(K))};static#r=this.\u0275prov=a.Yz7({token:C,factory:function(){return function ee(){return new ye((0,a.LFG)(K))}()},providedIn:"root"})}return C})();function Y(C){return C.replace(/\/index.html$/,"")}var J=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(J||{}),Re=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(Re||{}),fe=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}(fe||{}),Ce=function(C){return C[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C}(Ce||{});function Ke(C,re){return An((0,a.cg1)(C)[a.wAp.DateFormat],re)}function $e(C,re){return An((0,a.cg1)(C)[a.wAp.TimeFormat],re)}function at(C,re){return An((0,a.cg1)(C)[a.wAp.DateTimeFormat],re)}function ze(C,re){const N=(0,a.cg1)(C),X=N[a.wAp.NumberSymbols][re];if(typeof X>"u"){if(re===Ce.CurrencyDecimal)return N[a.wAp.NumberSymbols][Ce.Decimal];if(re===Ce.CurrencyGroup)return N[a.wAp.NumberSymbols][Ce.Group]}return X}function Ut(C){if(!C[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function An(C,re){for(let N=re;N>-1;N--)if(typeof C[N]<"u")return C[N];throw new Error("Locale data API: locale data undefined")}function ge(C){const[re,N]=C.split(":");return{hours:+re,minutes:+N}}const We=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mt={},Tt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Nt=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(Nt||{}),Qt=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(Qt||{}),jt=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(jt||{});function Fn(C,re,N,X){let Ie=function z(C){if(Ne(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[Ie,st=1,Et=1]=C.split("-").map(un=>+un);return Wn(Ie,st-1,Et)}const N=parseFloat(C);if(!isNaN(C-N))return new Date(N);let X;if(X=C.match(We))return function oe(C){const re=new Date(0);let N=0,X=0;const Ie=C[8]?re.setUTCFullYear:re.setFullYear,st=C[8]?re.setUTCHours:re.setHours;C[9]&&(N=Number(C[9]+C[10]),X=Number(C[9]+C[11])),Ie.call(re,Number(C[1]),Number(C[2])-1,Number(C[3]));const Et=Number(C[4]||0)-N,un=Number(C[5]||0)-X,Ci=Number(C[6]||0),Di=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return st.call(re,Et,un,Ci,Di),re}(X)}const re=new Date(C);if(!Ne(re))throw new Error(`Unable to convert "${C}" into a date`);return re}(C);re=Si(N,re)||re;let un,Et=[];for(;re;){if(un=Tt.exec(re),!un){Et.push(re);break}{Et=Et.concat(un.slice(1));const li=Et.pop();if(!li)break;re=li}}let Ci=Ie.getTimezoneOffset();X&&(Ci=_i(X,Ci),Ie=function ie(C,re,N){const X=N?-1:1,Ie=C.getTimezoneOffset();return function ht(C,re){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+re),C}(C,X*(_i(re,Ie)-Ie))}(Ie,X,!0));let Di="";return Et.forEach(li=>{const qn=function Mn(C){if(Yn[C])return Yn[C];let re;switch(C){case"G":case"GG":case"GGG":re=ft(jt.Eras,Re.Abbreviated);break;case"GGGG":re=ft(jt.Eras,Re.Wide);break;case"GGGGG":re=ft(jt.Eras,Re.Narrow);break;case"y":re=je(Qt.FullYear,1,0,!1,!0);break;case"yy":re=je(Qt.FullYear,2,0,!0,!0);break;case"yyy":re=je(Qt.FullYear,3,0,!1,!0);break;case"yyyy":re=je(Qt.FullYear,4,0,!1,!0);break;case"Y":re=Tn(1);break;case"YY":re=Tn(2,!0);break;case"YYY":re=Tn(3);break;case"YYYY":re=Tn(4);break;case"M":case"L":re=je(Qt.Month,1,1);break;case"MM":case"LL":re=je(Qt.Month,2,1);break;case"MMM":re=ft(jt.Months,Re.Abbreviated);break;case"MMMM":re=ft(jt.Months,Re.Wide);break;case"MMMMM":re=ft(jt.Months,Re.Narrow);break;case"LLL":re=ft(jt.Months,Re.Abbreviated,J.Standalone);break;case"LLLL":re=ft(jt.Months,Re.Wide,J.Standalone);break;case"LLLLL":re=ft(jt.Months,Re.Narrow,J.Standalone);break;case"w":re=mn(1);break;case"ww":re=mn(2);break;case"W":re=mn(1,!0);break;case"d":re=je(Qt.Date,1);break;case"dd":re=je(Qt.Date,2);break;case"c":case"cc":re=je(Qt.Day,1);break;case"ccc":re=ft(jt.Days,Re.Abbreviated,J.Standalone);break;case"cccc":re=ft(jt.Days,Re.Wide,J.Standalone);break;case"ccccc":re=ft(jt.Days,Re.Narrow,J.Standalone);break;case"cccccc":re=ft(jt.Days,Re.Short,J.Standalone);break;case"E":case"EE":case"EEE":re=ft(jt.Days,Re.Abbreviated);break;case"EEEE":re=ft(jt.Days,Re.Wide);break;case"EEEEE":re=ft(jt.Days,Re.Narrow);break;case"EEEEEE":re=ft(jt.Days,Re.Short);break;case"a":case"aa":case"aaa":re=ft(jt.DayPeriods,Re.Abbreviated);break;case"aaaa":re=ft(jt.DayPeriods,Re.Wide);break;case"aaaaa":re=ft(jt.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":re=ft(jt.DayPeriods,Re.Abbreviated,J.Standalone,!0);break;case"bbbb":re=ft(jt.DayPeriods,Re.Wide,J.Standalone,!0);break;case"bbbbb":re=ft(jt.DayPeriods,Re.Narrow,J.Standalone,!0);break;case"B":case"BB":case"BBB":re=ft(jt.DayPeriods,Re.Abbreviated,J.Format,!0);break;case"BBBB":re=ft(jt.DayPeriods,Re.Wide,J.Format,!0);break;case"BBBBB":re=ft(jt.DayPeriods,Re.Narrow,J.Format,!0);break;case"h":re=je(Qt.Hours,1,-12);break;case"hh":re=je(Qt.Hours,2,-12);break;case"H":re=je(Qt.Hours,1);break;case"HH":re=je(Qt.Hours,2);break;case"m":re=je(Qt.Minutes,1);break;case"mm":re=je(Qt.Minutes,2);break;case"s":re=je(Qt.Seconds,1);break;case"ss":re=je(Qt.Seconds,2);break;case"S":re=je(Qt.FractionalSeconds,1);break;case"SS":re=je(Qt.FractionalSeconds,2);break;case"SSS":re=je(Qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=Gt(Nt.Short);break;case"ZZZZZ":re=Gt(Nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=Gt(Nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=Gt(Nt.Long);break;default:return null}return Yn[C]=re,re}(li);Di+=qn?qn(Ie,N,Ci):"''"===li?"'":li.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Di}function Wn(C,re,N){const X=new Date(0);return X.setFullYear(C,re,N),X.setHours(0,0,0),X}function Si(C,re){const N=function Be(C){return(0,a.cg1)(C)[a.wAp.LocaleId]}(C);if(mt[N]=mt[N]||{},mt[N][re])return mt[N][re];let X="";switch(re){case"shortDate":X=Ke(C,fe.Short);break;case"mediumDate":X=Ke(C,fe.Medium);break;case"longDate":X=Ke(C,fe.Long);break;case"fullDate":X=Ke(C,fe.Full);break;case"shortTime":X=$e(C,fe.Short);break;case"mediumTime":X=$e(C,fe.Medium);break;case"longTime":X=$e(C,fe.Long);break;case"fullTime":X=$e(C,fe.Full);break;case"short":const Ie=Si(C,"shortTime"),st=Si(C,"shortDate");X=Ae(at(C,fe.Short),[Ie,st]);break;case"medium":const Et=Si(C,"mediumTime"),un=Si(C,"mediumDate");X=Ae(at(C,fe.Medium),[Et,un]);break;case"long":const Ci=Si(C,"longTime"),Di=Si(C,"longDate");X=Ae(at(C,fe.Long),[Ci,Di]);break;case"full":const li=Si(C,"fullTime"),qn=Si(C,"fullDate");X=Ae(at(C,fe.Full),[li,qn])}return X&&(mt[N][re]=X),X}function Ae(C,re){return re&&(C=C.replace(/\{([^}]+)}/g,function(N,X){return null!=re&&X in re?re[X]:N})),C}function Ze(C,re,N="-",X,Ie){let st="";(C<0||Ie&&C<=0)&&(Ie?C=1-C:(C=-C,st=N));let Et=String(C);for(;Et.length<re;)Et="0"+Et;return X&&(Et=Et.slice(Et.length-re)),st+Et}function je(C,re,N=0,X=!1,Ie=!1){return function(st,Et){let un=function bt(C,re){switch(C){case Qt.FullYear:return re.getFullYear();case Qt.Month:return re.getMonth();case Qt.Date:return re.getDate();case Qt.Hours:return re.getHours();case Qt.Minutes:return re.getMinutes();case Qt.Seconds:return re.getSeconds();case Qt.FractionalSeconds:return re.getMilliseconds();case Qt.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,st);if((N>0||un>-N)&&(un+=N),C===Qt.Hours)0===un&&-12===N&&(un=12);else if(C===Qt.FractionalSeconds)return function lt(C,re){return Ze(C,3).substring(0,re)}(un,re);const Ci=ze(Et,Ce.MinusSign);return Ze(un,re,Ci,X,Ie)}}function ft(C,re,N=J.Format,X=!1){return function(Ie,st){return function Ft(C,re,N,X,Ie,st){switch(N){case jt.Months:return function St(C,re,N){const X=(0,a.cg1)(C),st=An([X[a.wAp.MonthsFormat],X[a.wAp.MonthsStandalone]],re);return An(st,N)}(re,Ie,X)[C.getMonth()];case jt.Days:return function Ht(C,re,N){const X=(0,a.cg1)(C),st=An([X[a.wAp.DaysFormat],X[a.wAp.DaysStandalone]],re);return An(st,N)}(re,Ie,X)[C.getDay()];case jt.DayPeriods:const Et=C.getHours(),un=C.getMinutes();if(st){const Di=function _n(C){const re=(0,a.cg1)(C);return Ut(re),(re[a.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?ge(X):[ge(X[0]),ge(X[1])])}(re),li=function fn(C,re,N){const X=(0,a.cg1)(C);Ut(X);const st=An([X[a.wAp.ExtraData][0],X[a.wAp.ExtraData][1]],re)||[];return An(st,N)||[]}(re,Ie,X),qn=Di.findIndex(wi=>{if(Array.isArray(wi)){const[Ei,qi]=wi,nr=Et>=Ei.hours&&un>=Ei.minutes,Yo=Et<qi.hours||Et===qi.hours&&un<qi.minutes;if(Ei.hours<qi.hours){if(nr&&Yo)return!0}else if(nr||Yo)return!0}else if(wi.hours===Et&&wi.minutes===un)return!0;return!1});if(-1!==qn)return li[qn]}return function vt(C,re,N){const X=(0,a.cg1)(C),st=An([X[a.wAp.DayPeriodsFormat],X[a.wAp.DayPeriodsStandalone]],re);return An(st,N)}(re,Ie,X)[Et<12?0:1];case jt.Eras:return function wn(C,re){return An((0,a.cg1)(C)[a.wAp.Eras],re)}(re,X)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${N}`)}}(Ie,st,C,re,N,X)}}function Gt(C){return function(re,N,X){const Ie=-1*X,st=ze(N,Ce.MinusSign),Et=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(C){case Nt.Short:return(Ie>=0?"+":"")+Ze(Et,2,st)+Ze(Math.abs(Ie%60),2,st);case Nt.ShortGMT:return"GMT"+(Ie>=0?"+":"")+Ze(Et,1,st);case Nt.Long:return"GMT"+(Ie>=0?"+":"")+Ze(Et,2,st)+":"+Ze(Math.abs(Ie%60),2,st);case Nt.Extended:return 0===X?"Z":(Ie>=0?"+":"")+Ze(Et,2,st)+":"+Ze(Math.abs(Ie%60),2,st);default:throw new Error(`Unknown zone width "${C}"`)}}}const dn=0,an=4;function ln(C){return Wn(C.getFullYear(),C.getMonth(),C.getDate()+(an-C.getDay()))}function mn(C,re=!1){return function(N,X){let Ie;if(re){const st=new Date(N.getFullYear(),N.getMonth(),1).getDay()-1,Et=N.getDate();Ie=1+Math.floor((Et+st)/7)}else{const st=ln(N),Et=function cn(C){const re=Wn(C,dn,1).getDay();return Wn(C,0,1+(re<=an?an:an+7)-re)}(st.getFullYear()),un=st.getTime()-Et.getTime();Ie=1+Math.round(un/6048e5)}return Ze(Ie,C,ze(X,Ce.MinusSign))}}function Tn(C,re=!1){return function(N,X){return Ze(ln(N).getFullYear(),C,ze(X,Ce.MinusSign),re)}}const Yn={};function _i(C,re){C=C.replace(/:/g,"");const N=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(N)?re:N}function Ne(C){return C instanceof Date&&!isNaN(C.valueOf())}function xt(C,re){re=encodeURIComponent(re);for(const N of C.split(";")){const X=N.indexOf("="),[Ie,st]=-1==X?[N,""]:[N.slice(0,X),N.slice(X+1)];if(Ie.trim()===re)return decodeURIComponent(st)}return null}const kt=/\s+/,wt=[];let Vt=(()=>{class C{constructor(N,X,Ie,st){this._iterableDiffers=N,this._keyValueDiffers=X,this._ngEl=Ie,this._renderer=st,this.initialClasses=wt,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(kt):wt}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(kt):N}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const X of N)this._updateState(X,!0);else if(null!=N)for(const X of Object.keys(N))this._updateState(X,!!N[X]);this._applyStateDiff()}_updateState(N,X){const Ie=this.stateMap.get(N);void 0!==Ie?(Ie.enabled!==X&&(Ie.changed=!0,Ie.enabled=X),Ie.touched=!0):this.stateMap.set(N,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const X=N[0],Ie=N[1];Ie.changed?(this._toggleClass(X,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),Ie.touched=!1}}_toggleClass(N,X){(N=N.trim()).length>0&&N.split(kt).forEach(Ie=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return C})();class Vn{constructor(re,N,X,Ie){this.$implicit=re,this.ngForOf=N,this.index=X,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xt=(()=>{class C{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,X,Ie){this._viewContainer=N,this._template=X,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const X=this._viewContainer;N.forEachOperation((Ie,st,Et)=>{if(null==Ie.previousIndex)X.createEmbeddedView(this._template,new Vn(Ie.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)X.remove(null===st?void 0:st);else if(null!==st){const un=X.get(st);X.move(un,Et),Rn(un,Ie)}});for(let Ie=0,st=X.length;Ie<st;Ie++){const un=X.get(Ie).context;un.index=Ie,un.count=st,un.ngForOf=this._ngForOf}N.forEachIdentityChange(Ie=>{Rn(X.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(N,X){return!0}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function Rn(C,re){C.context.$implicit=re.item}let Xn=(()=>{class C{constructor(N,X){this._viewContainer=N,this._context=new Hn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Mi("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Mi("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,X){return!0}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class Hn{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(C,re){if(re&&!re.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,a.AaK)(re)}'.`)}class yi{constructor(re,N){this._viewContainerRef=re,this._templateRef=N,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(re){re&&!this._created?this.create():!re&&this._created&&this.destroy()}}let Gn=(()=>{class C{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(N){this._ngSwitch=N,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(N){this._defaultViews.push(N)}_matchCase(N){const X=N==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(N){if(this._defaultViews.length>0&&N!==this._defaultUsed){this._defaultUsed=N;for(const X of this._defaultViews)X.enforceState(N)}}static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275dir=a.lG2({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return C})(),bi=(()=>{class C{constructor(N,X,Ie){this.ngSwitch=Ie,Ie._addCase(),this._view=new yi(N,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Gn,9))};static#t=this.\u0275dir=a.lG2({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return C})(),Sn=(()=>{class C{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ie,ngTemplateOutletContext:st,ngTemplateOutletInjector:Et}=this;this._viewRef=X.createEmbeddedView(Ie,st,Et?{injector:Et}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return C})();function Br(C,re){return new a.vHH(2100,!1)}class zo{createSubscription(re,N){return(0,a.rg0)(()=>re.subscribe({next:N,error:X=>{throw X}}))}dispose(re){(0,a.rg0)(()=>re.unsubscribe())}}class as{createSubscription(re,N){return re.then(N,X=>{throw X})}dispose(re){}}const Go=new as,So=new zo;let Cu=(()=>{class C{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,X=>this._updateLatestValue(N,X))}_selectStrategy(N){if((0,a.QGY)(N))return Go;if((0,a.F4k)(N))return So;throw Br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,X){N===this._obj&&(this._latestValue=X,this._ref.markForCheck())}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.sBO,16))};static#t=this.\u0275pipe=a.Yjl({name:"async",type:C,pure:!1,standalone:!0})}return C})();const ri=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wi=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let vr=(()=>{class C{constructor(N,X,Ie){this.locale=N,this.defaultTimezone=X,this.defaultOptions=Ie}transform(N,X,Ie,st){if(null==N||""===N||N!=N)return null;try{return Fn(N,X??this.defaultOptions?.dateFormat??"mediumDate",st||this.locale,Ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Et){throw Br()}}static#e=this.\u0275fac=function(X){return new(X||C)(a.Y36(a.soG,16),a.Y36(ri,24),a.Y36(Wi,24))};static#t=this.\u0275pipe=a.Yjl({name:"date",type:C,pure:!0,standalone:!0})}return C})(),hs=(()=>{class C{static#e=this.\u0275fac=function(X){return new(X||C)};static#t=this.\u0275mod=a.oAB({type:C});static#n=this.\u0275inj=a.cJS({})}return C})();const Ri="browser",Wo="server";function Fs(C){return C===Ri}function Au(C){return C===Wo}let Ls=(()=>{class C{static#e=this.\u0275prov=(0,a.Yz7)({token:C,providedIn:"root",factory:()=>new fo((0,a.LFG)(U),window)})}return C})();class fo{constructor(re,N){this.document=re,this.window=N,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const N=function Cc(C,re){const N=C.getElementById(re)||C.getElementsByName(re)[0];if(N)return N;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const X=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let Ie=X.currentNode;for(;Ie;){const st=Ie.shadowRoot;if(st){const Et=st.getElementById(re)||st.querySelector(`[name="${re}"]`);if(Et)return Et}Ie=X.nextNode()}}return null}(this.document,re);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const N=re.getBoundingClientRect(),X=N.left+this.window.pageXOffset,Ie=N.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(X-st[0],Ie-st[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Vs{}},5879:(ae,se,y)=>{"use strict";y.d(se,{$8M:()=>qp,$WT:()=>us,$Z:()=>nT,AFp:()=>RM,ALo:()=>mD,AaK:()=>Q,BQk:()=>vd,CHM:()=>Yi,CRH:()=>cE,EJc:()=>kk,EiD:()=>D0,EpF:()=>Tw,F$t:()=>Or,F4k:()=>nC,FYo:()=>UM,FiY:()=>Vc,Gf:()=>Sg,GfV:()=>LI,Gpc:()=>ce,HDt:()=>EE,Hsn:()=>$r,Ikx:()=>vf,JOm:()=>Dh,JVY:()=>wI,JZr:()=>Y,KtG:()=>C_,L6k:()=>xr,LAX:()=>eF,LFG:()=>pe,LSH:()=>S0,Lbi:()=>SI,Lck:()=>Cf,MAs:()=>JT,MMx:()=>Ad,MR2:()=>CI,NdJ:()=>ny,O4$:()=>Fp,Ojb:()=>PM,OlP:()=>je,Oqu:()=>Xc,P3R:()=>M0,PXZ:()=>qD,Q6J:()=>_d,QGY:()=>ty,QbO:()=>MI,Qsj:()=>ws,R0b:()=>dt,RDi:()=>nd,Rgc:()=>Md,SBq:()=>Rm,Sil:()=>FD,Suo:()=>Rf,TTD:()=>qn,TgZ:()=>Kv,Tol:()=>ay,Udp:()=>og,VuI:()=>mu,W1O:()=>uE,X6Q:()=>Gk,XFs:()=>Nt,Xpm:()=>as,Xq5:()=>VT,Xts:()=>Im,Y36:()=>Gh,YKP:()=>Zt,YNc:()=>Zv,Yjl:()=>Ic,Yz7:()=>Ut,Z0I:()=>An,ZZ4:()=>pl,_Bn:()=>iD,_UZ:()=>af,_Vd:()=>jh,_c5:()=>cA,_uU:()=>wC,aQg:()=>eb,c2e:()=>wE,cJS:()=>fn,cg1:()=>dy,dDg:()=>GD,dqk:()=>Ae,eBb:()=>JN,eFA:()=>Yy,eJc:()=>si,ekj:()=>sy,eoX:()=>SE,f3M:()=>Ve,g9A:()=>kM,h0i:()=>xi,hGG:()=>UE,hij:()=>na,iGM:()=>aE,ifc:()=>nt,ip1:()=>bE,jDz:()=>Jw,kL8:()=>NC,kcU:()=>Lp,lG2:()=>Du,lcZ:()=>gD,lqb:()=>ec,lri:()=>AE,mCW:()=>I0,n5z:()=>Zp,n_E:()=>Cg,oAB:()=>cs,oxw:()=>ry,pB0:()=>tF,q3G:()=>Xl,q4F:()=>VI,qFp:()=>mA,qLn:()=>tc,qOj:()=>Uv,qZA:()=>Qv,qzn:()=>Em,rWj:()=>zD,rg0:()=>st,s9C:()=>cf,sBO:()=>JD,s_b:()=>Ry,soG:()=>zy,tb:()=>qy,tp0:()=>Zu,uIk:()=>Hv,vHH:()=>M,vpe:()=>Js,wAp:()=>bd,xi3:()=>_D,xp6:()=>tT,ynx:()=>Xm,z2F:()=>Ud,z3N:()=>$c,zSh:()=>O0,zs3:()=>Ia});var a=y(8645),I=y(7394),D=y(5592),P=y(3019),L=y(5619),U=y(2096),S=y(3020),F=y(4664),j=y(3997);function O(o){for(let c in o)if(o[c]===O)return c;throw Error("Could not find renamed property on target object.")}function $(o,c){for(const u in c)c.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=c[u])}function Q(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Q).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function K(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const Z=O({__forward_ref__:O});function ce(o){return o.__forward_ref__=ce,o.toString=function(){return Q(this())},o}function ne(o){return ye(o)?o():o}function ye(o){return"function"==typeof o&&o.hasOwnProperty(Z)&&o.__forward_ref__===ce}function ee(o){return o&&!!o.\u0275providers}const Y="https://g.co/ng/security#xss";class M extends Error{constructor(c,u){super(function k(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}(c,u)),this.code=c}}function W(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o,c){throw new M(-201,!1)}function Ct(o,c){null==o&&function le(o,c,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${c} <=Actual]`))}(c,o,null,"!=")}function Ut(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function fn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Dn(o){return ge(o,Ee)||ge(o,mt)}function An(o){return null!==Dn(o)}function ge(o,c){return o.hasOwnProperty(c)?o[c]:null}function G(o){return o&&(o.hasOwnProperty(We)||o.hasOwnProperty(Tt))?o[We]:null}const Ee=O({\u0275prov:O}),We=O({\u0275inj:O}),mt=O({ngInjectableDef:O}),Tt=O({ngInjectorDef:O});var Nt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Nt||{});let Qt;function Fn(o){const c=Qt;return Qt=o,c}function Wn(o,c,u){const d=Dn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Nt.Optional?null:void 0!==c?c:void Ce(Q(o))}const Ae=globalThis;class je{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ut({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mn={},_i="__NG_DI_FLAG__",ht="ngTempTokenPath",z=/\n/gm,Ne="__source";let De;function Le(o){const c=De;return De=o,c}function ve(o,c=Nt.Default){if(void 0===De)throw new M(-203,!1);return null===De?Wn(o,void 0,c):De.get(o,c&Nt.Optional?null:void 0,c)}function pe(o,c=Nt.Default){return(function jt(){return Qt}()||ve)(ne(o),c)}function Ve(o,c=Nt.Default){return pe(o,ot(c))}function ot(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Dt(o){const c=[];for(let u=0;u<o.length;u++){const d=ne(o[u]);if(Array.isArray(d)){if(0===d.length)throw new M(900,!1);let f,g=Nt.Default;for(let b=0;b<d.length;b++){const x=d[b],A=Ln(x);"number"==typeof A?-1===A?f=x.token:g|=A:f=x}c.push(pe(f,g))}else c.push(pe(d))}return c}function en(o,c){return o[_i]=c,o.prototype[_i]=c,o}function Ln(o){return o[_i]}function He(o){return{toString:o}.toString()}var ut=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(ut||{}),nt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(nt||{});const ke={},Oe=[],Je=O({\u0275cmp:O}),Yt=O({\u0275dir:O}),zt=O({\u0275pipe:O}),Xe=O({\u0275mod:O}),xt=O({\u0275fac:O}),kt=O({__NG_ELEMENT_ID__:O}),wt=O({__NG_ENV_ID__:O});function Vt(o,c,u){let d=o.length;for(;;){const f=o.indexOf(c,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=c.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}u=f+1}}function rn(o,c,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const g=u[d++],b=u[d++],x=u[d++];o.setAttribute(c,b,x,g)}else{const g=f,b=u[++d];Vn(g)?o.setProperty(c,g,b):o.setAttribute(c,g,b),d++}}return d}function vn(o){return 3===o||4===o||6===o}function Vn(o){return 64===o.charCodeAt(0)}function Xt(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let u=-1;for(let d=0;d<c.length;d++){const f=c[d];"number"==typeof f?u=f:0===u||Rn(o,u,f,null,-1===u||2===u?c[++d]:null)}}return o}function Rn(o,c,u,d,f){let g=0,b=o.length;if(-1===c)b=-1;else for(;g<o.length;){const x=o[g++];if("number"==typeof x){if(x===c){b=-1;break}if(x>c){b=g-1;break}}}for(;g<o.length;){const x=o[g];if("number"==typeof x)break;if(x===u){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==b&&(o.splice(b,0,c),g=b+1),o.splice(g++,0,u),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}const Nn="ng-template";function Xn(o,c,u){let d=0,f=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&f){const b=o[d++];if(u&&"class"===g&&-1!==Vt(b.toLowerCase(),c,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===c)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Hn(o){return 4===o.type&&o.value!==Nn}function Mi(o,c,u){return c===(4!==o.type||u?o.value:Nn)}function yi(o,c,u){let d=4;const f=o.attrs||[],g=function Ar(o){for(let c=0;c<o.length;c++)if(vn(o[c]))return c;return o.length}(f);let b=!1;for(let x=0;x<c.length;x++){const A=c[x];if("number"!=typeof A){if(!b)if(4&d){if(d=2|1&d,""!==A&&!Mi(o,A,u)||""===A&&1===c.length){if(Gn(d))return!1;b=!0}}else{const H=8&d?A:c[++x];if(8&d&&null!==o.attrs){if(!Xn(o.attrs,H,u)){if(Gn(d))return!1;b=!0}continue}const we=bi(8&d?"class":A,f,Hn(o),u);if(-1===we){if(Gn(d))return!1;b=!0;continue}if(""!==H){let Ue;Ue=we>g?"":f[we+1].toLowerCase();const Qe=8&d?Ue:null;if(Qe&&-1!==Vt(Qe,H,0)||2&d&&H!==Ue){if(Gn(d))return!1;b=!0}}}}else{if(!b&&!Gn(d)&&!Gn(A))return!1;if(b&&Gn(A))continue;b=!1,d=A|1&d}}return Gn(d)||b}function Gn(o){return 0==(1&o)}function bi(o,c,u,d){if(null===c)return-1;let f=0;if(d||!u){let g=!1;for(;f<c.length;){const b=c[f];if(b===o)return f;if(3===b||6===b)g=!0;else{if(1===b||2===b){let x=c[++f];for(;"string"==typeof x;)x=c[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=g?1:2}return-1}return function Vr(o,c){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===c)return u;u++}return-1}(c,o)}function Ho(o,c,u=!1){for(let d=0;d<c.length;d++)if(yi(o,c[d],u))return!0;return!1}function Ao(o,c){e:for(let u=0;u<c.length;u++){const d=c[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Sn(o,c){return o?":not("+c.trim()+")":c}function ss(o){let c=o[0],u=1,d=2,f="",g=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&d){const x=o[++u];f+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!Gn(b)&&(c+=Sn(g,f),f=""),d=b,g=g||!Gn(d);u++}return""!==f&&(c+=Sn(g,f)),c}function as(o){return He(()=>{const c=ca(o),u={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||nt.Emulated,styles:o.styles||Oe,_:null,schemas:o.schemas||null,tView:null,id:""};$o(u);const d=o.dependencies;return u.directiveDefs=oi(d,!1),u.pipeDefs=oi(d,!0),u.id=function wl(o){let c=0;const u=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of u)c=Math.imul(31,c)+f.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(u),u})}function So(o){return ri(o)||Wi(o)}function Cu(o){return null!==o}function cs(o){return He(()=>({type:o.type,bootstrap:o.bootstrap||Oe,declarations:o.declarations||Oe,imports:o.imports||Oe,exports:o.exports||Oe,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function bl(o,c){if(null==o)return ke;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=d,c&&(c[f]=g)}return u}function Du(o){return He(()=>{const c=ca(o);return $o(c),c})}function Ic(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ri(o){return o[Je]||null}function Wi(o){return o[Yt]||null}function vr(o){return o[zt]||null}function us(o){const c=ri(o)||Wi(o)||vr(o);return null!==c&&c.standalone}function Ur(o,c){const u=o[Xe]||null;if(!u&&!0===c)throw new Error(`Type ${Q(o)} does not have '\u0275mod' property.`);return u}function ca(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||ke,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Oe,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bl(o.inputs,c),outputs:bl(o.outputs)}}function $o(o){o.features?.forEach(c=>c(o))}function oi(o,c){if(!o)return null;const u=c?vr:So;return()=>("function"==typeof o?o():o).map(d=>u(d)).filter(Cu)}const vi=0,Kt=1,kn=2,fi=3,Qr=4,ds=5,tr=6,hs=7,Ri=8,Wo=9,ho=10,yn=11,Fs=12,Au=13,jr=14,Zi=15,Na=16,Ls=17,fo=18,Cc=19,Su=20,Vs=21,Bs=22,fs=23,Zo=24,Kn=25,la=1,qo=2,po=7,go=9,zi=11;function yr(o){return Array.isArray(o)&&"object"==typeof o[la]}function br(o){return Array.isArray(o)&&!0===o[la]}function Us(o){return 0!=(4&o.flags)}function ps(o){return o.componentOffset>-1}function Fa(o){return 1==(1&o.flags)}function _o(o){return!!o.template}function El(o){return 0!=(512&o[kn])}function Hs(o,c){return o.hasOwnProperty(xt)?o[xt]:null}let ar=null,ms=!1;function wr(o){const c=ar;return ar=o,c}const Pu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function La(o){if(!fa(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Ml(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function gs(o){o.dirty=!0,function ha(o){if(void 0===o.liveConsumerNode)return;const c=ms;ms=!0;try{for(const u of o.liveConsumerNode)u.dirty||gs(u)}finally{ms=c}}(o),o.consumerMarkedDirty?.(o)}function _s(o){return o&&(o.nextProducerIndex=0),wr(o)}function Ou(o,c){if(wr(c),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(fa(o))for(let u=o.nextProducerIndex;u<o.producerNode.length;u++)Ac(o.producerNode[u],o.producerIndexOfThis[u]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Ml(o){Gs(o);for(let c=0;c<o.producerNode.length;c++){const u=o.producerNode[c],d=o.producerLastReadVersion[c];if(d!==u.version||(La(u),d!==u.version))return!0}return!1}function wp(o){if(Gs(o),fa(o))for(let c=0;c<o.producerNode.length;c++)Ac(o.producerNode[c],o.producerIndexOfThis[c]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Ac(o,c){if(function Sc(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Gs(o),1===o.liveConsumerNode.length)for(let d=0;d<o.producerNode.length;d++)Ac(o.producerNode[d],o.producerIndexOfThis[d]);const u=o.liveConsumerNode.length-1;if(o.liveConsumerNode[c]=o.liveConsumerNode[u],o.liveConsumerIndexOfThis[c]=o.liveConsumerIndexOfThis[u],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,c<o.liveConsumerNode.length){const d=o.liveConsumerIndexOfThis[c],f=o.liveConsumerNode[c];Gs(f),f.producerIndexOfThis[d]=c}}function fa(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Gs(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let kl=null;function st(o){const c=wr(null);try{return o()}finally{wr(c)}}const un=()=>{},Ci=(()=>({...Pu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:un}))();class li{constructor(c,u,d){this.previousValue=c,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function qn(){return wi}function wi(o){return o.type.prototype.ngOnChanges&&(o.setInput=qi),Ei}function Ei(){const o=Yo(this),c=o?.current;if(c){const u=o.previous;if(u===ke)o.previous=c;else for(let d in c)u[d]=c[d];o.current=null,this.ngOnChanges(c)}}function qi(o,c,u,d){const f=this.declaredInputs[u],g=Yo(o)||function Ko(o,c){return o[nr]=c}(o,{previous:ke,current:null}),b=g.current||(g.current={}),x=g.previous,A=x[f];b[f]=new li(A&&A.currentValue,c,x===ke),o[d]=c}qn.ngInherit=!0;const nr="__ngSimpleChanges__";function Yo(o){return o[nr]||null}const Mr=function(o,c,u){},pa="svg";function Pi(o){for(;Array.isArray(o);)o=o[vi];return o}function Ua(o,c){return Pi(c[o])}function Rr(o,c){return Pi(c[o.index])}function Lb(o,c){return o.data[c]}function ma(o,c){return o[c]}function Hr(o,c){const u=c[o];return yr(u)?u:u[vi]}function ja(o,c){return null==c?null:o[c]}function w_(o){o[Ls]=0}function Vb(o){1024&o[kn]||(o[kn]|=1024,E_(o,1))}function Jx(o){1024&o[kn]&&(o[kn]&=-1025,E_(o,-1))}function E_(o,c){let u=o[fi];if(null===u)return;u[ds]+=c;let d=u;for(u=u[fi];null!==u&&(1===c&&1===d[ds]||-1===c&&0===d[ds]);)u[ds]+=c,d=u,u=u[fi]}const In={lFrame:O_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function T_(){return In.bindingsEnabled}function Nu(){return null!==In.skipHydrationRootTNode}function It(){return In.lFrame.lView}function Jn(){return In.lFrame.tView}function Yi(o){return In.lFrame.contextLView=o,o[Ri]}function C_(o){return In.lFrame.contextLView=null,o}function ur(){let o=D_();for(;null!==o&&64===o.type;)o=o.parent;return o}function D_(){return In.lFrame.currentTNode}function Ws(o,c){const u=In.lFrame;u.currentTNode=o,u.isParent=c}function Fu(){return In.lFrame.isParent}function Lu(){In.lFrame.isParent=!1}function dr(){const o=In.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function Ha(){return In.lFrame.bindingIndex++}function Zs(o){const c=In.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,u}function Rp(o,c){const u=In.lFrame;u.bindingIndex=u.bindingRootIndex=o,M_(c)}function M_(o){In.lFrame.currentDirectiveIndex=o}function R_(){return In.lFrame.currentQueryIndex}function za(o){In.lFrame.currentQueryIndex=o}function zb(o){const c=o[Kt];return 2===c.type?c.declTNode:1===c.type?o[tr]:null}function k_(o,c,u){if(u&Nt.SkipSelf){let f=c,g=o;for(;!(f=f.parent,null!==f||u&Nt.Host||(f=zb(g),null===f||(g=g[jr],10&f.type))););if(null===f)return!1;c=f,o=g}const d=In.lFrame=P_();return d.currentTNode=c,d.lView=o,!0}function Pp(o){const c=P_(),u=o[Kt];In.lFrame=c,c.currentTNode=u.firstChild,c.lView=o,c.tView=u,c.contextLView=o,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function P_(){const o=In.lFrame,c=null===o?null:o.child;return null===c?O_(o):c}function O_(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function Ol(){const o=In.lFrame;return In.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const hh=Ol;function Ga(){const o=Ol();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function eo(){return In.lFrame.selectedIndex}function $a(o){In.lFrame.selectedIndex=o}function Oi(){const o=In.lFrame;return Lb(o.tView,o.selectedIndex)}function Fp(){In.lFrame.currentNamespace=pa}function Lp(){!function Gb(){In.lFrame.currentNamespace=null}()}let L_=!0;function va(){return L_}function Wa(o){L_=o}function Za(o,c){for(let u=c.directiveStart,d=c.directiveEnd;u<d;u++){const g=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:A,ngAfterViewChecked:H,ngOnDestroy:de}=g;b&&(o.contentHooks??=[]).push(-u,b),x&&((o.contentHooks??=[]).push(u,x),(o.contentCheckHooks??=[]).push(u,x)),A&&(o.viewHooks??=[]).push(-u,A),H&&((o.viewHooks??=[]).push(u,H),(o.viewCheckHooks??=[]).push(u,H)),null!=de&&(o.destroyHooks??=[]).push(u,de)}}function Oc(o,c,u){Bu(o,c,3,u)}function fh(o,c,u,d){(3&o[kn])===u&&Bu(o,c,u,d)}function Vu(o,c){let u=o[kn];(3&u)===c&&(u&=8191,u+=1,o[kn]=u)}function Bu(o,c,u,d){const g=d??-1,b=c.length-1;let x=0;for(let A=void 0!==d?65535&o[Ls]:0;A<b;A++)if("number"==typeof c[A+1]){if(x=c[A],null!=d&&x>=d)break}else c[A]<0&&(o[Ls]+=65536),(x<g||-1==g)&&(to(o,u,c,A),o[Ls]=(4294901760&o[Ls])+A+2),A++}function ph(o,c){Mr(4,o,c);const u=wr(null);try{c.call(o)}finally{wr(u),Mr(5,o,c)}}function to(o,c,u,d){const f=u[d]<0,g=u[d+1],x=o[f?-u[d]:u[d]];f?o[kn]>>13<o[Ls]>>16&&(3&o[kn])===c&&(o[kn]+=8192,ph(x,g)):ph(x,g)}const qa=-1;class qs{constructor(c,u,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function mh(o){return o!==qa}function Nl(o){return 32767&o}function no(o,c){let u=function U_(o){return o>>16}(o),d=c;for(;u>0;)d=d[jr],u--;return d}let jp=!0;function Uu(o){const c=jp;return jp=o,c}const qb=255,Nc=5;let j_=0;const Qo={};function Fl(o,c){const u=zp(o,c);if(-1!==u)return u;const d=c[Kt];d.firstCreatePass&&(o.injectorIndex=c.length,gh(d.data,o),gh(c,null),gh(d.blueprint,null));const f=Ll(o,c),g=o.injectorIndex;if(mh(f)){const b=Nl(f),x=no(f,c),A=x[Kt].data;for(let H=0;H<8;H++)c[g+H]=x[b+H]|A[b+H]}return c[g+8]=f,g}function gh(o,c){o.push(0,0,0,0,0,0,0,0,c)}function zp(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function Ll(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=c;for(;null!==f;){if(d=W_(f),null===d)return qa;if(u++,f=f[jr],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return qa}function Gp(o,c,u){!function Hp(o,c,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(kt)&&(d=u[kt]),null==d&&(d=u[kt]=j_++);const f=d&qb;c.data[o+(f>>Nc)]|=1<<f}(o,c,u)}function Kb(o,c,u){if(u&Nt.Optional||void 0!==o)return o;Ce()}function H_(o,c,u,d){if(u&Nt.Optional&&void 0===d&&(d=null),!(u&(Nt.Self|Nt.Host))){const f=o[Wo],g=Fn(void 0);try{return f?f.get(c,d,u&Nt.Optional):Wn(c,d,u&Nt.Optional)}finally{Fn(g)}}return Kb(d,0,u)}function $p(o,c,u,d=Nt.Default,f){if(null!==o){if(2048&c[kn]&&!(d&Nt.Self)){const b=function Jb(o,c,u,d,f){let g=o,b=c;for(;null!==g&&null!==b&&2048&b[kn]&&!(512&b[kn]);){const x=Wp(g,b,u,d|Nt.Self,Qo);if(x!==Qo)return x;let A=g.parent;if(!A){const H=b[Su];if(H){const de=H.get(u,Qo,d);if(de!==Qo)return de}A=W_(b),b=b[jr]}g=A}return f}(o,c,u,d,Qo);if(b!==Qo)return b}const g=Wp(o,c,u,d,Qo);if(g!==Qo)return g}return H_(c,u,d,f)}function Wp(o,c,u,d,f){const g=function Xb(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(kt)?o[kt]:void 0;return"number"==typeof c?c>=0?c&qb:G_:c}(u);if("function"==typeof g){if(!k_(c,o,d))return d&Nt.Host?Kb(f,0,d):H_(c,u,d,f);try{let b;if(b=g(d),null!=b||d&Nt.Optional)return b;Ce()}finally{hh()}}else if("number"==typeof g){let b=null,x=zp(o,c),A=qa,H=d&Nt.Host?c[Zi][tr]:null;for((-1===x||d&Nt.SkipSelf)&&(A=-1===x?Ll(o,c):c[x+8],A!==qa&&z_(d,!1)?(b=c[Kt],x=Nl(A),c=no(A,c)):x=-1);-1!==x;){const de=c[Kt];if(_h(g,x,de.data)){const we=Qb(x,c,u,b,d,H);if(we!==Qo)return we}A=c[x+8],A!==qa&&z_(d,c[Kt].data[x+8]===H)&&_h(g,x,c)?(b=de,x=Nl(A),c=no(A,c)):x=-1}}return f}function Qb(o,c,u,d,f,g){const b=c[Kt],x=b.data[o+8],de=Vl(x,b,u,null==d?ps(x)&&jp:d!=b&&0!=(3&x.type),f&Nt.Host&&g===x);return null!==de?Ya(c,b,de,x):Qo}function Vl(o,c,u,d,f){const g=o.providerIndexes,b=c.data,x=1048575&g,A=o.directiveStart,de=g>>20,Ue=f?x+de:o.directiveEnd;for(let Qe=d?x:x+de;Qe<Ue;Qe++){const _t=b[Qe];if(Qe<A&&u===_t||Qe>=A&&_t.type===u)return Qe}if(f){const Qe=b[A];if(Qe&&_o(Qe)&&Qe.type===u)return A}return null}function Ya(o,c,u,d){let f=o[u];const g=c.data;if(function Ys(o){return o instanceof qs}(f)){const b=f;b.resolving&&function J(o,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${o}`:"";throw new M(-200,`Circular dependency in DI detected for ${o}${u}`)}(function be(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():W(o)}(g[u]));const x=Uu(b.canSeeViewProviders);b.resolving=!0;const H=b.injectImpl?Fn(b.injectImpl):null;k_(o,d,Nt.Default);try{f=o[u]=b.factory(void 0,g,o,d),c.firstCreatePass&&u>=d.directiveStart&&function Vp(o,c,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=c.type.prototype;if(d){const b=wi(c);(u.preOrderHooks??=[]).push(o,b),(u.preOrderCheckHooks??=[]).push(o,b)}f&&(u.preOrderHooks??=[]).push(0-o,f),g&&((u.preOrderHooks??=[]).push(o,g),(u.preOrderCheckHooks??=[]).push(o,g))}(u,g[u],c)}finally{null!==H&&Fn(H),Uu(x),b.resolving=!1,hh()}}return f}function _h(o,c,u){return!!(u[c+(o>>Nc)]&1<<o)}function z_(o,c){return!(o&Nt.Self||o&Nt.Host&&c)}class Er{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,d){return $p(this._tNode,this._lView,c,ot(d),u)}}function G_(){return new Er(ur(),It())}function Zp(o){return He(()=>{const c=o.prototype.constructor,u=c[xt]||$_(c),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[xt]||$_(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function $_(o){return ye(o)?()=>{const c=$_(ne(o));return c&&c()}:Hs(o)}function W_(o){const c=o[Kt],u=c.type;return 2===u?c.declTNode:1===u?o[tr]:null}function qp(o){return function Yb(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const g=u[f];if(vn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(g===c)return u[f+1];f+=2}}}return null}(ur(),o)}const Mo="__parameters__";function Lc(o,c,u){return He(()=>{const d=function Yp(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}(c);function f(...g){if(this instanceof f)return d.apply(this,g),this;const b=new f(...g);return x.annotation=b,x;function x(A,H,de){const we=A.hasOwnProperty(Mo)?A[Mo]:Object.defineProperty(A,Mo,{value:[]})[Mo];for(;we.length<=de;)we.push(null);return(we[de]=we[de]||[]).push(b),A}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function jl(o,c){o.forEach(u=>Array.isArray(u)?jl(u,c):c(u))}function q_(o,c,u){c>=o.length?o.push(u):o.splice(c,0,u)}function Hu(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function Hl(o,c){const u=[];for(let d=0;d<o;d++)u.push(c);return u}function io(o,c,u){let d=Ro(o,c);return d>=0?o[1|d]=u:(d=~d,function zu(o,c,u,d){let f=o.length;if(f==c)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>c;)o[f]=o[f-2],f--;o[c]=u,o[c+1]=d}}(o,d,c,u)),d}function $u(o,c){const u=Ro(o,c);if(u>=0)return o[1|u]}function Ro(o,c){return function yh(o,c,u){let d=0,f=o.length>>u;for(;f!==d;){const g=d+(f-d>>1),b=o[g<<u];if(c===b)return g<<u;b>c?f=g:d=g+1}return~(f<<u)}(o,c,1)}const Vc=en(Lc("Optional"),8),Zu=en(Lc("SkipSelf"),4);function Xu(o){return 128==(128&o.flags)}var Dh=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Dh||{});const fI=/^>|^->|<!--|-->|--!>|<!-$/g,p0=/(<|>)/g,Ju="\u200b$1\u200b";const wa=new Map;let um=0;const Wl="__ngContext__";function zr(o,c){yr(c)?(o[Wl]=c[Cc],function Sh(o){wa.set(o[Cc],o)}(c)):o[Wl]=c}let bs;function ko(o,c){return bs(o,c)}function Xa(o){const c=o[fi];return br(c)?c[fi]:c}function Mh(o){return lv(o[Fs])}function _0(o){return lv(o[Qr])}function lv(o){for(;null!==o&&!br(o);)o=o[Qr];return o}function ql(o,c,u,d,f){if(null!=d){let g,b=!1;br(d)?g=d:yr(d)&&(b=!0,d=d[vi]);const x=Pi(d);0===o&&null!==u?null==f?uv(c,u,x):Hc(c,u,x,f||null,!0):1===o&&null!==u?Hc(c,u,x,f||null,!0):2===o?function vm(o,c,u){const d=Kl(o,c);d&&function dv(o,c,u,d){o.removeChild(c,u,d)}(o,d,c,u)}(c,x,b):3===o&&c.destroyNode(x),null!=g&&function _I(o,c,u,d,f){const g=u[po];g!==Pi(u)&&ql(c,o,d,g,f);for(let x=zi;x<u.length;x++){const A=u[x];Ja(A[Kt],A,o,c,d,g)}}(c,o,g,u,f)}}function m(o,c){return o.createComment(function Ah(o){return o.replace(fI,c=>c.replace(p0,Ju))}(c))}function _(o,c,u){return o.createElement(c,u)}function $t(o,c){const u=o[go],d=u.indexOf(c);Jx(c),u.splice(d,1)}function tn(o,c){if(o.length<=zi)return;const u=zi+c,d=o[u];if(d){const f=d[Na];null!==f&&f!==o&&$t(f,d),c>0&&(o[u-1][Qr]=d[Qr]);const g=Hu(o,zi+c);!function E(o,c){Ja(o,c,c[yn],2,null,null),c[vi]=null,c[tr]=null}(d[Kt],d);const b=g[fo];null!==b&&b.detachView(g[Kt]),d[fi]=null,d[Qr]=null,d[kn]&=-129}return d}function nn(o,c){if(!(256&c[kn])){const u=c[yn];c[fs]&&wp(c[fs]),c[Zo]&&wp(c[Zo]),u.destroyNode&&Ja(o,c,u,3,null,null),function Se(o){let c=o[Fs];if(!c)return Ni(o[Kt],o);for(;c;){let u=null;if(yr(c))u=c[Fs];else{const d=c[zi];d&&(u=d)}if(!u){for(;c&&!c[Qr]&&c!==o;)yr(c)&&Ni(c[Kt],c),c=c[fi];null===c&&(c=o),yr(c)&&Ni(c[Kt],c),u=c&&c[Qr]}c=u}}(c)}}function Ni(o,c){if(!(256&c[kn])){c[kn]&=-129,c[kn]|=256,function fm(o,c){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=c[u[d]];if(!(f instanceof qs)){const g=u[d+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const x=f[g[b]],A=g[b+1];Mr(4,x,A);try{A.call(x)}finally{Mr(5,x,A)}}else{Mr(4,f,g);try{g.call(f)}finally{Mr(5,f,g)}}}}}(o,c),function Xs(o,c){const u=o.cleanup,d=c[hs];if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const b=u[g+3];b>=0?d[b]():d[-b].unsubscribe(),g+=2}else u[g].call(d[u[g+1]]);null!==d&&(c[hs]=null);const f=c[Vs];if(null!==f){c[Vs]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(o,c),1===c[Kt].type&&c[yn].destroy();const u=c[Na];if(null!==u&&br(c[fi])){u!==c[fi]&&$t(u,c);const d=c[fo];null!==d&&d.detachView(o)}!function fr(o){wa.delete(o[Cc])}(c)}}function pm(o,c,u){return function mm(o,c,u){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return u[vi];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=o.data[d.directiveStart+f];if(g===nt.None||g===nt.Emulated)return null}return Rr(d,u)}}(o,c.parent,u)}function Hc(o,c,u,d,f){o.insertBefore(c,u,d,f)}function uv(o,c,u){o.appendChild(c,u)}function Yl(o,c,u,d,f){null!==d?Hc(o,c,u,d,f):uv(o,c,u)}function Kl(o,c){return o.parentNode(c)}function v0(o,c,u){return y0(o,c,u)}let pI,w0,bm,mv,y0=function Rh(o,c,u){return 40&o.type?Rr(o,u):null};function hv(o,c,u,d){const f=pm(o,d,c),g=c[yn],x=v0(d.parent||c[tr],d,c);if(null!=f)if(Array.isArray(u))for(let A=0;A<u.length;A++)Yl(g,f,u[A],x,!1);else Yl(g,f,u,x,!1);void 0!==pI&&pI(g,d,c,u,f)}function fv(o,c){if(null!==c){const u=c.type;if(3&u)return Rr(c,o);if(4&u)return mI(-1,o[c.index]);if(8&u){const d=c.child;if(null!==d)return fv(o,d);{const f=o[c.index];return br(f)?mI(-1,f):Pi(f)}}if(32&u)return ko(c,o)()||Pi(o[c.index]);{const d=b0(o,c);return null!==d?Array.isArray(d)?d[0]:fv(Xa(o[Zi]),d):fv(o,c.next)}}return null}function b0(o,c){return null!==c?o[Zi][tr].projection[c.projection]:null}function mI(o,c){const u=zi+o+1;if(u<c.length){const d=c[u],f=d[Kt].firstChild;if(null!==f)return fv(d,f)}return c[po]}function xa(o,c,u,d,f,g,b){for(;null!=u;){const x=d[u.index],A=u.type;if(b&&0===c&&(x&&zr(Pi(x),d),u.flags|=2),32!=(32&u.flags))if(8&A)xa(o,c,u.child,d,f,g,!1),ql(c,o,f,x,g);else if(32&A){const H=ko(u,d);let de;for(;de=H();)ql(c,o,f,de,g);ql(c,o,f,x,g)}else 16&A?oM(o,c,d,u,f,g):ql(c,o,f,x,g);u=b?u.projectionNext:u.next}}function Ja(o,c,u,d,f,g){xa(u,d,o.firstChild,c,f,g,!1)}function oM(o,c,u,d,f,g){const b=u[Zi],A=b[tr].projection[d.projection];if(Array.isArray(A))for(let H=0;H<A.length;H++)ql(c,o,f,A[H],g);else{let H=A;const de=b[fi];Xu(d)&&(H.flags|=128),xa(o,c,H,de,f,g,!0)}}function sM(o,c,u){""===u?o.removeAttribute(c,"class"):o.setAttribute(c,"class",u)}function Gc(o,c,u){const{mergedAttrs:d,classes:f,styles:g}=u;null!==d&&rn(o,c,d),null!==f&&sM(o,c,f),null!==g&&function zc(o,c,u){o.setAttribute(c,"style",u)}(o,c,g)}function ym(o){return function vI(){if(void 0===w0&&(w0=null,Ae.trustedTypes))try{w0=Ae.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return w0}()?.createHTML(o)||o}function nd(o){bm=o}function x0(o){return function E0(){if(void 0===mv&&(mv=null,Ae.trustedTypes))try{mv=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return mv}()?.createScriptURL(o)||o}class id{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Y})`}}class aM extends id{getTypeName(){return"HTML"}}class cM extends id{getTypeName(){return"Style"}}class wm extends id{getTypeName(){return"Script"}}class lM extends id{getTypeName(){return"URL"}}class uM extends id{getTypeName(){return"ResourceURL"}}function $c(o){return o instanceof id?o.changingThisBreaksApplicationSecurity:o}function Em(o,c){const u=function dM(o){return o instanceof id&&o.getTypeName()||null}(o);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${Y})`)}return u===c}function wI(o){return new aM(o)}function xr(o){return new cM(o)}function JN(o){return new wm(o)}function eF(o){return new lM(o)}function tF(o){return new uM(o)}class nF{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(ym(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class iF{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const u=this.inertDocument.createElement("template");return u.innerHTML=ym(c),u}}const pM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function I0(o){return(o=String(o)).match(pM)?o:"unsafe:"+o}function Wc(o){const c={};for(const u of o.split(","))c[u]=!0;return c}function Ph(...o){const c={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(c[d]=!0);return c}const mM=Wc("area,br,col,hr,img,wbr"),gM=Wc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_M=Wc("rp,rt"),EI=Ph(mM,Ph(gM,Wc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ph(_M,Wc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ph(_M,gM)),xI=Wc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),T0=Ph(xI,Wc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),II=Wc("script,style,template");class vM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!EI.hasOwnProperty(u))return this.sanitizedSomething=!0,!II.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=c.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),b=g.name,x=b.toLowerCase();if(!T0.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let A=g.value;xI[x]&&(A=I0(A)),this.buf.push(" ",b,'="',C0(A),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();EI.hasOwnProperty(u)&&!mM.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(C0(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const rF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yM=/([^\#-~ |!])/g;function C0(o){return o.replace(/&/g,"&amp;").replace(rF,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(yM,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oh;function D0(o,c){let u=null;try{Oh=Oh||function hM(o){const c=new iF(o);return function fM(){try{return!!(new window.DOMParser).parseFromString(ym(""),"text/html")}catch{return!1}}()?new nF(c):c}(o);let d=c?String(c):"";u=Oh.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=u.innerHTML,u=Oh.getInertBodyElement(d)}while(d!==g);return ym((new vM).sanitizeChildren(A0(u)||u))}finally{if(u){const d=A0(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function A0(o){return"content"in o&&function bM(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Xl=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Xl||{});function S0(o){const c=xm();return c?c.sanitize(Xl.URL,o)||"":Em(o,"URL")?$c(o):I0(W(o))}function wM(o){const c=xm();if(c)return x0(c.sanitize(Xl.RESOURCE_URL,o)||"");if(Em(o,"ResourceURL"))return x0($c(o));throw new M(904,!1)}function M0(o,c,u){return function xM(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?wM:S0}(c,u)(o)}function xm(){const o=It();return o&&o[ho].sanitizer}const Im=new je("ENVIRONMENT_INITIALIZER"),Jl=new je("INJECTOR",-1),R0=new je("INJECTOR_DEF_TYPES");class vv{get(c,u=Mn){if(u===Mn){const d=new Error(`NullInjectorError: No provider for ${Q(c)}!`);throw d.name="NullInjectorError",d}return u}}function CI(o){return{\u0275providers:o}}function lF(...o){return{\u0275providers:k0(0,o),\u0275fromNgModule:!0}}function k0(o,...c){const u=[],d=new Set;let f;const g=b=>{u.push(b)};return jl(c,b=>{const x=b;yv(x,g,[],d)&&(f||=[],f.push(x))}),void 0!==f&&DI(f,g),u}function DI(o,c){for(let u=0;u<o.length;u++){const{ngModule:d,providers:f}=o[u];Nh(f,g=>{c(g,d)})}}function yv(o,c,u,d){if(!(o=ne(o)))return!1;let f=null,g=G(o);const b=!g&&ri(o);if(g||b){if(b&&!b.standalone)return!1;f=o}else{const A=o.ngModule;if(g=G(A),!g)return!1;f=A}const x=d.has(f);if(b){if(x)return!1;if(d.add(f),b.dependencies){const A="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const H of A)yv(H,c,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let H;d.add(f);try{jl(g.imports,de=>{yv(de,c,u,d)&&(H||=[],H.push(de))})}finally{}void 0!==H&&DI(H,c)}if(!x){const H=Hs(f)||(()=>new f);c({provide:f,useFactory:H,deps:Oe},f),c({provide:R0,useValue:f,multi:!0},f),c({provide:Im,useValue:()=>pe(f),multi:!0},f)}const A=g.providers;if(null!=A&&!x){const H=o;Nh(A,de=>{c(de,H)})}}}return f!==o&&void 0!==o.providers}function Nh(o,c){for(let u of o)ee(u)&&(u=u.\u0275providers),Array.isArray(u)?Nh(u,c):c(u)}const dF=O({provide:String,useValue:O});function P0(o){return null!==o&&"object"==typeof o&&dF in o}function rd(o){return"function"==typeof o}const O0=new je("Set Injector scope."),N0={},AM={};let F0;function bv(){return void 0===F0&&(F0=new vv),F0}class ec{}class Fh extends ec{get destroyed(){return this._destroyed}constructor(c,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,AI(c,b=>this.processProvider(b)),this.records.set(Jl,Cm(void 0,this)),f.has("environment")&&this.records.set(ec,Cm(void 0,this));const g=this.records.get(O0);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(R0.multi,Oe,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of c)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const u=Le(this),d=Fn(void 0);try{return c()}finally{Le(u),Fn(d)}}get(c,u=Mn,d=Nt.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(wt))return c[wt](this);d=ot(d);const g=Le(this),b=Fn(void 0);try{if(!(d&Nt.SkipSelf)){let A=this.records.get(c);if(void 0===A){const H=function MM(o){return"function"==typeof o||"object"==typeof o&&o instanceof je}(c)&&Dn(c);A=H&&this.injectableDefInScope(H)?Cm(L0(c),N0):null,this.records.set(c,A)}if(null!=A)return this.hydrate(c,A)}return(d&Nt.Self?bv():this.parent).get(c,u=d&Nt.Optional&&u===Mn?null:u)}catch(x){if("NullInjectorError"===x.name){if((x[ht]=x[ht]||[]).unshift(Q(c)),g)throw x;return function Zn(o,c,u,d){const f=o[ht];throw c[Ne]&&f.unshift(c[Ne]),o.message=function rt(o,c,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=Q(c);if(Array.isArray(c))f=c.map(Q).join(" -> ");else if("object"==typeof c){let g=[];for(let b in c)if(c.hasOwnProperty(b)){let x=c[b];g.push(b+":"+("string"==typeof x?JSON.stringify(x):Q(x)))}f=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(z,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[ht]=null,o}(x,c,"R3InjectorError",this.source)}throw x}finally{Fn(b),Le(g)}}resolveInjectorInitializers(){const c=Le(this),u=Fn(void 0);try{const f=this.get(Im.multi,Oe,Nt.Self);for(const g of f)g()}finally{Le(c),Fn(u)}}toString(){const c=[],u=this.records;for(const d of u.keys())c.push(Q(d));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(c){let u=rd(c=ne(c))?c:ne(c&&c.provide);const d=function SM(o){return P0(o)?Cm(void 0,o.useValue):Cm(Tm(o),N0)}(c);if(rd(c)||!0!==c.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Cm(void 0,N0,!0),f.factory=()=>Dt(f.multi),this.records.set(u,f)),u=c,f.multi.push(c)}this.records.set(u,d)}hydrate(c,u){return u.value===N0&&(u.value=AM,u.value=u.factory()),"object"==typeof u.value&&u.value&&function fF(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=ne(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(c){const u=this._onDestroyHooks.indexOf(c);-1!==u&&this._onDestroyHooks.splice(u,1)}}function L0(o){const c=Dn(o),u=null!==c?c.factory:Hs(o);if(null!==u)return u;if(o instanceof je)throw new M(204,!1);if(o instanceof Function)return function V0(o){const c=o.length;if(c>0)throw Hl(c,"?"),new M(204,!1);const u=function V(o){return o&&(o[Ee]||o[mt])||null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new M(204,!1)}function Tm(o,c,u){let d;if(rd(o)){const f=ne(o);return Hs(f)||L0(f)}if(P0(o))d=()=>ne(o.useValue);else if(function CM(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Dt(o.deps||[]));else if(function TM(o){return!(!o||!o.useExisting)}(o))d=()=>pe(ne(o.useExisting));else{const f=ne(o&&(o.useClass||o.provide));if(!function hF(o){return!!o.deps}(o))return Hs(f)||L0(f);d=()=>new f(...Dt(o.deps))}return d}function Cm(o,c,u=!1){return{factory:o,value:c,multi:u?[]:void 0}}function AI(o,c){for(const u of o)Array.isArray(u)?AI(u,c):u&&ee(u)?AI(u.\u0275providers,c):c(u)}const RM=new je("AppId",{providedIn:"root",factory:()=>wv}),wv="ng",kM=new je("Platform Initializer"),SI=new je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),MI=new je("AnimationModuleType"),PM=new je("CSP nonce",{providedIn:"root",factory:()=>function kh(){if(void 0!==bm)return bm;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let kI=(o,c,u)=>null;function $0(o,c,u=!1){return kI(o,c,u)}class NI{}class FI{}class sd{resolveComponentFactory(c){throw function Tv(o){const c=Error(`No component factory found for ${Q(o)}.`);return c.ngComponent=o,c}(c)}}let jh=(()=>{class o{static#e=this.NULL=new sd}return o})();function yF(){return ji(ur(),It())}function ji(o,c){return new Rm(Rr(o,c))}let Rm=(()=>{class o{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=yF}return o})();function BM(o){return o instanceof Rm?o.nativeElement:o}class UM{}let ws=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function jM(){const o=It(),u=Hr(ur().index,o);return(yr(u)?u:o)[yn]}()}return o})(),HM=(()=>{class o{static#e=this.\u0275prov=Ut({token:o,providedIn:"root",factory:()=>null})}return o})();class LI{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const VI=new LI("16.2.11"),Y0={};function YM(o,c=null,u=null,d){const f=UI(o,c,u,d);return f.resolveInjectorInitializers(),f}function UI(o,c=null,u=null,d,f=new Set){const g=[u||Oe,lF(o)];return d=d||("object"==typeof o?void 0:Q(o)),new Fh(g,c||bv(),d||null,f)}let Ia=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Mn;static#t=this.NULL=new vv;static create(u,d){if(Array.isArray(u))return YM({name:""},d,u,"");{const f=u.name??"";return YM({name:f},u.parent,u.providers,f)}}static#n=this.\u0275prov=Ut({token:o,providedIn:"any",factory:()=>pe(Jl)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function K0(o){return o.ngOriginalError}class tc{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&K0(c);for(;u&&K0(u);)u=K0(u);return u||null}}function Nm(o){return c=>{setTimeout(o,void 0,c)}}const Js=class X0 extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,d){let f=c,g=u||(()=>null),b=d;if(c&&"object"==typeof c){const A=c;f=A.next?.bind(A),g=A.error?.bind(A),b=A.complete?.bind(A)}this.__isAsync&&(g=Nm(g),f&&(f=Nm(f)),b&&(b=Nm(b)));const x=super.subscribe({next:f,error:g,complete:b});return c instanceof I.w0&&c.add(x),x}};function Hh(...o){}class dt{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Js(!1),this.onMicrotaskEmpty=new Js(!1),this.onStable=new Js(!1),this.onError=new Js(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function QM(){const o="function"==typeof Ae.requestAnimationFrame;let c=Ae[o?"requestAnimationFrame":"setTimeout"],u=Ae[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&u){const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function zI(o){const c=()=>{!function HI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ae,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,J0(o),o.isCheckStableRunning=!0,Es(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),J0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,g,b,x)=>{if(function ew(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(x))return u.invokeTask(f,g,b,x);try{return GI(o),u.invokeTask(f,g,b,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&c(),$I(o)}},onInvoke:(u,d,f,g,b,x,A)=>{try{return GI(o),u.invoke(f,g,b,x,A)}finally{o.shouldCoalesceRunChangeDetection&&c(),$I(o)}},onHasTask:(u,d,f,g)=>{u.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,J0(o),Es(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,f,g)=>(u.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new M(909,!1)}run(c,u,d){return this._inner.run(c,u,d)}runTask(c,u,d,f){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+f,c,_e,Hh,Hh);try{return g.runTask(b,u,d)}finally{g.cancelTask(b)}}runGuarded(c,u,d){return this._inner.runGuarded(c,u,d)}runOutsideAngular(c){return this._outer.run(c)}}const _e={};function Es(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function J0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function GI(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function $I(o){o._nesting--,Es(o)}class ir{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Js,this.onMicrotaskEmpty=new Js,this.onStable=new Js,this.onError=new Js}run(c,u,d){return c.apply(u,d)}runGuarded(c,u,d){return c.apply(u,d)}runOutsideAngular(c){return c()}runTask(c,u,d,f){return c.apply(u,d)}}const Gi=new je("",{providedIn:"root",factory:Dv});function Dv(){const o=Ve(dt);let c=!0;const u=new D.y(f=>{c=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(c),f.complete()})}),d=new D.y(f=>{let g;o.runOutsideAngular(()=>{g=o.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(c=!0,f.next(!0))})})});const b=o.onUnstable.subscribe(()=>{dt.assertInAngularZone(),c&&(c=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),b.unsubscribe()}});return(0,P.T)(u,d.pipe((0,S.B)()))}function qc(o){return o instanceof Function?o():o}let Av=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ut({token:o,providedIn:"root",factory:()=>new o})}return o})();function Fm(o){for(;o;){o[kn]|=64;const c=Xa(o);if(El(o)&&!c)return o;o=c}return null}const ld=new je("",{providedIn:"root",factory:()=>!1});let Bm=null;function Mv(o,c){return o[c]??ud()}function Rv(o,c){const u=ud();u.producerNode?.length&&(o[c]=Bm,u.lView=o,Bm=nw())}const Yc={...Pu,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Fm(o.lView)},lView:null};function nw(){return Object.create(Yc)}function ud(){return Bm??=nw(),Bm}const zn={};function tT(o){Um(Jn(),It(),eo()+o,!1)}function Um(o,c,u,d){if(!d)if(3==(3&c[kn])){const g=o.preOrderCheckHooks;null!==g&&Oc(c,g,u)}else{const g=o.preOrderHooks;null!==g&&fh(c,g,0,u)}$a(u)}function Gh(o,c=Nt.Default){const u=It();return null===u?pe(o,c):$p(ur(),u,ne(o),c)}function nT(){throw new Error("invalid")}function kv(o,c,u,d,f,g,b,x,A,H,de){const we=c.blueprint.slice();return we[vi]=f,we[kn]=140|d,(null!==H||o&&2048&o[kn])&&(we[kn]|=2048),w_(we),we[fi]=we[jr]=o,we[Ri]=u,we[ho]=b||o&&o[ho],we[yn]=x||o&&o[yn],we[Wo]=A||o&&o[Wo]||null,we[tr]=g,we[Cc]=function m0(){return um++}(),we[Bs]=de,we[Su]=H,we[Zi]=2==c.type?o[Zi]:we,we}function $h(o,c,u,d,f){let g=o.data[c];if(null===g)g=function iw(o,c,u,d,f){const g=D_(),b=Fu(),A=o.data[c]=function ow(o,c,u,d,f,g){let b=c?c.injectorIndex:-1,x=0;return Nu()&&(x|=128),{type:u,index:d,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,u,c,d,f);return null===o.firstChild&&(o.firstChild=A),null!==g&&(b?null==g.child&&null!==A.parent&&(g.child=A):null===g.next&&(g.next=A,A.prev=g)),A}(o,c,u,d,f),function Mp(){return In.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=d,g.attrs=f;const b=function _a(){const o=In.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Ws(g,!0),g}function jm(o,c,u,d){if(0===u)return-1;const f=c.length;for(let g=0;g<u;g++)c.push(d),o.blueprint.push(d),o.data.push(null);return f}function iT(o,c,u,d,f){const g=Mv(c,fs),b=eo(),x=2&d;try{$a(-1),x&&c.length>Kn&&Um(o,c,Kn,!1),Mr(x?2:0,f);const H=x?g:null,de=_s(H);try{null!==H&&(H.dirty=!1),u(d,f)}finally{Ou(H,de)}}finally{x&&null===c[fs]&&Rv(c,fs),$a(b),Mr(x?3:1,f)}}function rw(o,c,u){if(Us(c)){const d=wr(null);try{const g=c.directiveEnd;for(let b=c.directiveStart;b<g;b++){const x=o.data[b];x.contentQueries&&x.contentQueries(1,u[b],b)}}finally{wr(d)}}}function Oo(o,c,u){T_()&&(function aw(o,c,u,d){const f=u.directiveStart,g=u.directiveEnd;ps(u)&&function dR(o,c,u){const d=Rr(c,o),f=Pv(u);let b=16;u.signals?b=4096:u.onPush&&(b=64);const x=Vv(o,kv(o,f,null,b,d,c,null,o[ho].rendererFactory.createRenderer(d,u),null,null,null));o[c.index]=x}(c,u,o.data[f+u.componentOffset]),o.firstCreatePass||Fl(u,c),zr(d,c);const b=u.initialInputs;for(let x=f;x<g;x++){const A=o.data[x],H=Ya(c,o,x,u);zr(H,c),null!==b&&fT(0,x-f,H,A,0,b),_o(A)&&(Hr(u.index,c)[Ri]=Ya(c,o,x,u))}}(o,c,u,Rr(u,c)),64==(64&u.flags)&&cw(o,c,u))}function Hm(o,c,u=Rr){const d=c.localNames;if(null!==d){let f=c.index+1;for(let g=0;g<d.length;g+=2){const b=d[g+1],x=-1===b?u(c,o):o[b];o[f++]=x}}}function Pv(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=Ov(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function Ov(o,c,u,d,f,g,b,x,A,H,de){const we=Kn+d,Ue=we+f,Qe=function iR(o,c){const u=[];for(let d=0;d<c;d++)u.push(d<o?null:zn);return u}(we,Ue),_t="function"==typeof H?H():H;return Qe[Kt]={type:o,blueprint:Qe,template:u,queries:null,viewQuery:x,declTNode:c,data:Qe.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:A,consts:_t,incompleteFirstPass:!1,ssrId:de}}let sT=o=>null;function aT(o,c,u,d){for(let f in o)if(o.hasOwnProperty(f)){u=null===u?{}:u;const g=o[f];null===d?cT(u,c,f,g):d.hasOwnProperty(f)&&cT(u,c,d[f],g)}return u}function cT(o,c,u,d){o.hasOwnProperty(u)?o[u].push(c,d):o[u]=[c,d]}function Vi(o,c,u,d,f,g,b,x){const A=Rr(c,u);let de,H=c.inputs;!x&&null!=H&&(de=H[d])?(hw(o,u,de,d,f),ps(c)&&function Nv(o,c){const u=Hr(c,o);16&u[kn]||(u[kn]|=64)}(u,c.index)):3&c.type&&(d=function sR(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=b?b(f,c.value||"",d):f,g.setProperty(A,d,f))}function sw(o,c,u,d){if(T_()){const f=null===d?null:{"":-1},g=function lR(o,c){const u=o.directiveRegistry;let d=null,f=null;if(u)for(let g=0;g<u.length;g++){const b=u[g];if(Ho(c,b.selectors,!1))if(d||(d=[]),_o(b))if(null!==b.findHostDirectiveDefs){const x=[];f=f||new Map,b.findHostDirectiveDefs(b,x,f),d.unshift(...x,b),lw(o,c,x.length)}else d.unshift(b),lw(o,c,0);else f=f||new Map,b.findHostDirectiveDefs?.(b,d,f),d.push(b)}return null===d?null:[d,f]}(o,u);let b,x;null===g?b=x=null:[b,x]=g,null!==b&&uT(o,c,u,b,f,x),f&&function ic(o,c,u){if(c){const d=o.localNames=[];for(let f=0;f<c.length;f+=2){const g=u[c[f+1]];if(null==g)throw new M(-301,!1);d.push(c[f],g)}}}(u,d,f)}u.mergedAttrs=Xt(u.mergedAttrs,u.attrs)}function uT(o,c,u,d,f,g){for(let H=0;H<d.length;H++)Gp(Fl(u,c),o,d[H].type);!function Lv(o,c,u){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+u,o.providerIndexes=c}(u,o.data.length,d.length);for(let H=0;H<d.length;H++){const de=d[H];de.providersResolver&&de.providersResolver(de)}let b=!1,x=!1,A=jm(o,c,d.length,null);for(let H=0;H<d.length;H++){const de=d[H];u.mergedAttrs=Xt(u.mergedAttrs,de.hostAttrs),uR(o,u,c,A,de),rc(A,de,f),null!==de.contentQueries&&(u.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(u.flags|=64);const we=de.type.prototype;!b&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((o.preOrderHooks??=[]).push(u.index),b=!0),!x&&(we.ngOnChanges||we.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(u.index),x=!0),A++}!function lT(o,c,u){const f=c.directiveEnd,g=o.data,b=c.attrs,x=[];let A=null,H=null;for(let de=c.directiveStart;de<f;de++){const we=g[de],Ue=u?u.get(we):null,_t=Ue?Ue.outputs:null;A=aT(we.inputs,de,A,Ue?Ue.inputs:null),H=aT(we.outputs,de,H,_t);const Ot=null===A||null===b||Hn(c)?null:mT(A,de,b);x.push(Ot)}null!==A&&(A.hasOwnProperty("class")&&(c.flags|=8),A.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=x,c.inputs=A,c.outputs=H}(o,u,g)}function cw(o,c,u){const d=u.directiveStart,f=u.directiveEnd,g=u.index,b=function kp(){return In.lFrame.currentDirectiveIndex}();try{$a(g);for(let x=d;x<f;x++){const A=o.data[x],H=c[x];M_(x),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&hT(A,H)}}finally{$a(-1),M_(b)}}function hT(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function lw(o,c,u){c.componentOffset=u,(o.components??=[]).push(c.index)}function rc(o,c,u){if(u){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)u[c.exportAs[d]]=o;_o(c)&&(u[""]=o)}}function uR(o,c,u,d,f){o.data[d]=f;const g=f.factory||(f.factory=Hs(f.type)),b=new qs(g,_o(f),Gh);o.blueprint[d]=b,u[d]=b,function dT(o,c,u,d,f){const g=f.hostBindings;if(g){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const x=~c.index;(function cR(o){let c=o.length;for(;c>0;){const u=o[--c];if("number"==typeof u&&u<0)return u}return 0})(b)!=x&&b.push(x),b.push(u,d,g)}}(o,c,d,jm(o,u,f.hostVars,zn),f)}function No(o,c,u,d,f,g){const b=Rr(o,c);!function dd(o,c,u,d,f,g,b){if(null==g)o.removeAttribute(c,f,u);else{const x=null==b?W(g):b(g,d||"",f);o.setAttribute(c,f,x,u)}}(c[yn],b,g,o.value,u,d,f)}function fT(o,c,u,d,f,g){const b=g[c];if(null!==b)for(let x=0;x<b.length;)pT(d,u,b[x++],b[x++],b[x++])}function pT(o,c,u,d,f){const g=wr(null);try{const b=o.inputTransforms;null!==b&&b.hasOwnProperty(d)&&(f=b[d].call(c,f)),null!==o.setInput?o.setInput(c,f,u,d):c[d]=f}finally{wr(g)}}function mT(o,c,u){let d=null,f=0;for(;f<u.length;){const g=u[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const b=o[g];for(let x=0;x<b.length;x+=2)if(b[x]===c){d.push(g,b[x+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function gT(o,c,u,d){return[o,!0,!1,c,null,0,d,u,null,null,null]}function _T(o,c){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d+1];if(-1!==g){const b=o.data[g];za(u[d]),b.contentQueries(2,c[g],g)}}}function Vv(o,c){return o[Fs]?o[Au][Qr]=c:o[Fs]=c,o[Au]=c,c}function uw(o,c,u){za(0);const d=wr(null);try{c(o,u)}finally{wr(d)}}function dw(o){return o[hs]||(o[hs]=[])}function zm(o){return o.cleanup||(o.cleanup=[])}function vT(o,c){const u=o[Wo],d=u?u.get(tc,null):null;d&&d.handleError(c)}function hw(o,c,u,d,f){for(let g=0;g<u.length;){const b=u[g++],x=u[g++];pT(o.data[b],c[b],d,x,f)}}function fR(o,c){const u=Hr(c,o),d=u[Kt];!function pR(o,c){for(let u=c.length;u<o.blueprint.length;u++)c.push(o.blueprint[u])}(d,u);const f=u[vi];null!==f&&null===u[Bs]&&(u[Bs]=$0(f,u[Wo])),co(d,u,u[Ri])}function co(o,c,u){Pp(c);try{const d=o.viewQuery;null!==d&&uw(1,d,u);const f=o.template;null!==f&&iT(o,c,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&_T(o,c),o.staticViewQueries&&uw(2,o.viewQuery,u);const g=o.components;null!==g&&function fw(o,c){for(let u=0;u<c.length;u++)fR(o,c[u])}(c,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{c[kn]&=-5,Ga()}}let yT=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(u,d,f){const g=typeof Zone>"u"?null:Zone.current,b=function Et(o,c,u){const d=Object.create(Ci);u&&(d.consumerAllowSignalWrites=!0),d.fn=o,d.schedule=c;const f=b=>{d.cleanupFn=b};return d.ref={notify:()=>gs(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Ml(d))return;d.hasRun=!0;const b=_s(d);try{d.cleanupFn(),d.cleanupFn=un,d.fn(f)}finally{Ou(d,b)}},cleanup:()=>d.cleanupFn()},d.ref}(u,H=>{this.all.has(H)&&this.queue.set(H,g)},f);let x;this.all.add(b),b.notify();const A=()=>{b.cleanup(),x?.(),this.all.delete(b),this.queue.delete(b)};return x=d?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[u,d]of this.queue)this.queue.delete(u),d?d.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ut({token:o,providedIn:"root",factory:()=>new o})}return o})();function Gm(o,c,u){let d=u?o.styles:null,f=u?o.classes:null,g=0;if(null!==c)for(let b=0;b<c.length;b++){const x=c[b];"number"==typeof x?g=x:1==g?f=K(f,x):2==g&&(d=K(d,x+": "+c[++b]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}function $m(o,c,u,d,f=!1){for(;null!==u;){const g=c[u.index];null!==g&&d.push(Pi(g)),br(g)&&bT(g,d);const b=u.type;if(8&b)$m(o,c,u.child,d);else if(32&b){const x=ko(u,c);let A;for(;A=x();)d.push(A)}else if(16&b){const x=b0(c,u);if(Array.isArray(x))d.push(...x);else{const A=Xa(c[Zi]);$m(A[Kt],A,x,d,!0)}}u=f?u.projectionNext:u.next}return d}function bT(o,c){for(let u=zi;u<o.length;u++){const d=o[u],f=d[Kt].firstChild;null!==f&&$m(d[Kt],d,f,c)}o[po]!==o[vi]&&c.push(o[po])}function Jo(o,c,u,d=!0){const f=c[ho],g=f.rendererFactory,b=f.afterRenderEventManager;g.begin?.(),b?.begin();try{wT(o,c,o.template,u)}catch(A){throw d&&vT(c,A),A}finally{g.end?.(),f.effectManager?.flush(),b?.end()}}function wT(o,c,u,d){const f=c[kn];if(256!=(256&f)){c[ho].effectManager?.flush(),Pp(c);try{w_(c),function A_(o){return In.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&iT(o,c,u,2,d);const b=3==(3&f);if(b){const H=o.preOrderCheckHooks;null!==H&&Oc(c,H,null)}else{const H=o.preOrderHooks;null!==H&&fh(c,H,0,null),Vu(c,0)}if(function xT(o){for(let c=Mh(o);null!==c;c=_0(c)){if(!c[qo])continue;const u=c[go];for(let d=0;d<u.length;d++){Vb(u[d])}}}(c),ET(c,2),null!==o.contentQueries&&_T(o,c),b){const H=o.contentCheckHooks;null!==H&&Oc(c,H)}else{const H=o.contentHooks;null!==H&&fh(c,H,1),Vu(c,1)}!function nR(o,c){const u=o.hostBindingOpCodes;if(null===u)return;const d=Mv(c,Zo);try{for(let f=0;f<u.length;f++){const g=u[f];if(g<0)$a(~g);else{const b=g,x=u[++f],A=u[++f];Rp(x,b),d.dirty=!1;const H=_s(d);try{A(2,c[b])}finally{Ou(d,H)}}}}finally{null===c[Zo]&&Rv(c,Zo),$a(-1)}}(o,c);const x=o.components;null!==x&&TT(c,x,0);const A=o.viewQuery;if(null!==A&&uw(2,A,d),b){const H=o.viewCheckHooks;null!==H&&Oc(c,H)}else{const H=o.viewHooks;null!==H&&fh(c,H,2),Vu(c,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[kn]&=-73,Jx(c)}finally{Ga()}}}function ET(o,c){for(let u=Mh(o);null!==u;u=_0(u))for(let d=zi;d<u.length;d++)IT(u[d],c)}function hd(o,c,u){IT(Hr(c,o),u)}function IT(o,c){if(!function Pc(o){return 128==(128&o[kn])}(o))return;const u=o[Kt],d=o[kn];if(80&d&&0===c||1024&d||2===c)wT(u,o,u.template,o[Ri]);else if(o[ds]>0){ET(o,1);const f=u.components;null!==f&&TT(o,f,1)}}function TT(o,c,u){for(let d=0;d<c.length;d++)hd(o,c[d],u)}class Zh{get rootNodes(){const c=this._lView,u=c[Kt];return $m(u,c,u.firstChild,[])}constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ri]}set context(c){this._lView[Ri]=c}get destroyed(){return 256==(256&this._lView[kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[fi];if(br(c)){const u=c[8],d=u?u.indexOf(this):-1;d>-1&&(tn(c,d),Hu(u,d))}this._attachedToViewContainer=!1}nn(this._lView[Kt],this._lView)}onDestroy(c){!function Cp(o,c){if(256==(256&o[kn]))throw new M(911,!1);null===o[Vs]&&(o[Vs]=[]),o[Vs].push(c)}(this._lView,c)}markForCheck(){Fm(this._cdRefInjectingView||this._lView)}detach(){this._lView[kn]&=-129}reattach(){this._lView[kn]|=128}detectChanges(){Jo(this._lView[Kt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ue(o,c){Ja(o,c,c[yn],2,null,null)}(this._lView[Kt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=c}}class gR extends Zh{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Jo(c[Kt],c,c[Ri],!1)}checkNoChanges(){}get context(){return null}}class CT extends jh{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=ri(c);return new qh(u,this.ngModule)}}function DT(o){const c=[];for(let u in o)o.hasOwnProperty(u)&&c.push({propName:o[u],templateName:u});return c}class pw{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,d){d=ot(d);const f=this.injector.get(c,Y0,d);return f!==Y0||u===Y0?f:this.parentInjector.get(c,u,d)}}class qh extends FI{get inputs(){const c=this.componentDef,u=c.inputTransforms,d=DT(c.inputs);if(null!==u)for(const f of d)u.hasOwnProperty(f.propName)&&(f.transform=u[f.propName]);return d}get outputs(){return DT(this.componentDef.outputs)}constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function Br(o){return o.map(ss).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}create(c,u,d,f){let g=(f=f||this.ngModule)instanceof ec?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const b=g?new pw(c,g):c,x=b.get(UM,null);if(null===x)throw new M(407,!1);const we={rendererFactory:x,sanitizer:b.get(HM,null),effectManager:b.get(yT,null),afterRenderEventManager:b.get(Av,null)},Ue=x.createRenderer(null,this.componentDef),Qe=this.componentDef.selectors[0][0]||"div",_t=d?function rT(o,c,u,d){const g=d.get(ld,!1)||u===nt.ShadowDom,b=o.selectRootElement(c,g);return function oT(o){sT(o)}(b),b}(Ue,d,this.componentDef.encapsulation,b):_(Ue,Qe,function AT(o){const c=o.toLowerCase();return"svg"===c?pa:"math"===c?"math":null}(Qe)),xn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Mt=null;null!==_t&&(Mt=$0(_t,b,!0));const Bn=Ov(0,null,null,1,0,null,null,null,null,null,null),Qn=kv(null,Bn,null,xn,null,null,we,Ue,b,null,Mt);let gi,uo;Pp(Qn);try{const Sa=this.componentDef;let gu,WE=null;Sa.findHostDirectiveDefs?(gu=[],WE=new Map,Sa.findHostDirectiveDefs(Sa,gu,WE),gu.push(Sa)):gu=[Sa];const gA=function vR(o,c){const u=o[Kt],d=Kn;return o[d]=c,$h(u,d,2,"#host",null)}(Qn,_t),uP=function yR(o,c,u,d,f,g,b){const x=f[Kt];!function bR(o,c,u,d){for(const f of o)c.mergedAttrs=Xt(c.mergedAttrs,f.hostAttrs);null!==c.mergedAttrs&&(Gm(c,c.mergedAttrs,!0),null!==u&&Gc(d,u,c))}(d,o,c,b);let A=null;null!==c&&(A=$0(c,f[Wo]));const H=g.rendererFactory.createRenderer(c,u);let de=16;u.signals?de=4096:u.onPush&&(de=64);const we=kv(f,Pv(u),null,de,f[o.index],o,g,H,null,null,A);return x.firstCreatePass&&lw(x,o,d.length-1),Vv(f,we),f[o.index]=we}(gA,_t,Sa,gu,Qn,we,Ue);uo=Lb(Bn,Kn),_t&&function wR(o,c,u,d){if(d)rn(o,u,["ng-version",VI.full]);else{const{attrs:f,classes:g}=function zo(o){const c=[],u=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&c.push(g,o[++d]):8===f&&u.push(g);else{if(!Gn(f))break;f=g}d++}return{attrs:c,classes:u}}(c.selectors[0]);f&&rn(o,u,f),g&&g.length>0&&sM(o,u,g.join(" "))}}(Ue,Sa,_t,d),void 0!==u&&function ER(o,c,u){const d=o.projection=[];for(let f=0;f<c.length;f++){const g=u[f];d.push(null!=g?Array.from(g):null)}}(uo,this.ngContentSelectors,u),gi=function ST(o,c,u,d,f,g){const b=ur(),x=f[Kt],A=Rr(b,f);uT(x,f,b,u,null,d);for(let de=0;de<u.length;de++)zr(Ya(f,x,b.directiveStart+de,b),f);cw(x,f,b),A&&zr(A,f);const H=Ya(f,x,b.directiveStart+b.componentOffset,b);if(o[Ri]=f[Ri]=H,null!==g)for(const de of g)de(H,c);return rw(x,b,o),H}(uP,Sa,gu,WE,Qn,[MT]),co(Bn,Qn,null)}finally{Ga()}return new _R(this.componentType,gi,ji(uo,Qn),Qn,uo)}}class _R extends NI{constructor(c,u,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new gR(f),this.componentType=c}setInput(c,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),u))return;const g=this._rootLView;hw(g[Kt],g,f,c,u),this.previousInputValues.set(c,u),Fm(Hr(this._tNode.index,g))}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function MT(){const o=ur();Za(It()[Kt],o)}function Uv(o){let c=function RT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;c;){let f;if(_o(o))f=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new M(903,!1);f=c.\u0275dir}if(f){if(u){d.push(f);const b=o;b.inputs=Yh(o.inputs),b.inputTransforms=Yh(o.inputTransforms),b.declaredInputs=Yh(o.declaredInputs),b.outputs=Yh(o.outputs);const x=f.hostBindings;x&&OT(o,x);const A=f.viewQuery,H=f.contentQueries;if(A&&kT(o,A),H&&PT(o,H),$(o.inputs,f.inputs),$(o.declaredInputs,f.declaredInputs),$(o.outputs,f.outputs),null!==f.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),$(b.inputTransforms,f.inputTransforms)),_o(f)&&f.data.animation){const de=o.data;de.animation=(de.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let b=0;b<g.length;b++){const x=g[b];x&&x.ngInherit&&x(o),x===Uv&&(u=!1)}}c=Object.getPrototypeOf(c)}!function xR(o){let c=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=c+=f.hostVars,f.hostAttrs=Xt(f.hostAttrs,u=Xt(u,f.hostAttrs))}}(d)}function Yh(o){return o===ke?{}:o===Oe?[]:o}function kT(o,c){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{c(d,f),u(d,f)}:c}function PT(o,c){const u=o.contentQueries;o.contentQueries=u?(d,f,g)=>{c(d,f,g),u(d,f,g)}:c}function OT(o,c){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{c(d,f),u(d,f)}:c}function VT(o){const c=o.inputConfig,u={};for(const d in c)if(c.hasOwnProperty(d)){const f=c[d];Array.isArray(f)&&f[2]&&(u[d]=f[2])}o.inputTransforms=u}function jv(o){return!!UT(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function UT(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function sc(o,c,u){return o[c]=u}function kr(o,c,u){return!Object.is(o[c],u)&&(o[c]=u,!0)}function Hv(o,c,u,d){const f=It();return kr(f,Ha(),c)&&(Jn(),No(Oi(),f,o,c,u,d)),Hv}function Kh(o,c,u,d){return kr(o,Ha(),u)?c+W(u)+d:zn}function Zv(o,c,u,d,f,g,b,x){const A=It(),H=Jn(),de=o+Kn,we=H.firstCreatePass?function QT(o,c,u,d,f,g,b,x,A){const H=c.consts,de=$h(c,o,4,b||null,ja(H,x));sw(c,u,de,ja(H,A)),Za(c,de);const we=de.tView=Ov(2,de,d,f,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,H,null);return null!==c.queries&&(c.queries.template(c,de),we.queries=c.queries.embeddedTView(de)),de}(de,H,A,c,u,d,f,g,b):H.data[de];Ws(we,!1);const Ue=qv(H,A,we,o);va()&&hv(H,A,Ue,we),zr(Ue,A),Vv(A,A[de]=gT(Ue,A,Ue,we)),Fa(we)&&Oo(H,A,we),null!=b&&Hm(A,we,x)}let qv=function Yv(o,c,u,d){return Wa(!0),c[yn].createComment("")};function JT(o){return ma(function Hb(){return In.lFrame.contextLView}(),Kn+o)}function _d(o,c,u){const d=It();return kr(d,Ha(),c)&&Vi(Jn(),Oi(),d,o,c,d[yn],u,!1),_d}function Ew(o,c,u,d,f){const b=f?"class":"style";hw(o,u,c.inputs[b],b,d)}function Kv(o,c,u,d){const f=It(),g=Jn(),b=Kn+o,x=f[yn],A=g.firstCreatePass?function Qm(o,c,u,d,f,g){const b=c.consts,A=$h(c,o,2,d,ja(b,f));return sw(c,u,A,ja(b,g)),null!==A.attrs&&Gm(A,A.attrs,!1),null!==A.mergedAttrs&&Gm(A,A.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,A),A}(b,g,f,c,u,d):g.data[b],H=Xv(g,f,A,x,c,o);f[b]=H;const de=Fa(A);return Ws(A,!0),Gc(x,H,A),32!=(32&A.flags)&&va()&&hv(g,f,H,A),0===function I_(){return In.lFrame.elementDepthCount}()&&zr(H,f),function Bb(){In.lFrame.elementDepthCount++}(),de&&(Oo(g,f,A),rw(g,A,f)),null!==d&&Hm(f,A),Kv}function Qv(){let o=ur();Fu()?Lu():(o=o.parent,Ws(o,!1));const c=o;(function lh(o){return In.skipHydrationRootTNode===o})(c)&&function uh(){In.skipHydrationRootTNode=null}(),function Ub(){In.lFrame.elementDepthCount--}();const u=Jn();return u.firstCreatePass&&(Za(u,o),Us(o)&&u.queries.elementEnd(o)),null!=c.classesWithoutHost&&function tI(o){return 0!=(8&o.flags)}(c)&&Ew(u,c,It(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function V_(o){return 0!=(16&o.flags)}(c)&&Ew(u,c,It(),c.stylesWithoutHost,!1),Qv}function af(o,c,u,d){return Kv(o,c,u,d),Qv(),af}let Xv=(o,c,u,d,f,g)=>(Wa(!0),_(d,f,function F_(){return In.lFrame.currentNamespace}()));function Xm(o,c,u){const d=It(),f=Jn(),g=o+Kn,b=f.firstCreatePass?function tC(o,c,u,d,f){const g=c.consts,b=ja(g,d),x=$h(c,o,8,"ng-container",b);return null!==b&&Gm(x,b,!0),sw(c,u,x,ja(g,f)),null!==c.queries&&c.queries.elementStart(c,x),x}(g,f,d,c,u):f.data[g];Ws(b,!0);const x=ey(f,d,b,o);return d[g]=x,va()&&hv(f,d,x,b),zr(x,d),Fa(b)&&(Oo(f,d,b),rw(f,b,d)),null!=u&&Hm(d,b),Xm}function vd(){let o=ur();const c=Jn();return Fu()?Lu():(o=o.parent,Ws(o,!1)),c.firstCreatePass&&(Za(c,o),Us(o)&&c.queries.elementEnd(o)),vd}let ey=(o,c,u,d)=>(Wa(!0),m(c[yn],""));function Tw(){return It()}function ty(o){return!!o&&"function"==typeof o.then}function nC(o){return!!o&&"function"==typeof o.subscribe}function ny(o,c,u,d){const f=It(),g=Jn(),b=ur();return function Aw(o,c,u,d,f,g,b){const x=Fa(d),H=o.firstCreatePass&&zm(o),de=c[Ri],we=dw(c);let Ue=!0;if(3&d.type||b){const Ot=Rr(d,c),qt=b?b(Ot):Ot,xn=we.length,Mt=b?Qn=>b(Pi(Qn[d.index])):d.index;let Bn=null;if(!b&&x&&(Bn=function Dw(o,c,u,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const b=f[g];if(b===u&&f[g+1]===d){const x=c[hs],A=f[g+2];return x.length>A?x[A]:null}"string"==typeof b&&(g+=2)}return null}(o,c,f,d.index)),null!==Bn)(Bn.__ngLastListenerFn__||Bn).__ngNextListenerFn__=g,Bn.__ngLastListenerFn__=g,Ue=!1;else{g=iy(d,c,de,g,!1);const Qn=u.listen(qt,f,g);we.push(g,Qn),H&&H.push(f,Mt,xn,xn+1)}}else g=iy(d,c,de,g,!1);const Qe=d.outputs;let _t;if(Ue&&null!==Qe&&(_t=Qe[f])){const Ot=_t.length;if(Ot)for(let qt=0;qt<Ot;qt+=2){const gi=c[_t[qt]][_t[qt+1]].subscribe(g),uo=we.length;we.push(g,gi),H&&H.push(f,d.index,uo,-(uo+1))}}}(g,f,f[yn],b,o,c,d),ny}function iC(o,c,u,d){try{return Mr(6,c,u),!1!==u(d)}catch(f){return vT(o,f),!1}finally{Mr(7,c,u)}}function iy(o,c,u,d,f){return function g(b){if(b===Function)return d;Fm(o.componentOffset>-1?Hr(o.index,c):c);let A=iC(c,u,d,b),H=g.__ngNextListenerFn__;for(;H;)A=iC(c,u,H,b)&&A,H=H.__ngNextListenerFn__;return f&&!1===A&&b.preventDefault(),A}}function ry(o=1){return function Op(o){return(In.lFrame.contextLView=function Np(o,c){for(;o>0;)c=c[jr],o--;return c}(o,In.lFrame.contextLView))[Ri]}(o)}function Sw(o,c){let u=null;const d=function xc(o){const c=o.attrs;if(null!=c){const u=c.indexOf(5);if(!(1&u))return c[u+1]}return null}(o);for(let f=0;f<c.length;f++){const g=c[f];if("*"!==g){if(null===d?Ho(o,g,!0):Ao(d,g))return f}else u=f}return u}function Or(o){const c=It()[Zi][tr];if(!c.projection){const d=c.projection=Hl(o?o.length:1,null),f=d.slice();let g=c.child;for(;null!==g;){const b=o?Sw(g,o):0;null!==b&&(f[b]?f[b].projectionNext=g:d[b]=g,f[b]=g),g=g.next}}}function $r(o,c=0,u){const d=It(),f=Jn(),g=$h(f,Kn+o,16,null,u||null);null===g.projection&&(g.projection=c),Lu(),(!d[Bs]||Nu())&&32!=(32&g.flags)&&function Ql(o,c,u){oM(c[yn],0,c,u,pm(o,u,c),v0(u.parent||c[tr],u,c))}(f,d,g)}function cf(o,c,u){return Jm(o,"",c,"",u),cf}function Jm(o,c,u,d,f){const g=It(),b=Kh(g,c,u,d);return b!==zn&&Vi(Jn(),Oi(),g,o,b,g[yn],f,!1),Jm}function nu(o,c){return o<<17|c<<2}function cc(o){return o>>17&32767}function uf(o){return 2|o}function Qc(o){return(131068&o)>>2}function eg(o,c){return-131069&o|c<<2}function Rw(o){return 1|o}function tg(o,c,u,d,f){const g=o[u+1],b=null===c;let x=d?cc(g):Qc(g),A=!1;for(;0!==x&&(!1===A||b);){const de=o[x+1];FR(o[x],c)&&(A=!0,o[x+1]=d?Rw(de):uf(de)),x=d?cc(de):Qc(de)}A&&(o[u+1]=d?uf(g):Rw(g))}function FR(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&Ro(o,c)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yd(o){return o.substring(Nr.key,Nr.keyEnd)}function iu(o,c){const u=Nr.textEnd;return u===c?-1:(c=Nr.keyEnd=function mC(o,c,u){for(;c<u&&o.charCodeAt(c)>32;)c++;return c}(o,Nr.key=c,u),lc(o,c,u))}function lc(o,c,u){for(;c<u&&o.charCodeAt(c)<=32;)c++;return c}function og(o,c,u){return Ts(o,c,u,!1),og}function sy(o,c){return Ts(o,c,null,!0),sy}function ay(o){!function es(o,c,u,d){const f=Jn(),g=Zs(2);f.firstUpdatePass&&Ow(f,null,g,d);const b=It();if(u!==zn&&kr(b,g,u)){const x=f.data[eo()];if(bC(x,d)&&!df(f,g)){let A=d?x.classesWithoutHost:x.stylesWithoutHost;null!==A&&(u=K(A,u||"")),Ew(f,x,b,u,d)}else!function yC(o,c,u,d,f,g,b,x){f===zn&&(f=Oe);let A=0,H=0,de=0<f.length?f[0]:null,we=0<g.length?g[0]:null;for(;null!==de||null!==we;){const Ue=A<f.length?f[A+1]:void 0,Qe=H<g.length?g[H+1]:void 0;let Ot,_t=null;de===we?(A+=2,H+=2,Ue!==Qe&&(_t=we,Ot=Qe)):null===we||null!==de&&de<we?(A+=2,_t=de):(H+=2,_t=we,Ot=Qe),null!==_t&&cg(o,c,u,d,_t,Ot,b,x),de=A<f.length?f[A]:null,we=H<g.length?g[H]:null}}(f,x,b,b[yn],b[g+1],b[g+1]=function _C(o,c,u){if(null==u||""===u)return Oe;const d=[],f=$c(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&c(d,f);return d}(o,c,u),d,g)}}(ag,ta,o,!0)}function ta(o,c){for(let u=function VR(o){return function kw(o){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=o.length}(o),iu(o,lc(o,0,Nr.textEnd))}(c);u>=0;u=iu(c,u))io(o,yd(c),!0)}function Ts(o,c,u,d){const f=It(),g=Jn(),b=Zs(2);g.firstUpdatePass&&Ow(g,o,b,d),c!==zn&&kr(f,b,c)&&cg(g,g.data[eo()],f,f[yn],o,f[b+1]=function Lw(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=Q($c(o)))),o}(c,u),d,b)}function df(o,c){return c>=o.expandoStartIndex}function Ow(o,c,u,d){const f=o.data;if(null===f[u+1]){const g=f[eo()],b=df(o,u);bC(g,d)&&null===c&&!b&&(c=!1),c=function UR(o,c,u,d){const f=function dh(o){const c=In.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}(o);let g=d?c.residualClasses:c.residualStyles;if(null===f)0===(d?c.classBindings:c.styleBindings)&&(u=hf(u=cy(null,o,c,u,d),c.attrs,d),g=null);else{const b=c.directiveStylingLast;if(-1===b||o[b]!==f)if(u=cy(f,o,c,u,d),null===g){let A=function gC(o,c,u){const d=u?c.classBindings:c.styleBindings;if(0!==Qc(d))return o[cc(d)]}(o,c,d);void 0!==A&&Array.isArray(A)&&(A=cy(null,o,c,A[1],d),A=hf(A,c.attrs,d),function Nw(o,c,u,d){o[cc(u?c.classBindings:c.styleBindings)]=d}(o,c,d,A))}else g=function Fw(o,c,u){let d;const f=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<f;g++)d=hf(d,o[g].hostAttrs,u);return hf(d,c.attrs,u)}(o,c,d)}return void 0!==g&&(d?c.residualClasses=g:c.residualStyles=g),u}(f,g,c,d),function hC(o,c,u,d,f,g){let b=g?c.classBindings:c.styleBindings,x=cc(b),A=Qc(b);o[d]=u;let de,H=!1;if(Array.isArray(u)?(de=u[1],(null===de||Ro(u,de)>0)&&(H=!0)):de=u,f)if(0!==A){const Ue=cc(o[x+1]);o[d+1]=nu(Ue,x),0!==Ue&&(o[Ue+1]=eg(o[Ue+1],d)),o[x+1]=function OR(o,c){return 131071&o|c<<17}(o[x+1],d)}else o[d+1]=nu(x,0),0!==x&&(o[x+1]=eg(o[x+1],d)),x=d;else o[d+1]=nu(A,0),0===x?x=d:o[A+1]=eg(o[A+1],d),A=d;H&&(o[d+1]=uf(o[d+1])),tg(o,de,d,!0),tg(o,de,d,!1),function fC(o,c,u,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof c&&Ro(g,c)>=0&&(u[d+1]=Rw(u[d+1]))}(c,de,o,d,g),b=nu(x,A),g?c.classBindings=b:c.styleBindings=b}(f,g,c,u,b,d)}}function cy(o,c,u,d,f){let g=null;const b=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<b&&(g=c[x],d=hf(d,g.hostAttrs,f),g!==o);)x++;return null!==o&&(u.directiveStylingLast=x),d}function hf(o,c,u){const d=u?1:2;let f=-1;if(null!==c)for(let g=0;g<c.length;g++){const b=c[g];"number"==typeof b?f=b:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),io(o,b,!!u||c[++g]))}return void 0===o?null:o}function ag(o,c,u){const d=String(c);""!==d&&!d.includes(" ")&&io(o,d,u)}function cg(o,c,u,d,f,g,b,x){if(!(3&c.type))return;const A=o.data,H=A[x+1],de=function dC(o){return 1==(1&o)}(H)?ff(A,c,u,f,Qc(H),b):void 0;uc(de)||(uc(g)||function uC(o){return 2==(2&o)}(H)&&(g=ff(A,null,u,f,x,b)),function Po(o,c,u,d,f){if(c)f?o.addClass(u,d):o.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Dh.DashCase;null==f?o.removeStyle(u,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Dh.Important),o.setStyle(u,d,f,g))}}(d,b,Ua(eo(),u),f,g))}function ff(o,c,u,d,f,g){const b=null===c;let x;for(;f>0;){const A=o[f],H=Array.isArray(A),de=H?A[1]:A,we=null===de;let Ue=u[f+1];Ue===zn&&(Ue=we?Oe:void 0);let Qe=we?$u(Ue,d):de===d?Ue:void 0;if(H&&!uc(Qe)&&(Qe=$u(A,d)),uc(Qe)&&(x=Qe,b))return x;const _t=o[f+1];f=b?cc(_t):Qc(_t)}if(null!==c){let A=g?c.residualClasses:c.residualStyles;null!=A&&(x=$u(A,d))}return x}function uc(o){return void 0!==o}function bC(o,c){return 0!=(o.flags&(c?8:16))}function wC(o,c=""){const u=It(),d=Jn(),f=o+Kn,g=d.firstCreatePass?$h(d,f,1,c,null):d.data[f],b=Vw(d,u,g,c,o);u[f]=b,va()&&hv(d,u,b,g),Ws(g,!1)}let Vw=(o,c,u,d,f)=>(Wa(!0),function jc(o,c){return o.createText(c)}(c[yn],d));function Xc(o){return na("",o,""),Xc}function na(o,c,u){const d=It(),f=Kh(d,o,c,u);return f!==zn&&function oc(o,c,u){const d=Ua(c,o);!function w(o,c,u){o.setValue(c,u)}(o[yn],d,u)}(d,eo(),f),na}function vf(o,c,u){const d=It();return kr(d,Ha(),c)&&Vi(Jn(),Oi(),d,o,c,d[yn],u,!0),vf}const ou=void 0;var mg=["en",[["a","p"],["AM","PM"],ou],[["AM","PM"],ou,ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ou,"{1} 'at' {0}",ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pg(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let yf={};function dy(o){const c=function LC(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=FC(c);if(u)return u;const d=c.split("-")[0];if(u=FC(d),u)return u;if("en"===d)return mg;throw new M(701,!1)}function NC(o){return dy(o)[bd.PluralCase]}function FC(o){return o in yf||(yf[o]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[o]),yf[o]}var bd=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(bd||{});const Lo="en-US";let zw=Lo;function Ty(o,c,u,d,f){if(o=ne(o),Array.isArray(o))for(let g=0;g<o.length;g++)Ty(o[g],c,u,d,f);else{const g=Jn(),b=It(),x=ur();let A=rd(o)?o:ne(o.provide);const H=Tm(o),de=1048575&x.providerIndexes,we=x.directiveStart,Ue=x.providerIndexes>>20;if(rd(o)||!o.multi){const Qe=new qs(H,f,Gh),_t=Cy(A,c,f?de:de+Ue,we);-1===_t?(Gp(Fl(x,b),g,A),Un(g,o,c.length),c.push(A),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(Qe),b.push(Qe)):(u[_t]=Qe,b[_t]=Qe)}else{const Qe=Cy(A,c,de+Ue,we),_t=Cy(A,c,de,de+Ue),qt=_t>=0&&u[_t];if(f&&!qt||!f&&!(Qe>=0&&u[Qe])){Gp(Fl(x,b),g,A);const xn=function mi(o,c,u,d,f){const g=new qs(o,u,Gh);return g.multi=[],g.index=c,g.componentProviders=0,Td(g,f,d&&!u),g}(f?En:Ki,u.length,f,d,H);!f&&qt&&(u[_t].providerFactory=xn),Un(g,o,c.length,0),c.push(A),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),u.push(xn),b.push(xn)}else Un(g,o,Qe>-1?Qe:_t,Td(u[f?_t:Qe],H,!f&&d));!f&&d&&qt&&u[_t].componentProviders++}}}function Un(o,c,u,d){const f=rd(c),g=function DM(o){return!!o.useClass}(c);if(f||g){const A=(g?ne(c.useClass):c).prototype.ngOnDestroy;if(A){const H=o.destroyHooks||(o.destroyHooks=[]);if(!f&&c.multi){const de=H.indexOf(u);-1===de?H.push(u,[d,A]):H[de+1].push(d,A)}else H.push(u,A)}}}function Td(o,c,u){return u&&o.componentProviders++,o.multi.push(c)-1}function Cy(o,c,u,d){for(let f=u;f<d;f++)if(c[f]===o)return f;return-1}function Ki(o,c,u,d){return Cd(this.multi,[])}function En(o,c,u,d){const f=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Ya(u,u[Kt],this.providerFactory.index,d);g=x.slice(0,b),Cd(f,g);for(let A=b;A<x.length;A++)g.push(x[A])}else g=[],Cd(f,g);return g}function Cd(o,c){for(let u=0;u<o.length;u++)c.push((0,o[u])());return c}function iD(o,c=[]){return u=>{u.providersResolver=(d,f)=>function ak(o,c,u){const d=Jn();if(d.firstCreatePass){const f=_o(o);Ty(u,d.data,d.blueprint,f,!0),Ty(c,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,c)}}class xi{}class Zt{}function Cf(o,c){return new nl(o,c??null,[])}class nl extends xi{constructor(c,u,d){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new CT(this);const f=Ur(c);this._bootstrapComponents=qc(f.bootstrap),this._r3Injector=UI(c,u,[{provide:xi,useValue:this},{provide:jh,useValue:this.componentFactoryResolver},...d],Q(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Xw extends Zt{constructor(c){super(),this.moduleType=c}create(c){return new nl(this.moduleType,c,[])}}class oD extends xi{constructor(c){super(),this.componentFactoryResolver=new CT(this),this.instance=null;const u=new Fh([...c.providers,{provide:xi,useValue:this},{provide:jh,useValue:this.componentFactoryResolver}],c.parent||bv(),c.debugName,new Set(["environment"]));this.injector=u,c.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Ad(o,c,u=null){return new oD({providers:o,parent:c,debugName:u,runEnvironmentInitializers:!0}).injector}let sD=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const d=k0(0,u.type),f=d.length>0?Ad([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,f)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ut({token:o,providedIn:"environment",factory:()=>new o(pe(ec))})}return o})();function Jw(o){o.getStandaloneInjector=c=>c.get(sD).getOrCreateStandaloneInjector(o)}function au(o,c){const u=o[c];return u===zn?void 0:u}function dD(o,c,u,d,f,g,b){const x=c+u;return function tu(o,c,u,d){const f=kr(o,c,u);return kr(o,c+1,d)||f}(o,x,f,g)?sc(o,x+2,b?d.call(b,f,g):d(f,g)):au(o,x+2)}function mD(o,c){const u=Jn();let d;const f=o+Kn;u.firstCreatePass?(d=function fk(o,c){if(c)for(let u=c.length-1;u>=0;u--){const d=c[u];if(o===d.name)return d}}(c,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks??=[]).push(f,d.onDestroy)):d=u.data[f];const g=d.factory||(d.factory=Hs(d.type)),x=Fn(Gh);try{const A=Uu(!1),H=g();return Uu(A),function XT(o,c,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),c[u]=d}(u,It(),f,H),H}finally{Fn(x)}}function gD(o,c,u){const d=o+Kn,f=It(),g=ma(f,d);return Tg(f,d)?function rE(o,c,u,d,f,g){const b=c+u;return kr(o,b,f)?sc(o,b+1,g?d.call(g,f):d(f)):au(o,b+1)}(f,dr(),c,g.transform,u,g):g.transform(u)}function _D(o,c,u,d){const f=o+Kn,g=It(),b=ma(g,f);return Tg(g,f)?dD(g,dr(),c,b.transform,u,d,b):b.transform(u,d)}function Tg(o,c){return o[Kt].data[c].pure}function _k(){return this._results[Symbol.iterator]()}class Cg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Js)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Cg.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=_k)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const d=this;d.dirty=!1;const f=function vs(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Ks(o,c,u){if(o.length!==c.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=c[d];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vD(o,c,u,d=!0){const f=c[Kt];if(function et(o,c,u,d){const f=zi+d,g=u.length;d>0&&(u[f-1][Qr]=c),d<g-zi?(c[Qr]=u[f],q_(u,zi+d,c)):(u.push(c),c[Qr]=null),c[fi]=u;const b=c[Na];null!==b&&u!==b&&function yt(o,c){const u=o[go];c[Zi]!==c[fi][fi][Zi]&&(o[qo]=!0),null===u?o[go]=[c]:u.push(c)}(b,c);const x=c[fo];null!==x&&x.insertView(o),c[kn]|=128}(f,c,o,u),d){const g=mI(u,o),b=c[yn],x=Kl(b,o[po]);null!==x&&function B(o,c,u,d,f,g){d[vi]=f,d[tr]=c,Ja(o,d,u,1,f,g)}(f,o[tr],b,c,x,g)}}let Md=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=cu}return o})();const Zr=Md,yD=class extends Zr{constructor(c,u,d){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,u){return this.createEmbeddedViewImpl(c,u)}createEmbeddedViewImpl(c,u,d){const f=function vk(o,c,u,d){const f=c.tView,x=kv(o,f,u,4096&o[kn]?4096:16,null,c,null,null,null,d?.injector??null,d?.hydrationInfo??null);x[Na]=o[c.index];const H=o[fo];return null!==H&&(x[fo]=H.createEmbeddedView(f)),co(f,x,u),x}(this._declarationLView,this._declarationTContainer,c,{injector:u,hydrationInfo:d});return new Zh(f)}};function cu(){return Dg(ur(),It())}function Dg(o,c){return 4&o.type?new yD(c,o,ji(o,c)):null}let Ry=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=lu}return o})();function lu(){return Sf(ur(),It())}const cr=Ry,hc=class extends cr{constructor(c,u,d){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=d}get element(){return ji(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ll(this._hostTNode,this._hostLView);if(mh(c)){const u=no(c,this._hostLView),d=Nl(c);return new Er(u[Kt].data[d+8],u)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=Ag(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-zi}createEmbeddedView(c,u,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const x=c.createEmbeddedViewImpl(u||{},g,null);return this.insertImpl(x,f,false),x}createComponent(c,u,d,f,g){const b=c&&!function Ka(o){return"function"==typeof o}(c);let x;if(b)x=u;else{const Ot=u||{};x=Ot.index,d=Ot.injector,f=Ot.projectableNodes,g=Ot.environmentInjector||Ot.ngModuleRef}const A=b?c:new qh(ri(c)),H=d||this.parentInjector;if(!g&&null==A.ngModule){const qt=(b?H:this.parentInjector).get(ec,null);qt&&(g=qt)}ri(A.componentType??{});const Qe=A.create(H,f,null,g);return this.insertImpl(Qe.hostView,x,false),Qe}insert(c,u){return this.insertImpl(c,u,!1)}insertImpl(c,u,d){const f=c._lView;if(function Tp(o){return br(o[fi])}(f)){const A=this.indexOf(c);if(-1!==A)this.detach(A);else{const H=f[fi],de=new hc(H,H[tr],H[fi]);de.detach(de.indexOf(c))}}const b=this._adjustIndex(u),x=this._lContainer;return vD(x,f,b,!d),c.attachToViewContainerRef(),q_(Af(x),b,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=Ag(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),d=tn(this._lContainer,u);d&&(Hu(Af(this._lContainer),u),nn(d[Kt],d))}detach(c){const u=this._adjustIndex(c,-1),d=tn(this._lContainer,u);return d&&null!=Hu(Af(this._lContainer),u)?new Zh(d):null}_adjustIndex(c,u=0){return c??this.length+u}};function Ag(o){return o[8]}function Af(o){return o[8]||(o[8]=[])}function Sf(o,c){let u;const d=c[o.index];return br(d)?u=d:(u=gT(d,c,null,o),c[o.index]=u,Vv(c,u)),ol(u,c,o,d),new hc(u,o,c)}let ol=function sl(o,c,u,d){if(o[po])return;let f;f=8&u.type?Pi(d):function wk(o,c){const u=o[yn],d=u.createComment(""),f=Rr(c,o);return Hc(u,Kl(u,f),d,function _m(o,c){return o.nextSibling(c)}(u,f),!1),d}(c,u),o[po]=f};class ia{constructor(c){this.queryList=c,this.matches=null}clone(){return new ia(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rd{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const d=null!==c.contentQueries?c.contentQueries[0]:u.length,f=[];for(let g=0;g<d;g++){const b=u.getByIndex(g);f.push(this.queries[b.indexInDeclarationView].clone())}return new Rd(f)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Yr(c,u).matches&&this.queries[u].setDirty()}}class al{constructor(c,u,d=null){this.predicate=c,this.flags=u,this.read=d}}class Py{constructor(c=[]){this.queries=c}elementStart(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(c,f);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Py(u):null}template(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class du{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new du(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(c,u,oE(u,g)),this.matchTNodeWithReadOption(c,u,Vl(u,c,g,!1,!1))}else d===Md?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Vl(u,c,d,!1,!1))}matchTNodeWithReadOption(c,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Rm||f===Ry||f===Md&&4&u.type)this.addMatch(u.index,-2);else{const g=Vl(u,c,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function oE(o,c){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===c)return u[d+1];return null}function kd(o,c,u,d){return-1===u?function Oy(o,c){return 11&o.type?ji(o,c):4&o.type?Dg(o,c):null}(c,o):-2===u?function sE(o,c,u){return u===Rm?ji(c,o):u===Md?Dg(c,o):u===Ry?Sf(c,o):void 0}(o,c,d):Ya(o,o[Kt],u,c)}function Mf(o,c,u,d){const f=c[fo].queries[d];if(null===f.matches){const g=o.data,b=u.matches,x=[];for(let A=0;A<b.length;A+=2){const H=b[A];x.push(H<0?null:kd(c,g[H],b[A+1],u.metadata.read))}f.matches=x}return f.matches}function Ny(o,c,u,d){const f=o.queries.getByIndex(u),g=f.matches;if(null!==g){const b=Mf(o,c,f,u);for(let x=0;x<g.length;x+=2){const A=g[x];if(A>0)d.push(b[x/2]);else{const H=g[x+1],de=c[-A];for(let we=zi;we<de.length;we++){const Ue=de[we];Ue[Na]===Ue[fi]&&Ny(Ue[Kt],Ue,H,d)}if(null!==de[go]){const we=de[go];for(let Ue=0;Ue<we.length;Ue++){const Qe=we[Ue];Ny(Qe[Kt],Qe,H,d)}}}}}return d}function aE(o){const c=It(),u=Jn(),d=R_();za(d+1);const f=Yr(u,d);if(o.dirty&&function Ip(o){return 4==(4&o[kn])}(c)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?Ny(u,c,d,[]):Mf(u,c,f,d);o.reset(g,BM),o.notifyOnChanges()}return!0}return!1}function Sg(o,c,u){const d=Jn();d.firstCreatePass&&(lE(d,new al(o,c,u),-1),2==(2&c)&&(d.staticViewQueries=!0)),ED(d,It(),c)}function Rf(o,c,u,d){const f=Jn();if(f.firstCreatePass){const g=ur();lE(f,new al(c,u,d),g.index),function xD(o,c){const u=o.contentQueries||(o.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,c)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}ED(f,It(),u)}function cE(){return function Ek(o,c){return o[fo].queries[c].queryList}(It(),R_())}function ED(o,c,u){const d=new Cg(4==(4&u));(function nc(o,c,u,d){const f=dw(c);f.push(u),o.firstCreatePass&&zm(o).push(d,f.length-1)})(o,c,d,d.destroy),null===c[fo]&&(c[fo]=new Rd),c[fo].queries.push(new ia(d))}function lE(o,c,u){null===o.queries&&(o.queries=new Py),o.queries.track(new du(c,u))}function Yr(o,c){return o.queries.getByIndex(c)}function uE(o,c){return Dg(o,c)}function si(o){return!!Ur(o)}const bE=new je("Application Initializer");let jy=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d}),this.appInits=Ve(bE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const f of this.appInits){const g=f();if(ty(g))u.push(g);else if(nC(g)){const b=new Promise((x,A)=>{g.subscribe({complete:x,error:A})});u.push(b)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),wE=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const zy=new je("LocaleId",{providedIn:"root",factory:()=>Ve(zy,Nt.Optional|Nt.SkipSelf)||function Hy(){return typeof $localize<"u"&&$localize.locale||Lo}()}),kk=new je("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let EE=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new L.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Ld{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let FD=(()=>{class o{compileModuleSync(u){return new Xw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=qc(Ur(u).declarations).reduce((b,x)=>{const A=ri(x);return A&&b.push(new qh(A)),b},[]);return new Ld(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const AE=new je(""),zD=new je("");let Bd,GD=(()=>{class o{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bd||(function ME(o){Bd=o}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}static#e=this.\u0275fac=function(d){return new(d||o)(pe(dt),pe(SE),pe(zD))};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac})}return o})(),SE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Bd?.findTestabilityInTree(this,u,d)??null}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),ra=null;const Lf=new je("AllowMultipleToken"),Vf=new je("PlatformDestroyListeners"),qy=new je("appBootstrapListener");class qD{constructor(c,u){this.name=c,this.token=u}}function Yy(o,c,u=[]){const d=`Platform: ${c}`,f=new je(d);return(g=[])=>{let b=or();if(!b||b.injector.get(Lf,!1)){const x=[...u,...g,{provide:f,useValue:!0}];o?o(x):function jk(o){if(ra&&!ra.get(Lf,!1))throw new M(400,!1);(function WD(){!function b_(o){kl=o}(()=>{throw new M(600,!1)})})(),ra=o;const c=o.get(Ky);(function YD(o){o.get(kM,null)?.forEach(u=>u())})(o)}(function RE(o=[],c){return Ia.create({name:c,providers:[{provide:O0,useValue:"platform"},{provide:Vf,useValue:new Set([()=>ra=null])},...o]})}(x,d))}return function Bf(o){const c=or();if(!c)throw new M(401,!1);return c}()}}function or(){return ra?.get(Ky)??null}let Ky=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function Vg(o="zone.js",c){return"noop"===o?new ir:"zone.js"===o?new dt(c):o}(d?.ngZone,function kE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return f.run(()=>{const g=function Dd(o,c,u){return new nl(o,c,u)}(u.moduleType,this.injector,function Uf(o){return[{provide:dt,useFactory:o},{provide:Im,multi:!0,useFactory:()=>{const c=Ve(zk,{optional:!0});return()=>c.initialize()}},{provide:OE,useFactory:KD},{provide:Gi,useFactory:Dv}]}(()=>f)),b=g.injector.get(tc,null);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:A=>{b.handleError(A)}});g.onDestroy(()=>{fu(this._modules,g),x.unsubscribe()})}),function Aa(o,c,u){try{const d=u();return ty(d)?d.catch(f=>{throw c.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw c.runOutsideAngular(()=>o.handleError(d)),d}}(b,f,()=>{const x=g.injector.get(jy);return x.runInitializers(),x.donePromise.then(()=>(function my(o){Ct(o,"Expected localeId to be defined"),"string"==typeof o&&(zw=o.toLowerCase().replace(/_/g,"-"))}(g.injector.get(zy,Lo)||Lo),this._moduleDoBootstrap(g),g))})})}bootstrapModule(u,d=[]){const f=Qy({},d);return function $D(o,c,u){const d=new Xw(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const d=u.injector.get(Ud);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new M(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Vf,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||o)(pe(Ia))};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Qy(o,c){return Array.isArray(c)?c.reduce(Qy,o):{...o,...c}}let Ud=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ve(OE),this.zoneIsStable=Ve(Gi),this.componentTypes=[],this.components=[],this.isStable=Ve(EE).hasPendingTasks.pipe((0,F.w)(u=>u?(0,U.of)(!1):this.zoneIsStable),(0,j.x)(),(0,S.B)()),this._injector=Ve(ec)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const f=u instanceof FI;if(!this._injector.get(jy).done)throw!f&&us(u),new M(405,!1);let b;b=f?u:this._injector.get(jh).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const x=function ZD(o){return o.isBoundToModule}(b)?void 0:this._injector.get(xi),H=b.create(Ia.NULL,[],d||b.selector,x),de=H.location.nativeElement,we=H.injector.get(AE,null);return we?.registerApplication(de),H.onDestroy(()=>{this.detachView(H.hostView),fu(this.components,H),we?.unregisterApplication(de)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;fu(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(qy,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>fu(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new M(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function fu(o,c){const u=o.indexOf(c);u>-1&&o.splice(u,1)}const OE=new je("",{providedIn:"root",factory:()=>Ve(tc).handleError.bind(void 0)});function KD(){const o=Ve(dt),c=Ve(tc);return u=>o.runOutsideAngular(()=>c.handleError(u))}let zk=(()=>{class o{constructor(){this.zone=Ve(dt),this.applicationRef=Ve(Ud)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||o)};static#t=this.\u0275prov=Ut({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Gk(){return!1}let JD=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Zk}return o})();function Zk(o){return function qk(o,c,u){if(ps(o)&&!u){const d=Hr(o.index,c);return new Zh(d,d)}return 47&o.type?new Zh(c[Zi],c):null}(ur(),It(),16==(16&o))}class LE{constructor(){}supports(c){return jv(c)}create(c){return new Jy(c)}}const nA=(o,c)=>c;class Jy{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||nA}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,d=this._removalsHead,f=0,g=null;for(;u||d;){const b=!d||u&&u.currentIndex<VE(d,f,g)?u:d,x=VE(b,f,g),A=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{g||(g=[]);const H=x-f,de=A-f;if(H!=de){for(let Ue=0;Ue<H;Ue++){const Qe=Ue<g.length?g[Ue]:g[Ue]=0,_t=Qe+Ue;de<=_t&&_t<H&&(g[Ue]=Qe+1)}g[b.previousIndex]=de-H}}x!==A&&c(b,x,A)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!jv(c))throw new M(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f,g,b,u=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let x=0;x<this.length;x++)g=c[x],b=this._trackByFn(x,g),null!==u&&Object.is(u.trackById,b)?(d&&(u=this._verifyReinsertion(u,g,b,x)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,b,x),d=!0),u=u._next}else f=0,function BT(o,c){if(Array.isArray(o))for(let u=0;u<o.length;u++)c(o[u]);else{const u=o[Symbol.iterator]();let d;for(;!(d=u.next()).done;)c(d.value)}}(c,x=>{b=this._trackByFn(f,x),null!==u&&Object.is(u.trackById,b)?(d&&(u=this._verifyReinsertion(u,x,b,f)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,b,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,d,f){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,g,f)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,g,f)):c=this._addAfter(new Hg(u,d),g,f),c}_verifyReinsertion(c,u,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?c=this._reinsertAfter(g,c._prev,f):c.currentIndex!=f&&(c.currentIndex=f,this._addToMoves(c,f)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const f=c._prevRemoved,g=c._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(c,u,d),this._addToMoves(c,d),c}_moveAfter(c,u,d){return this._unlink(c),this._insertAfter(c,u,d),this._addToMoves(c,d),c}_addAfter(c,u,d){return this._insertAfter(c,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,d){const f=null===u?this._itHead:u._next;return c._next=f,c._prev=u,null===f?this._itTail=c:f._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new iA),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,d=c._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iA),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Hg{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hd{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const u=c._prevDup,d=c._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class iA{constructor(){this.map=new Map}put(c){const u=c.trackById;let d=this.map.get(u);d||(d=new Hd,this.map.set(u,d)),d.add(c)}get(c,u){const f=this.map.get(c);return f?f.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VE(o,c,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+c+f}class rA{constructor(){}supports(c){return c instanceof Map||UT(c)}create(){return new Jk}}class Jk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||UT(c)))throw new M(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const d=c._prev;return u._next=c,u._prev=d,c._prev=u,d&&(d._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const f=this._records.get(c);this._maybeAddToChanges(f,u);const g=f._prev,b=f._next;return g&&(g._next=b),b&&(b._prev=g),f._next=null,f._prev=null,f}const d=new eP(c);return this._records.set(c,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(d=>u(c[d],d))}}class eP{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hf(){return new pl([new LE])}let pl=(()=>{class o{static#e=this.\u0275prov=Ut({token:o,providedIn:"root",factory:Hf});constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Hf()),deps:[[o,new Zu,new Vc]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new M(901,!1)}}return o})();function BE(){return new eb([new rA])}let eb=(()=>{class o{static#e=this.\u0275prov=Ut({token:o,providedIn:"root",factory:BE});constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||BE()),deps:[[o,new Zu,new Vc]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new M(901,!1)}}return o})();const cA=Yy(null,"core",[]);let UE=(()=>{class o{constructor(u){}static#e=this.\u0275fac=function(d){return new(d||o)(pe(Ud))};static#t=this.\u0275mod=cs({type:o});static#n=this.\u0275inj=fn({})}return o})();function mu(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function mA(o){const c=ri(o);if(!c)return null;const u=new qh(c);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},2296:(ae,se,y)=>{"use strict";y.d(se,{RK:()=>hn,lW:()=>J,ot:()=>Ke});var a=y(2831),I=y(5879),D=y(7849),P=y(2495),L=y(3680);const U=["mat-button",""],S=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],F=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Z=["mat-icon-button",""],ce=["*"],te=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,L.pj)((0,L.Id)((0,L.Kr)(class{constructor($e){this._elementRef=$e}})));let M=(()=>{class $e extends Y{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ze){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ze)}get disableRipple(){return this._disableRipple}set disableRipple(ze){this._disableRipple=(0,P.Ig)(ze),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ze){this._disabled=(0,P.Ig)(ze),this._updateRippleDisabled()}constructor(ze,qe,Ct,le){super(ze),this._platform=qe,this._ngZone=Ct,this._animationMode=le,this._focusMonitor=(0,I.f3M)(D.tE),this._rippleLoader=(0,I.f3M)(L.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const he=ze.nativeElement.classList;for(const Ye of te)this._hasHostAttributes(Ye.selector)&&Ye.mdcClasses.forEach(Fe=>{he.add(Fe)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ze="program",qe){ze?this._focusMonitor.focusVia(this._elementRef.nativeElement,ze,qe):this._elementRef.nativeElement.focus(qe)}_hasHostAttributes(...ze){return ze.some(qe=>this._elementRef.nativeElement.hasAttribute(qe))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(qe){I.$Z()};static#t=this.\u0275dir=I.lG2({type:$e,features:[I.qOj]})}return $e})(),J=(()=>{class $e extends M{constructor(ze,qe,Ct,le){super(ze,qe,Ct,le)}static#e=this.\u0275fac=function(qe){return new(qe||$e)(I.Y36(I.SBq),I.Y36(a.t4),I.Y36(I.R0b),I.Y36(I.QbO,8))};static#t=this.\u0275cmp=I.Xpm({type:$e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(qe,Ct){2&qe&&(I.uIk("disabled",Ct.disabled||null),I.ekj("_mat-animation-noopable","NoopAnimations"===Ct._animationMode)("mat-unthemed",!Ct.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[I.qOj],attrs:U,ngContentSelectors:F,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(qe,Ct){1&qe&&(I.F$t(S),I._UZ(0,"span",0),I.Hsn(1),I.TgZ(2,"span",1),I.Hsn(3,1),I.qZA(),I.Hsn(4,2),I._UZ(5,"span",2)(6,"span",3)),2&qe&&I.ekj("mdc-button__ripple",!Ct._isFab)("mdc-fab__ripple",Ct._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return $e})(),hn=(()=>{class $e extends M{constructor(ze,qe,Ct,le){super(ze,qe,Ct,le),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(qe){return new(qe||$e)(I.Y36(I.SBq),I.Y36(a.t4),I.Y36(I.R0b),I.Y36(I.QbO,8))};static#t=this.\u0275cmp=I.Xpm({type:$e,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(qe,Ct){2&qe&&(I.uIk("disabled",Ct.disabled||null),I.ekj("_mat-animation-noopable","NoopAnimations"===Ct._animationMode)("mat-unthemed",!Ct.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[I.qOj],attrs:Z,ngContentSelectors:ce,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(qe,Ct){1&qe&&(I.F$t(),I._UZ(0,"span",0),I.Hsn(1),I._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return $e})(),Ke=(()=>{class $e{static#e=this.\u0275fac=function(qe){return new(qe||$e)};static#t=this.\u0275mod=I.oAB({type:$e});static#n=this.\u0275inj=I.cJS({imports:[L.BQ,L.si,L.BQ]})}return $e})()},3680:(ae,se,y)=>{"use strict";y.d(se,{rD:()=>Ct,Y2:()=>mt,BQ:()=>M,uc:()=>Fe,wG:()=>Tt,Fq:()=>_i,si:()=>Nt,pj:()=>Re,Kr:()=>fe,Id:()=>J,FD:()=>Pe,sb:()=>Ce});var a=y(5879),I=y(7849),D=y(9388),L=y(6814),U=y(2831),S=y(2495);const Y=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function te(){return!0}});let M=(()=>{class ht{constructor(z,oe,Ne){this._sanityChecks=oe,this._document=Ne,this._hasDoneGlobalChecks=!1,z._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(z){return!(0,U.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[z])}static#e=this.\u0275fac=function(oe){return new(oe||ht)(a.LFG(I.qm),a.LFG(Y,8),a.LFG(L.K0))};static#t=this.\u0275mod=a.oAB({type:ht});static#n=this.\u0275inj=a.cJS({imports:[D.vT,D.vT]})}return ht})();function J(ht){return class extends ht{get disabled(){return this._disabled}set disabled(ie){this._disabled=(0,S.Ig)(ie)}constructor(...ie){super(...ie),this._disabled=!1}}}function Re(ht,ie){return class extends ht{get color(){return this._color}set color(z){const oe=z||this.defaultColor;oe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),oe&&this._elementRef.nativeElement.classList.add(`mat-${oe}`),this._color=oe)}constructor(...z){super(...z),this.defaultColor=ie,this.color=ie}}}function fe(ht){return class extends ht{get disableRipple(){return this._disableRipple}set disableRipple(ie){this._disableRipple=(0,S.Ig)(ie)}constructor(...ie){super(...ie),this._disableRipple=!1}}}function Ce(ht,ie=0){return class extends ht{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(z){this._tabIndex=null!=z?(0,S.su)(z):this.defaultTabIndex}constructor(...z){super(...z),this._tabIndex=ie,this.defaultTabIndex=ie}}}function Pe(ht){return class extends ht{updateErrorState(){const ie=this.errorState,De=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);De!==ie&&(this.errorState=De,this.stateChanges.next())}constructor(...ie){super(...ie),this.errorState=!1}}}let Ct=(()=>{class ht{isErrorState(z,oe){return!!(z&&z.invalid&&(z.touched||oe&&oe.submitted))}static#e=this.\u0275fac=function(oe){return new(oe||ht)};static#t=this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})(),Fe=(()=>{class ht{static#e=this.\u0275fac=function(oe){return new(oe||ht)};static#t=this.\u0275mod=a.oAB({type:ht});static#n=this.\u0275inj=a.cJS({imports:[M,M]})}return ht})();class Ut{constructor(ie,z,oe,Ne=!1){this._renderer=ie,this.element=z,this.config=oe,this._animationForciblyDisabledThroughCss=Ne,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _n=(0,U.i$)({passive:!0,capture:!0});class fn{constructor(){this._events=new Map,this._delegateEventHandler=ie=>{const z=(0,U.sA)(ie);z&&this._events.get(ie.type)?.forEach((oe,Ne)=>{(Ne===z||Ne.contains(z))&&oe.forEach(De=>De.handleEvent(ie))})}}addHandler(ie,z,oe,Ne){const De=this._events.get(z);if(De){const gt=De.get(oe);gt?gt.add(Ne):De.set(oe,new Set([Ne]))}else this._events.set(z,new Map([[oe,new Set([Ne])]])),ie.runOutsideAngular(()=>{document.addEventListener(z,this._delegateEventHandler,_n)})}removeHandler(ie,z,oe){const Ne=this._events.get(ie);if(!Ne)return;const De=Ne.get(z);De&&(De.delete(oe),0===De.size&&Ne.delete(z),0===Ne.size&&(this._events.delete(ie),document.removeEventListener(ie,this._delegateEventHandler,_n)))}}const Dn={enterDuration:225,exitDuration:150},ge=(0,U.i$)({passive:!0,capture:!0}),V=["mousedown","touchstart"],G=["mouseup","mouseleave","touchend","touchcancel"];class Ee{static#e=this._eventManager=new fn;constructor(ie,z,oe,Ne){this._target=ie,this._ngZone=z,this._platform=Ne,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ne.isBrowser&&(this._containerElement=(0,S.fI)(oe))}fadeInRipple(ie,z,oe={}){const Ne=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),De={...Dn,...oe.animation};oe.centered&&(ie=Ne.left+Ne.width/2,z=Ne.top+Ne.height/2);const gt=oe.radius||function We(ht,ie,z){const oe=Math.max(Math.abs(ht-z.left),Math.abs(ht-z.right)),Ne=Math.max(Math.abs(ie-z.top),Math.abs(ie-z.bottom));return Math.sqrt(oe*oe+Ne*Ne)}(ie,z,Ne),Le=ie-Ne.left,ve=z-Ne.top,pe=De.enterDuration,xe=document.createElement("div");xe.classList.add("mat-ripple-element"),xe.style.left=Le-gt+"px",xe.style.top=ve-gt+"px",xe.style.height=2*gt+"px",xe.style.width=2*gt+"px",null!=oe.color&&(xe.style.backgroundColor=oe.color),xe.style.transitionDuration=`${pe}ms`,this._containerElement.appendChild(xe);const Ve=window.getComputedStyle(xe),Dt=Ve.transitionDuration,en="none"===Ve.transitionProperty||"0s"===Dt||"0s, 0s"===Dt||0===Ne.width&&0===Ne.height,Ln=new Ut(this,xe,oe,en);xe.style.transform="scale3d(1, 1, 1)",Ln.state=0,oe.persistent||(this._mostRecentTransientRipple=Ln);let Zn=null;return!en&&(pe||De.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const rt=()=>this._finishRippleTransition(Ln),He=()=>this._destroyRipple(Ln);xe.addEventListener("transitionend",rt),xe.addEventListener("transitioncancel",He),Zn={onTransitionEnd:rt,onTransitionCancel:He}}),this._activeRipples.set(Ln,Zn),(en||!pe)&&this._finishRippleTransition(Ln),Ln}fadeOutRipple(ie){if(2===ie.state||3===ie.state)return;const z=ie.element,oe={...Dn,...ie.config.animation};z.style.transitionDuration=`${oe.exitDuration}ms`,z.style.opacity="0",ie.state=2,(ie._animationForciblyDisabledThroughCss||!oe.exitDuration)&&this._finishRippleTransition(ie)}fadeOutAll(){this._getActiveRipples().forEach(ie=>ie.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ie=>{ie.config.persistent||ie.fadeOut()})}setupTriggerEvents(ie){const z=(0,S.fI)(ie);!this._platform.isBrowser||!z||z===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=z,V.forEach(oe=>{Ee._eventManager.addHandler(this._ngZone,oe,z,this)}))}handleEvent(ie){"mousedown"===ie.type?this._onMousedown(ie):"touchstart"===ie.type?this._onTouchStart(ie):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{G.forEach(z=>{this._triggerElement.addEventListener(z,this,ge)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ie){0===ie.state?this._startFadeOutTransition(ie):2===ie.state&&this._destroyRipple(ie)}_startFadeOutTransition(ie){const z=ie===this._mostRecentTransientRipple,{persistent:oe}=ie.config;ie.state=1,!oe&&(!z||!this._isPointerDown)&&ie.fadeOut()}_destroyRipple(ie){const z=this._activeRipples.get(ie)??null;this._activeRipples.delete(ie),this._activeRipples.size||(this._containerRect=null),ie===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ie.state=3,null!==z&&(ie.element.removeEventListener("transitionend",z.onTransitionEnd),ie.element.removeEventListener("transitioncancel",z.onTransitionCancel)),ie.element.remove()}_onMousedown(ie){const z=(0,I.X6)(ie),oe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!z&&!oe&&(this._isPointerDown=!0,this.fadeInRipple(ie.clientX,ie.clientY,this._target.rippleConfig))}_onTouchStart(ie){if(!this._target.rippleDisabled&&!(0,I.yG)(ie)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const z=ie.changedTouches;if(z)for(let oe=0;oe<z.length;oe++)this.fadeInRipple(z[oe].clientX,z[oe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ie=>{!ie.config.persistent&&(1===ie.state||ie.config.terminateOnPointerUp&&0===ie.state)&&ie.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ie=this._triggerElement;ie&&(V.forEach(z=>Ee._eventManager.removeHandler(z,ie,this)),this._pointerUpEventsRegistered&&G.forEach(z=>ie.removeEventListener(z,this,ge)))}}const mt=new a.OlP("mat-ripple-global-options");let Tt=(()=>{class ht{get disabled(){return this._disabled}set disabled(z){z&&this.fadeOutAllNonPersistent(),this._disabled=z,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(z){this._trigger=z,this._setupTriggerEventsIfEnabled()}constructor(z,oe,Ne,De,gt){this._elementRef=z,this._animationMode=gt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=De||{},this._rippleRenderer=new Ee(this,oe,z,Ne)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(z,oe=0,Ne){return"number"==typeof z?this._rippleRenderer.fadeInRipple(z,oe,{...this.rippleConfig,...Ne}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...z})}static#e=this.\u0275fac=function(oe){return new(oe||ht)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(U.t4),a.Y36(mt,8),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:ht,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(oe,Ne){2&oe&&a.ekj("mat-ripple-unbounded",Ne.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return ht})(),Nt=(()=>{class ht{static#e=this.\u0275fac=function(oe){return new(oe||ht)};static#t=this.\u0275mod=a.oAB({type:ht});static#n=this.\u0275inj=a.cJS({imports:[M,M]})}return ht})();const cn={capture:!0},ln=["focus","click","mouseenter","touchstart"],mn="mat-ripple-loader-uninitialized",Tn="mat-ripple-loader-class-name",Yn="mat-ripple-loader-centered",Mn="mat-ripple-loader-disabled";let _i=(()=>{class ht{constructor(){this._document=(0,a.f3M)(L.K0,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(mt,{optional:!0}),this._platform=(0,a.f3M)(U.t4),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=z=>{if(!(z.target instanceof HTMLElement))return;const Ne=z.target.closest(`[${mn}]`);Ne&&this.createRipple(Ne)},this._ngZone.runOutsideAngular(()=>{for(const z of ln)this._document?.addEventListener(z,this._onInteraction,cn)})}ngOnDestroy(){for(const z of ln)this._document?.removeEventListener(z,this._onInteraction,cn)}configureRipple(z,oe){z.setAttribute(mn,""),(oe.className||!z.hasAttribute(Tn))&&z.setAttribute(Tn,oe.className||""),oe.centered&&z.setAttribute(Yn,""),oe.disabled&&z.setAttribute(Mn,"")}getRipple(z){return z.matRipple?z.matRipple:this.createRipple(z)}setDisabled(z,oe){const Ne=z.matRipple;Ne?Ne.disabled=oe:oe?z.setAttribute(Mn,""):z.removeAttribute(Mn)}createRipple(z){if(!this._document)return;z.querySelector(".mat-ripple")?.remove();const oe=this._document.createElement("span");oe.classList.add("mat-ripple",z.getAttribute(Tn)),z.append(oe);const Ne=new Tt(new a.SBq(oe),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ne._isInitialized=!0,Ne.trigger=z,Ne.centered=z.hasAttribute(Yn),Ne.disabled=z.hasAttribute(Mn),this.attachRipple(z,Ne),Ne}attachRipple(z,oe){z.removeAttribute(mn),z.matRipple=oe}static#e=this.\u0275fac=function(oe){return new(oe||ht)};static#t=this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})()},3176:(ae,se,y)=>{"use strict";y.d(se,{DX:()=>Q,Il:()=>J,N6:()=>Re});var a=y(5879),I=y(3680),D=y(2495),P=y(9388);const L=["*"];class j{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const Pe=Math.max(...this.tracker);return Pe>1?this.rowCount+Pe-1:this.rowCount}update(Pe,Be){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(Pe),this.tracker.fill(0,0,this.tracker.length),this.positions=Be.map(vt=>this._trackTile(vt))}_trackTile(Pe){const Be=this._findMatchingGap(Pe.colspan);return this._markTilePosition(Be,Pe),this.columnIndex=Be+Pe.colspan,new O(this.rowIndex,Be)}_findMatchingGap(Pe){let Be=-1,vt=-1;do{this.columnIndex+Pe>this.tracker.length?(this._nextRow(),Be=this.tracker.indexOf(0,this.columnIndex),vt=this._findGapEndIndex(Be)):(Be=this.tracker.indexOf(0,this.columnIndex),-1!=Be?(vt=this._findGapEndIndex(Be),this.columnIndex=Be+1):(this._nextRow(),Be=this.tracker.indexOf(0,this.columnIndex),vt=this._findGapEndIndex(Be)))}while(vt-Be<Pe||0==vt);return Math.max(Be,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let Pe=0;Pe<this.tracker.length;Pe++)this.tracker[Pe]=Math.max(0,this.tracker[Pe]-1)}_findGapEndIndex(Pe){for(let Be=Pe+1;Be<this.tracker.length;Be++)if(0!=this.tracker[Be])return Be;return this.tracker.length}_markTilePosition(Pe,Be){for(let vt=0;vt<Be.colspan;vt++)this.tracker[Pe+vt]=Be.rowspan}}class O{constructor(Pe,Be){this.row=Pe,this.col=Be}}const $=new a.OlP("MAT_GRID_LIST");let Q=(()=>{class Ce{constructor(Be,vt){this._element=Be,this._gridList=vt,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(Be){this._rowspan=Math.round((0,D.su)(Be))}get colspan(){return this._colspan}set colspan(Be){this._colspan=Math.round((0,D.su)(Be))}_setStyle(Be,vt){this._element.nativeElement.style[Be]=vt}static#e=this.\u0275fac=function(vt){return new(vt||Ce)(a.Y36(a.SBq),a.Y36($,8))};static#t=this.\u0275cmp=a.Xpm({type:Ce,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(vt,Ht){2&vt&&a.uIk("rowspan",Ht.rowspan)("colspan",Ht.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:L,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(vt,Ht){1&vt&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return Ce})();const ye=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class ee{constructor(){this._rows=0,this._rowspan=0}init(Pe,Be,vt,Ht){this._gutterSize=W(Pe),this._rows=Be.rowCount,this._rowspan=Be.rowspan,this._cols=vt,this._direction=Ht}getBaseTileSize(Pe,Be){return`(${Pe}% - (${this._gutterSize} * ${Be}))`}getTilePosition(Pe,Be){return 0===Be?"0":k(`(${Pe} + ${this._gutterSize}) * ${Be}`)}getTileSize(Pe,Be){return`(${Pe} * ${Be}) + (${Be-1} * ${this._gutterSize})`}setStyle(Pe,Be,vt){let Ht=100/this._cols,St=(this._cols-1)/this._cols;this.setColStyles(Pe,vt,Ht,St),this.setRowStyles(Pe,Be,Ht,St)}setColStyles(Pe,Be,vt,Ht){let St=this.getBaseTileSize(vt,Ht);Pe._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(St,Be)),Pe._setStyle("width",k(this.getTileSize(St,Pe.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(Pe){return`${this._rowspan} * ${this.getTileSize(Pe,1)}`}getComputedHeight(){return null}}class te extends ee{constructor(Pe){super(),this.fixedRowHeight=Pe}init(Pe,Be,vt,Ht){super.init(Pe,Be,vt,Ht),this.fixedRowHeight=W(this.fixedRowHeight),ye.test(this.fixedRowHeight)}setRowStyles(Pe,Be){Pe._setStyle("top",this.getTilePosition(this.fixedRowHeight,Be)),Pe._setStyle("height",k(this.getTileSize(this.fixedRowHeight,Pe.rowspan)))}getComputedHeight(){return["height",k(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(Pe){Pe._setListStyle(["height",null]),Pe._tiles&&Pe._tiles.forEach(Be=>{Be._setStyle("top",null),Be._setStyle("height",null)})}}class Y extends ee{constructor(Pe){super(),this._parseRatio(Pe)}setRowStyles(Pe,Be,vt,Ht){this.baseTileHeight=this.getBaseTileSize(vt/this.rowHeightRatio,Ht),Pe._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,Be)),Pe._setStyle("paddingTop",k(this.getTileSize(this.baseTileHeight,Pe.rowspan)))}getComputedHeight(){return["paddingBottom",k(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(Pe){Pe._setListStyle(["paddingBottom",null]),Pe._tiles.forEach(Be=>{Be._setStyle("marginTop",null),Be._setStyle("paddingTop",null)})}_parseRatio(Pe){const Be=Pe.split(":");this.rowHeightRatio=parseFloat(Be[0])/parseFloat(Be[1])}}class M extends ee{setRowStyles(Pe,Be){let St=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);Pe._setStyle("top",this.getTilePosition(St,Be)),Pe._setStyle("height",k(this.getTileSize(St,Pe.rowspan)))}reset(Pe){Pe._tiles&&Pe._tiles.forEach(Be=>{Be._setStyle("top",null),Be._setStyle("height",null)})}}function k(Ce){return`calc(${Ce})`}function W(Ce){return Ce.match(/([A-Za-z%]+)$/)?Ce:`${Ce}px`}let J=(()=>{class Ce{constructor(Be,vt){this._element=Be,this._dir=vt,this._gutter="1px"}get cols(){return this._cols}set cols(Be){this._cols=Math.max(1,Math.round((0,D.su)(Be)))}get gutterSize(){return this._gutter}set gutterSize(Be){this._gutter=`${Be??""}`}get rowHeight(){return this._rowHeight}set rowHeight(Be){const vt=`${Be??""}`;vt!==this._rowHeight&&(this._rowHeight=vt,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(Be){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===Be?new M:Be&&Be.indexOf(":")>-1?new Y(Be):new te(Be)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new j);const Be=this._tileCoordinator,vt=this._tiles.filter(St=>!St._gridList||St._gridList===this),Ht=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,vt),this._tileStyler.init(this.gutterSize,Be,this.cols,Ht),vt.forEach((St,wn)=>{const hn=Be.positions[wn];this._tileStyler.setStyle(St,hn.row,hn.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(Be){Be&&(this._element.nativeElement.style[Be[0]]=Be[1])}static#e=this.\u0275fac=function(vt){return new(vt||Ce)(a.Y36(a.SBq),a.Y36(P.Is,8))};static#t=this.\u0275cmp=a.Xpm({type:Ce,selectors:[["mat-grid-list"]],contentQueries:function(vt,Ht,St){if(1&vt&&a.Suo(St,Q,5),2&vt){let wn;a.iGM(wn=a.CRH())&&(Ht._tiles=wn)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(vt,Ht){2&vt&&a.uIk("cols",Ht.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[a._Bn([{provide:$,useExisting:Ce}])],ngContentSelectors:L,decls:2,vars:0,template:function(vt,Ht){1&vt&&(a.F$t(),a.TgZ(0,"div"),a.Hsn(1),a.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return Ce})(),Re=(()=>{class Ce{static#e=this.\u0275fac=function(vt){return new(vt||Ce)};static#t=this.\u0275mod=a.oAB({type:Ce});static#n=this.\u0275inj=a.cJS({imports:[I.uc,I.BQ,I.uc,I.BQ]})}return Ce})()},3106:(ae,se,y)=>{"use strict";y.d(se,{Z:()=>ce});var a=y(9058),I=y(4537),D=y(534),P=y(7879);class L{constructor(ye,ee){this._delegate=ye,this.firebase=ee,(0,D._addComponent)(ye,new I.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,D.deleteApp)(this._delegate)))}_getService(ye,ee=D._DEFAULT_ENTRY_NAME){var te;this._delegate.checkDestroyed();const Y=this._delegate.container.getProvider(ye);return!Y.isInitialized()&&"EXPLICIT"===(null===(te=Y.getComponent())||void 0===te?void 0:te.instantiationMode)&&Y.initialize(),Y.getImmediate({identifier:ee})}_removeServiceInstance(ye,ee=D._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ee)}_addComponent(ye){(0,D._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,D._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const S=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function j(){const ne=function F(ne){const ye={},ee={__esModule:!0,initializeApp:function M(J,Re={}){const fe=D.initializeApp(J,Re);if((0,a.r3)(ye,fe.name))return ye[fe.name];const Ce=new ne(fe,ee);return ye[fe.name]=Ce,Ce},app:Y,registerVersion:D.registerVersion,setLogLevel:D.setLogLevel,onLog:D.onLog,apps:null,SDK_VERSION:D.SDK_VERSION,INTERNAL:{registerComponent:function W(J){const Re=J.name,fe=Re.replace("-compat","");if(D._registerComponent(J)&&"PUBLIC"===J.type){const Ce=(Pe=Y())=>{if("function"!=typeof Pe[fe])throw S.create("invalid-app-argument",{appName:Re});return Pe[fe]()};void 0!==J.serviceProps&&(0,a.ZB)(Ce,J.serviceProps),ee[fe]=Ce,ne.prototype[fe]=function(...Pe){return this._getService.bind(this,Re).apply(this,J.multipleInstances?Pe:[])}}return"PUBLIC"===J.type?ee[fe]:null},removeApp:function te(J){delete ye[J]},useAsService:function be(J,Re){return"serverAuth"===Re?null:Re},modularAPIs:D}};function Y(J){if(!(0,a.r3)(ye,J=J||D._DEFAULT_ENTRY_NAME))throw S.create("no-app",{appName:J});return ye[J]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function k(){return Object.keys(ye).map(J=>ye[J])}}),Y.App=ne,ee}(L);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:j,extendNamespace:function ye(ee){(0,a.ZB)(ne,ee)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ne}(),$=new P.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=O;!function Z(ne){(0,D.registerVersion)("@firebase/app-compat","0.2.25",ne)}()},534:(ae,se,y)=>{"use strict";y.r(se),y.d(se,{FirebaseError:()=>P.ZR,SDK_VERSION:()=>Gt,_DEFAULT_ENTRY_NAME:()=>Nt,_addComponent:()=>Wn,_addOrOverwriteComponent:()=>Si,_apps:()=>jt,_clearComponents:()=>je,_components:()=>Fn,_getProvider:()=>Ze,_registerComponent:()=>Ae,_removeServiceInstance:()=>lt,deleteApp:()=>ln,getApp:()=>an,getApps:()=>cn,initializeApp:()=>dn,onLog:()=>Yn,registerVersion:()=>Tn,setLogLevel:()=>Mn});var a=y(5861),I=y(4537),D=y(7879),P=y(9058);const L=(rt,He)=>He.some(ut=>rt instanceof ut);let U,S;const O=new WeakMap,$=new WeakMap,Q=new WeakMap,K=new WeakMap,Z=new WeakMap;let ye={get(rt,He,ut){if(rt instanceof IDBTransaction){if("done"===He)return $.get(rt);if("objectStoreNames"===He)return rt.objectStoreNames||Q.get(rt);if("store"===He)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return M(rt[He])},set:(rt,He,ut)=>(rt[He]=ut,!0),has:(rt,He)=>rt instanceof IDBTransaction&&("done"===He||"store"===He)||He in rt};function Y(rt){return"function"==typeof rt?function te(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...He){return rt.apply(k(this),He),M(O.get(this))}:function(...He){return M(rt.apply(k(this),He))}:function(He,...ut){const nt=rt.call(k(this),He,...ut);return Q.set(nt,He.sort?He.sort():[He]),M(nt)}}(rt):(rt instanceof IDBTransaction&&function ne(rt){if($.has(rt))return;const He=new Promise((ut,nt)=>{const ke=()=>{rt.removeEventListener("complete",Oe),rt.removeEventListener("error",Je),rt.removeEventListener("abort",Je)},Oe=()=>{ut(),ke()},Je=()=>{nt(rt.error||new DOMException("AbortError","AbortError")),ke()};rt.addEventListener("complete",Oe),rt.addEventListener("error",Je),rt.addEventListener("abort",Je)});$.set(rt,He)}(rt),L(rt,function F(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,ye):rt)}function M(rt){if(rt instanceof IDBRequest)return function ce(rt){const He=new Promise((ut,nt)=>{const ke=()=>{rt.removeEventListener("success",Oe),rt.removeEventListener("error",Je)},Oe=()=>{ut(M(rt.result)),ke()},Je=()=>{nt(rt.error),ke()};rt.addEventListener("success",Oe),rt.addEventListener("error",Je)});return He.then(ut=>{ut instanceof IDBCursor&&O.set(ut,rt)}).catch(()=>{}),Z.set(He,rt),He}(rt);if(K.has(rt))return K.get(rt);const He=Y(rt);return He!==rt&&(K.set(rt,He),Z.set(He,rt)),He}const k=rt=>Z.get(rt),J=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],fe=new Map;function Ce(rt,He){if(!(rt instanceof IDBDatabase)||He in rt||"string"!=typeof He)return;if(fe.get(He))return fe.get(He);const ut=He.replace(/FromIndex$/,""),nt=He!==ut,ke=Re.includes(ut);if(!(ut in(nt?IDBIndex:IDBObjectStore).prototype)||!ke&&!J.includes(ut))return;const Oe=function(){var Je=(0,a.Z)(function*(Yt,...zt){const Xe=this.transaction(Yt,ke?"readwrite":"readonly");let xt=Xe.store;return nt&&(xt=xt.index(zt.shift())),(yield Promise.all([xt[ut](...zt),ke&&Xe.done]))[0]});return function(zt){return Je.apply(this,arguments)}}();return fe.set(He,Oe),Oe}!function ee(rt){ye=rt(ye)}(rt=>({...rt,get:(He,ut,nt)=>Ce(He,ut)||rt.get(He,ut,nt),has:(He,ut)=>!!Ce(He,ut)||rt.has(He,ut)}));class Pe{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function Be(rt){const He=rt.getComponent();return"VERSION"===He?.type}(ut)){const nt=ut.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(ut=>ut).join(" ")}}const vt="@firebase/app",St=new D.Yd("@firebase/app"),Nt="[DEFAULT]",Qt={[vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,Fn=new Map;function Wn(rt,He){try{rt.container.addComponent(He)}catch(ut){St.debug(`Component ${He.name} failed to register with FirebaseApp ${rt.name}`,ut)}}function Si(rt,He){rt.container.addOrOverwriteComponent(He)}function Ae(rt){const He=rt.name;if(Fn.has(He))return St.debug(`There were multiple attempts to register component ${He}.`),!1;Fn.set(He,rt);for(const ut of jt.values())Wn(ut,rt);return!0}function Ze(rt,He){const ut=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),rt.container.getProvider(He)}function lt(rt,He,ut=Nt){Ze(rt,He).clearInstance(ut)}function je(){Fn.clear()}const ft=new P.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ft{constructor(He,ut,nt){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new I.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}const Gt="10.7.1";function dn(rt,He={}){let ut=rt;"object"!=typeof He&&(He={name:He});const nt=Object.assign({name:Nt,automaticDataCollectionEnabled:!1},He),ke=nt.name;if("string"!=typeof ke||!ke)throw ft.create("bad-app-name",{appName:String(ke)});if(ut||(ut=(0,P.aH)()),!ut)throw ft.create("no-options");const Oe=jt.get(ke);if(Oe){if((0,P.vZ)(ut,Oe.options)&&(0,P.vZ)(nt,Oe.config))return Oe;throw ft.create("duplicate-app",{appName:ke})}const Je=new I.H0(ke);for(const zt of Fn.values())Je.addComponent(zt);const Yt=new Ft(ut,nt,Je);return jt.set(ke,Yt),Yt}function an(rt=Nt){const He=jt.get(rt);if(!He&&rt===Nt&&(0,P.aH)())return dn();if(!He)throw ft.create("no-app",{appName:rt});return He}function cn(){return Array.from(jt.values())}function ln(rt){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(rt){const He=rt.name;jt.has(He)&&(jt.delete(He),yield Promise.all(rt.container.getProviders().map(ut=>ut.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Tn(rt,He,ut){var nt;let ke=null!==(nt=Qt[rt])&&void 0!==nt?nt:rt;ut&&(ke+=`-${ut}`);const Oe=ke.match(/\s|\//),Je=He.match(/\s|\//);if(Oe||Je){const Yt=[`Unable to register library "${ke}" with version "${He}":`];return Oe&&Yt.push(`library name "${ke}" contains illegal characters (whitespace or "/")`),Oe&&Je&&Yt.push("and"),Je&&Yt.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void St.warn(Yt.join(" "))}Ae(new I.wA(`${ke}-version`,()=>({library:ke,version:He}),"VERSION"))}function Yn(rt,He){if(null!==rt&&"function"!=typeof rt)throw ft.create("invalid-log-argument");(0,D.Am)(rt,He)}function Mn(rt){(0,D.Ub)(rt)}const _i="firebase-heartbeat-database",ht=1,ie="firebase-heartbeat-store";let z=null;function oe(){return z||(z=function W(rt,He,{blocked:ut,upgrade:nt,blocking:ke,terminated:Oe}={}){const Je=indexedDB.open(rt,He),Yt=M(Je);return nt&&Je.addEventListener("upgradeneeded",zt=>{nt(M(Je.result),zt.oldVersion,zt.newVersion,M(Je.transaction),zt)}),ut&&Je.addEventListener("blocked",zt=>ut(zt.oldVersion,zt.newVersion,zt)),Yt.then(zt=>{Oe&&zt.addEventListener("close",()=>Oe()),ke&&zt.addEventListener("versionchange",Xe=>ke(Xe.oldVersion,Xe.newVersion,Xe))}).catch(()=>{}),Yt}(_i,ht,{upgrade:(rt,He)=>{0===He&&rt.createObjectStore(ie)}}).catch(rt=>{throw ft.create("idb-open",{originalErrorMessage:rt.message})})),z}function De(){return(De=(0,a.Z)(function*(rt){try{return yield(yield oe()).transaction(ie).objectStore(ie).get(ve(rt))}catch(He){if(He instanceof P.ZR)St.warn(He.message);else{const ut=ft.create("idb-get",{originalErrorMessage:He?.message});St.warn(ut.message)}}})).apply(this,arguments)}function gt(rt,He){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(rt,He){try{const nt=(yield oe()).transaction(ie,"readwrite");yield nt.objectStore(ie).put(He,ve(rt)),yield nt.done}catch(ut){if(ut instanceof P.ZR)St.warn(ut.message);else{const nt=ft.create("idb-set",{originalErrorMessage:ut?.message});St.warn(nt.message)}}})).apply(this,arguments)}function ve(rt){return`${rt.name}!${rt.options.appId}`}class Ve{constructor(He){this.container=He,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new en(ut),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var He=this;return(0,a.Z)(function*(){var ut,nt;const Oe=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=ot();if((null!=(null===(ut=He._heartbeatsCache)||void 0===ut?void 0:ut.heartbeats)||(He._heartbeatsCache=yield He._heartbeatsCachePromise,null!=(null===(nt=He._heartbeatsCache)||void 0===nt?void 0:nt.heartbeats)))&&He._heartbeatsCache.lastSentHeartbeatDate!==Je&&!He._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Je))return He._heartbeatsCache.heartbeats.push({date:Je,agent:Oe}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(Yt=>{const zt=new Date(Yt.date).valueOf();return Date.now()-zt<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,a.Z)(function*(){var ut;if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null==(null===(ut=He._heartbeatsCache)||void 0===ut?void 0:ut.heartbeats)||0===He._heartbeatsCache.heartbeats.length)return"";const nt=ot(),{heartbeatsToSend:ke,unsentEntries:Oe}=function Dt(rt,He=1024){const ut=[];let nt=rt.slice();for(const ke of rt){const Oe=ut.find(Je=>Je.agent===ke.agent);if(Oe){if(Oe.dates.push(ke.date),Ln(ut)>He){Oe.dates.pop();break}}else if(ut.push({agent:ke.agent,dates:[ke.date]}),Ln(ut)>He){ut.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:nt}}(He._heartbeatsCache.heartbeats),Je=(0,P.L)(JSON.stringify({version:2,heartbeats:ke}));return He._heartbeatsCache.lastSentHeartbeatDate=nt,Oe.length>0?(He._heartbeatsCache.heartbeats=Oe,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),Je})()}}function ot(){return(new Date).toISOString().substring(0,10)}class en{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,P.hl)()&&(0,P.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,a.Z)(function*(){if(yield He._canUseIndexedDBPromise){const nt=yield function Ne(rt){return De.apply(this,arguments)}(He.app);return nt?.heartbeats?nt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(He){var ut=this;return(0,a.Z)(function*(){var nt;if(yield ut._canUseIndexedDBPromise){const Oe=yield ut.read();return gt(ut.app,{lastSentHeartbeatDate:null!==(nt=He.lastSentHeartbeatDate)&&void 0!==nt?nt:Oe.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var ut=this;return(0,a.Z)(function*(){var nt;if(yield ut._canUseIndexedDBPromise){const Oe=yield ut.read();return gt(ut.app,{lastSentHeartbeatDate:null!==(nt=He.lastSentHeartbeatDate)&&void 0!==nt?nt:Oe.lastSentHeartbeatDate,heartbeats:[...Oe.heartbeats,...He.heartbeats]})}})()}}function Ln(rt){return(0,P.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Zn(rt){Ae(new I.wA("platform-logger",He=>new Pe(He),"PRIVATE")),Ae(new I.wA("heartbeat",He=>new Ve(He),"PRIVATE")),Tn(vt,"0.9.25",rt),Tn(vt,"0.9.25","esm2017"),Tn("fire-js","")}("")},4537:(ae,se,y)=>{"use strict";y.d(se,{H0:()=>F,wA:()=>D,zt:()=>L});var a=y(5861),I=y(9058);class D{constructor(O,$,Q){this.name=O,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const P="[DEFAULT]";class L{constructor(O,$){this.name=O,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const $=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has($)){const Q=new I.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:$});K&&Q.resolve(K)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(O){var $;const Q=this.normalizeInstanceIdentifier(O?.identifier),K=null!==($=O?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(K)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Z){if(K)return null;throw Z}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function S(j){return"EAGER"===j.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:P})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const K=this.normalizeInstanceIdentifier($);try{const Z=this.getOrInitializeService({instanceIdentifier:K});Q.resolve(Z)}catch{}}}}clearInstance(O=P){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,a.Z)(function*(){const $=Array.from(O.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=P){return this.instances.has(O)}getOptions(O=P){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:$={}}=O,Q=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const K=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Z,ce]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Z)&&ce.resolve(K);return K}onInit(O,$){var Q;const K=this.normalizeInstanceIdentifier($),Z=null!==(Q=this.onInitCallbacks.get(K))&&void 0!==Q?Q:new Set;Z.add(O),this.onInitCallbacks.set(K,Z);const ce=this.instances.get(K);return ce&&O(ce,K),()=>{Z.delete(O)}}invokeOnInitCallbacks(O,$){const Q=this.onInitCallbacks.get($);if(Q)for(const K of Q)try{K(O,$)}catch{}}getOrInitializeService({instanceIdentifier:O,options:$={}}){let Q=this.instances.get(O);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(j=O,j===P?void 0:j),options:$}),this.instances.set(O,Q),this.instancesOptions.set(O,$),this.invokeOnInitCallbacks(Q,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,Q)}catch{}var j;return Q||null}normalizeInstanceIdentifier(O=P){return this.component?this.component.multipleInstances?O:P:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const $=this.getProvider(O.name);if($.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);$.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const $=new L(O,this);return this.providers.set(O,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(ae,se,y)=>{"use strict";y.d(se,{Am:()=>j,Ub:()=>F,Yd:()=>S,in:()=>I});const a=[];var I=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(I||{});const D={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},P=I.INFO,L={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},U=(O,$,...Q)=>{if($<O.logLevel)return;const K=(new Date).toISOString(),Z=L[$];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Z](`[${K}]  ${O.name}:`,...Q)};class S{constructor($){this.name=$,this._logLevel=P,this._logHandler=U,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in I))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?D[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...$),this._logHandler(this,I.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...$),this._logHandler(this,I.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,I.INFO,...$),this._logHandler(this,I.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,I.WARN,...$),this._logHandler(this,I.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,I.ERROR,...$),this._logHandler(this,I.ERROR,...$)}}function F(O){a.forEach($=>{$.setLogLevel(O)})}function j(O,$){for(const Q of a){let K=null;$&&$.level&&(K=D[$.level]),Q.userLogHandler=null===O?null:(Z,ce,...ne)=>{const ye=ne.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch{return null}}).filter(ee=>ee).join(" ");ce>=(K??Z.logLevel)&&O({level:I[ce].toLowerCase(),message:ye,args:ne,type:Z.name})}}}},6230:(ae,se,y)=>{"use strict";y.r(se);var a=y(5861),I=y(3106),D=y(9058),P=y(534),L=y(7879),U=y(7582),S=y(4537);const j={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ce=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ne=function Z(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new D.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new L.Yd("@firebase/auth");function M(w,...m){te.logLevel<=L.in.ERROR&&te.error(`Auth (${P.SDK_VERSION}): ${w}`,...m)}function k(w,...m){throw Re(w,...m)}function W(w,...m){return Re(w,...m)}function be(w,m,_){const E=Object.assign(Object.assign({},ne()),{[m]:_});return new D.LL("auth","Firebase",E).create(m,{appName:w.name})}function J(w,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&k(w,"argument-error"),be(w,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(w,...m){if("string"!=typeof w){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(_,...E)}return ye.create(w,...m)}function fe(w,m,..._){if(!w)throw Re(m,..._)}function Ce(w){const m="INTERNAL ASSERTION FAILED: "+w;throw M(m),new Error(m)}function Pe(w,m){w||Ce(m)}function Be(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function vt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class hn{constructor(m,_){this.shortDelay=m,this.longDelay=_,Pe(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,D.uI)()||(0,D.b$)()}get(){return function St(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,D.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(w,m){Pe(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Ke{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},at=new hn(3e4,6e4);function ze(w,m){return w.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:w.tenantId}):m}function qe(w,m,_,E){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(w,m,_,E,B={}){return le(w,B,(0,a.Z)(function*(){let ue={},Se={};E&&("GET"===m?Se=E:ue={body:JSON.stringify(E)});const et=(0,D.xO)(Object.assign({key:w.config.apiKey},Se)).slice(1),yt=yield w._getAdditionalHeaders();return yt["Content-Type"]="application/json",w.languageCode&&(yt["X-Firebase-Locale"]=w.languageCode),Ke.fetch()(Ut(w,w.config.apiHost,_,et),Object.assign({method:m,headers:yt,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function le(w,m,_){return he.apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(w,m,_){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},$e),m);try{const B=new fn(w),ue=yield Promise.race([_(),B.promise]);B.clearNetworkTimeout();const Se=yield ue.json();if("needConfirmation"in Se)throw Dn(w,"account-exists-with-different-credential",Se);if(ue.ok&&!("errorMessage"in Se))return Se;{const et=ue.ok?Se.errorMessage:Se.error.message,[yt,$t]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw Dn(w,"credential-already-in-use",Se);if("EMAIL_EXISTS"===yt)throw Dn(w,"email-already-in-use",Se);if("USER_DISABLED"===yt)throw Dn(w,"user-disabled",Se);const tn=E[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if($t)throw be(w,tn,$t);k(w,tn)}}catch(B){if(B instanceof D.ZR)throw B;k(w,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function Ye(w,m,_,E){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*(w,m,_,E,B={}){const ue=yield qe(w,m,_,E,B);return"mfaPendingCredential"in ue&&k(w,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Ut(w,m,_,E){const B=`${m}${_}?${E}`;return w.config.emulator?tt(w.config,B):`${w.config.apiScheme}://${B}`}function _n(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(W(this.auth,"network-request-failed")),at.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(w,m,_){const E={appName:w.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const B=W(w,m,E);return B.customData._tokenResponse=_,B}function An(w){return void 0!==w&&void 0!==w.getResponse}function ge(w){return void 0!==w&&void 0!==w.enterprise}class V{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===m)return _n(_.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function Ee(){return(Ee=(0,a.Z)(function*(w){return(yield qe(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function We(w,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(w,m){return qe(w,"GET","/v2/recaptchaConfig",ze(w,m))})).apply(this,arguments)}function Nt(){return(Nt=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Si(w){if(w)try{const m=new Date(Number(w));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function lt(){return(lt=(0,a.Z)(function*(w,m=!1){const _=(0,D.m9)(w),E=yield _.getIdToken(m),B=bt(E);fe(B&&B.exp&&B.auth_time&&B.iat,_.auth,"internal-error");const ue="object"==typeof B.firebase?B.firebase:void 0,Se=ue?.sign_in_provider;return{claims:B,token:E,authTime:Si(je(B.auth_time)),issuedAtTime:Si(je(B.iat)),expirationTime:Si(je(B.exp)),signInProvider:Se||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function je(w){return 1e3*Number(w)}function bt(w){const[m,_,E]=w.split(".");if(void 0===m||void 0===_||void 0===E)return M("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,D.tV)(_);return B?JSON.parse(B):(M("Failed to decode base64 JWT payload"),null)}catch(B){return M("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Ft(w,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(w,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof D.ZR&&function dn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class an{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const B=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,a.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class cn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ln(w){return mn.apply(this,arguments)}function mn(){return mn=(0,a.Z)(function*(w){var m;const _=w.auth,E=yield w.getIdToken(),B=yield Ft(w,function Fn(w,m){return Wn.apply(this,arguments)}(_,{idToken:E}));fe(B?.users.length,_,"internal-error");const ue=B.users[0];w._notifyReloadListener(ue);const Se=null!==(m=ue.providerUserInfo)&&void 0!==m&&m.length?function _i(w){return w.map(m=>{var{providerId:_}=m,E=(0,U._T)(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(ue.providerUserInfo):[],et=function Mn(w,m){return[...w.filter(E=>!m.some(B=>B.providerId===E.providerId)),...m]}(w.providerData,Se),tn=!!w.isAnonymous&&!(w.email&&ue.passwordHash||et?.length),nn={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:et,metadata:new cn(ue.createdAt,ue.lastLoginAt),isAnonymous:tn};Object.assign(w,nn)}),mn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(w){const m=(0,D.m9)(w);yield ln(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(w,m){const _=yield le(w,{},(0,a.Z)(function*(){const E=(0,D.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:B,apiKey:ue}=w.config,Se=Ut(w,B,"/v1/token",`key=${ue}`),et=yield w._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(Se,{method:"POST",headers:et,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function oe(){return(oe=(0,a.Z)(function*(w,m){return qe(w,"POST","/v2/accounts:revokeToken",ze(w,m))})).apply(this,arguments)}class Ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){fe(m.idToken,"internal-error"),fe(typeof m.idToken<"u","internal-error"),fe(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function ft(w){const m=bt(w);return fe(m,"internal-error"),fe(typeof m.exp<"u","internal-error"),fe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,a.Z)(function*(){return fe(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,a.Z)(function*(){const{accessToken:B,refreshToken:ue,expiresIn:Se}=yield function ht(w,m){return ie.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(B,ue,Number(Se))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:B,expirationTime:ue}=_,Se=new Ne;return E&&(fe("string"==typeof E,"internal-error",{appName:m}),Se.refreshToken=E),B&&(fe("string"==typeof B,"internal-error",{appName:m}),Se.accessToken=B),ue&&(fe("number"==typeof ue,"internal-error",{appName:m}),Se.expirationTime=ue),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ne,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function De(w,m){fe("string"==typeof w||typeof w>"u","internal-error",{appName:m})}class gt{constructor(m){var{uid:_,auth:E,stsTokenManager:B}=m,ue=(0,U._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new an(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new cn(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,a.Z)(function*(){const E=yield Ft(_,_.stsTokenManager.getToken(_.auth,m));return fe(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function Ze(w){return lt.apply(this,arguments)}(this,m)}reload(){return function Tn(w){return Yn.apply(this,arguments)}(this)}_assign(m){this!==m&&(fe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new gt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,a.Z)(function*(){let B=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),B=!0),_&&(yield ln(E)),yield E.auth._persistUserIfCurrent(E),B&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,a.Z)(function*(){const _=yield m.getIdToken();return yield Ft(m,function Tt(w,m){return Nt.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,B,ue,Se,et,yt,$t,tn;const nn=null!==(E=_.displayName)&&void 0!==E?E:void 0,Ni=null!==(B=_.email)&&void 0!==B?B:void 0,Xs=null!==(ue=_.phoneNumber)&&void 0!==ue?ue:void 0,fm=null!==(Se=_.photoURL)&&void 0!==Se?Se:void 0,pm=null!==(et=_.tenantId)&&void 0!==et?et:void 0,mm=null!==(yt=_._redirectEventId)&&void 0!==yt?yt:void 0,Hc=null!==($t=_.createdAt)&&void 0!==$t?$t:void 0,uv=null!==(tn=_.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:Yl,emailVerified:dv,isAnonymous:gm,providerData:Kl,stsTokenManager:_m}=_;fe(Yl&&_m,m,"internal-error");const v0=Ne.fromJSON(this.name,_m);fe("string"==typeof Yl,m,"internal-error"),De(nn,m.name),De(Ni,m.name),fe("boolean"==typeof dv,m,"internal-error"),fe("boolean"==typeof gm,m,"internal-error"),De(Xs,m.name),De(fm,m.name),De(pm,m.name),De(mm,m.name),De(Hc,m.name),De(uv,m.name);const Rh=new gt({uid:Yl,auth:m,email:Ni,emailVerified:dv,displayName:nn,isAnonymous:gm,photoURL:fm,phoneNumber:Xs,tenantId:pm,stsTokenManager:v0,createdAt:Hc,lastLoginAt:uv});return Kl&&Array.isArray(Kl)&&(Rh.providerData=Kl.map(y0=>Object.assign({},y0))),mm&&(Rh._redirectEventId=mm),Rh}static _fromIdTokenResponse(m,_,E=!1){return(0,a.Z)(function*(){const B=new Ne;B.updateFromServerResponse(_);const ue=new gt({uid:_.localId,auth:m,stsTokenManager:B,isAnonymous:E});return yield ln(ue),ue})()}}const Le=new Map;function ve(w){Pe(w instanceof Function,"Expected a class definition");let m=Le.get(w);return m?(Pe(m instanceof w,"Instance stored in cache mismatched with class"),m):(m=new w,Le.set(w,m),m)}const xe=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,E){var B=this;return(0,a.Z)(function*(){B.storage[_]=E})()}_get(_){var E=this;return(0,a.Z)(function*(){const B=E.storage[_];return void 0===B?null:B})()}_remove(_){var E=this;return(0,a.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return w.type="NONE",w})();function Ve(w,m,_){return`firebase:${w}:${m}:${_}`}class ot{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:B,name:ue}=this.auth;this.fullUserKey=Ve(this.userKey,B.apiKey,ue),this.fullPersistenceKey=Ve("persistence",B.apiKey,ue),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,a.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?gt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,a.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,a.Z)(function*(){if(!_.length)return new ot(ve(xe),m,E);const B=(yield Promise.all(_.map(function(){var $t=(0,a.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return $t.apply(this,arguments)}}()))).filter($t=>$t);let ue=B[0]||ve(xe);const Se=Ve(E,m.config.apiKey,m.name);let et=null;for(const $t of _)try{const tn=yield $t._get(Se);if(tn){const nn=gt._fromJSON(m,tn);$t!==ue&&(et=nn),ue=$t;break}}catch{}const yt=B.filter($t=>$t._shouldAllowMigration);return ue._shouldAllowMigration&&yt.length?(ue=yt[0],et&&(yield ue._set(Se,et.toJSON())),yield Promise.all(_.map(function(){var $t=(0,a.Z)(function*(tn){if(tn!==ue)try{yield tn._remove(Se)}catch{}});return function(tn){return $t.apply(this,arguments)}}())),new ot(ue,m,E)):new ot(ue,m,E)})()}}function Dt(w){const m=w.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(rt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(en(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ut(m))return"Blackberry";if(nt(m))return"Webos";if(Ln(m))return"Safari";if((m.includes("chrome/")||Zn(m))&&!m.includes("edge/"))return"Chrome";if(He(m))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function en(w=(0,D.z$)()){return/firefox\//i.test(w)}function Ln(w=(0,D.z$)()){const m=w.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Zn(w=(0,D.z$)()){return/crios\//i.test(w)}function rt(w=(0,D.z$)()){return/iemobile/i.test(w)}function He(w=(0,D.z$)()){return/android/i.test(w)}function ut(w=(0,D.z$)()){return/blackberry/i.test(w)}function nt(w=(0,D.z$)()){return/webos/i.test(w)}function ke(w=(0,D.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function zt(w=(0,D.z$)()){return ke(w)||He(w)||nt(w)||ut(w)||/windows phone/i.test(w)||rt(w)}function xt(w,m=[]){let _;switch(w){case"Browser":_=Dt((0,D.z$)());break;case"Worker":_=`${Dt((0,D.z$)())}-${w}`;break;default:_=w}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${E}`}class kt{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const E=ue=>new Promise((Se,et)=>{try{Se(m(ue))}catch(yt){et(yt)}});E.onAbort=_,this.queue.push(E);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,a.Z)(function*(){if(_.auth.currentUser===m)return;const E=[];try{for(const B of _.queue)yield B(m),B.onAbort&&E.push(B.onAbort)}catch(B){E.reverse();for(const ue of E)try{ue()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}function Vt(){return(Vt=(0,a.Z)(function*(w,m={}){return qe(w,"GET","/v2/passwordPolicy",ze(w,m))})).apply(this,arguments)}class vn{constructor(m){var _,E,B,ue;const Se=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Se.minPasswordLength)&&void 0!==_?_:6,Se.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Se.maxPasswordLength),void 0!==Se.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Se.containsLowercaseCharacter),void 0!==Se.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Se.containsUppercaseCharacter),void 0!==Se.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Se.containsNumericCharacter),void 0!==Se.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Se.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(B=null===(E=m.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==B?B:"",this.forceUpgradeOnSignin=null!==(ue=m.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=m.schemaVersion}validatePassword(m){var _,E,B,ue,Se,et;const yt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,yt),this.validatePasswordCharacterOptions(m,yt),yt.isValid&&(yt.isValid=null===(_=yt.meetsMinPasswordLength)||void 0===_||_),yt.isValid&&(yt.isValid=null===(E=yt.meetsMaxPasswordLength)||void 0===E||E),yt.isValid&&(yt.isValid=null===(B=yt.containsLowercaseLetter)||void 0===B||B),yt.isValid&&(yt.isValid=null===(ue=yt.containsUppercaseLetter)||void 0===ue||ue),yt.isValid&&(yt.isValid=null===(Se=yt.containsNumericCharacter)||void 0===Se||Se),yt.isValid&&(yt.isValid=null===(et=yt.containsNonAlphanumericCharacter)||void 0===et||et),yt}validatePasswordLengthOptions(m,_){const E=this.customStrengthOptions.minPasswordLength,B=this.customStrengthOptions.maxPasswordLength;E&&(_.meetsMinPasswordLength=m.length>=E),B&&(_.meetsMaxPasswordLength=m.length<=B)}validatePasswordCharacterOptions(m,_){let E;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let B=0;B<m.length;B++)E=m.charAt(B),this.updatePasswordCharacterOptionsStatuses(_,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(m,_,E,B,ue){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=B)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=ue))}}class Vn{constructor(m,_,E,B){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=E,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rn(this),this.idTokenSubscription=new Rn(this),this.beforeStateQueue=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=ve(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var B,ue;if(!E._deleted&&(E.persistenceManager=yield ot.create(E,m),!E._deleted)){if(null!==(B=E._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(ue=E.currentUser)||void 0===ue?void 0:ue.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,a.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,a.Z)(function*(){var E;const B=yield _.assertedPersistence.getCurrentUser();let ue=B,Se=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const et=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,yt=ue?._redirectEventId,$t=yield _.tryRedirectSignIn(m);(!et||et===yt)&&$t?.user&&(ue=$t.user,Se=!0)}if(!ue)return _.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Se)try{yield _.beforeStateQueue.runMiddleware(ue)}catch(et){ue=B,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(et))}return ue?_.reloadAndSetCurrentUserOrClear(ue):_.directlySetCurrentUser(null)}return fe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ue._redirectEventId?_.directlySetCurrentUser(ue):_.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(m){var _=this;return(0,a.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,a.Z)(function*(){try{yield ln(m)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function wn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var m=this;return(0,a.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,a.Z)(function*(){const E=m?(0,D.m9)(m):null;return E&&fe(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m,_=!1){var E=this;return(0,a.Z)(function*(){if(!E._deleted)return m&&fe(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,a.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,a.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(ve(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var _=this;return(0,a.Z)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const E=_._getPasswordPolicyInternal();return E.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,a.Z)(function*(){const _=yield function wt(w){return Vt.apply(this,arguments)}(m),E=new vn(_);null===m.tenantId?m._projectPasswordPolicy=E:m._tenantPasswordPolicies[m.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new D.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}authStateReady(){return new Promise((m,_)=>{if(this.currentUser)m();else{const E=this.onAuthStateChanged(()=>{E(),m()},_)}})}revokeAccessToken(m){var _=this;return(0,a.Z)(function*(){if(_.currentUser){const E=yield _.currentUser.getIdToken(),B={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:E};null!=_.tenantId&&(B.tenantId=_.tenantId),yield function z(w,m){return oe.apply(this,arguments)}(_,B)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,a.Z)(function*(){const B=yield E.getOrInitRedirectPersistenceManager(_);return null===m?B.removeCurrentUser():B.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&ve(m)||_._popupRedirectResolver;fe(E,_,"argument-error"),_.redirectPersistenceManager=yield ot.create(_,[ve(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,a.Z)(function*(){var E,B;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(B=_.redirectUser)||void 0===B?void 0:B._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,a.Z)(function*(){if(m===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,B){if(this._deleted)return()=>{};const ue="function"==typeof _?_:_.next.bind(_);let Se=!1;const et=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(et,this,"internal-error"),et.then(()=>{Se||ue(this.currentUser)}),"function"==typeof _){const yt=m.addObserver(_,E,B);return()=>{Se=!0,yt()}}{const yt=m.addObserver(_);return()=>{Se=!0,yt()}}}directlySetCurrentUser(m){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=xt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,a.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const B=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();B&&(E["X-Firebase-Client"]=B);const ue=yield m._getAppCheckToken();return ue&&(E["X-Firebase-AppCheck"]=ue),E})()}_getAppCheckToken(){var m=this;return(0,a.Z)(function*(){var _;const E=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return E?.error&&function Y(w,...m){te.logLevel<=L.in.WARN&&te.warn(`Auth (${P.SDK_VERSION}): ${w}`,...m)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Xt(w){return(0,D.m9)(w)}class Rn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,D.ne)(_=>this.observer=_)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xn(w){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=m,E.onerror=B=>{const ue=W("internal-error");ue.customData=B,_(ue)},E.type="text/javascript",E.charset="UTF-8",function Nn(){var w,m;return null!==(m=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==m?m:document}().appendChild(E)})}function Hn(w){return`__${w}${Math.floor(1e6*Math.random())}`}class bi{constructor(m){this.type="recaptcha-enterprise",this.auth=Xt(m)}verify(m="verify",_=!1){var E=this;return(0,a.Z)(function*(){function ue(){return ue=(0,a.Z)(function*(et){if(!_){if(null==et.tenantId&&null!=et._agentRecaptchaConfig)return et._agentRecaptchaConfig.siteKey;if(null!=et.tenantId&&void 0!==et._tenantRecaptchaConfigs[et.tenantId])return et._tenantRecaptchaConfigs[et.tenantId].siteKey}return new Promise(function(){var yt=(0,a.Z)(function*($t,tn){We(et,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nn=>{if(void 0!==nn.recaptchaKey){const Ni=new V(nn);return null==et.tenantId?et._agentRecaptchaConfig=Ni:et._tenantRecaptchaConfigs[et.tenantId]=Ni,$t(Ni.siteKey)}tn(new Error("recaptcha Enterprise site key undefined"))}).catch(nn=>{tn(nn)})});return function($t,tn){return yt.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Se(et,yt,$t){const tn=window.grecaptcha;ge(tn)?tn.enterprise.ready(()=>{tn.enterprise.execute(et,{action:m}).then(nn=>{yt(nn)}).catch(()=>{yt("NO_RECAPTCHA")})}):$t(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((et,yt)=>{(function B(et){return ue.apply(this,arguments)})(E.auth).then($t=>{if(!_&&ge(window.grecaptcha))Se($t,et,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));Xn("https://www.google.com/recaptcha/enterprise.js?render="+$t).then(()=>{Se($t,et,yt)}).catch(tn=>{yt(tn)})}}).catch($t=>{yt($t)})})})()}}function Ho(w,m,_){return xc.apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(w,m,_,E=!1){const B=new bi(w);let ue;try{ue=yield B.verify(_)}catch{ue=yield B.verify(_,!0)}const Se=Object.assign({},m);return Object.assign(Se,E?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Se})).apply(this,arguments)}function Ar(w,m,_,E){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,a.Z)(function*(w,m,_,E){var B;if(null!==(B=w._getRecaptchaConfig())&&void 0!==B&&B.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield Ho(w,m,_,"getOobCode"===_);return E(w,ue)}return E(w,m).catch(function(){var ue=(0,a.Z)(function*(Se){if("auth/missing-recaptcha-token"===Se.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const et=yield Ho(w,m,_,"getOobCode"===_);return E(w,et)}return Promise.reject(Se)});return function(Se){return ue.apply(this,arguments)}}())}),Vr.apply(this,arguments)}function as(w){const m=w.indexOf(":");return m<0?"":w.substr(0,m+1)}function So(w){if(!w)return null;const m=Number(w);return isNaN(m)?null:m}class cs{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Ce("not implemented")}_getIdTokenResponse(m){return Ce("not implemented")}_linkToIdToken(m,_){return Ce("not implemented")}_getReauthenticationResolver(m){return Ce("not implemented")}}function ls(w,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:resetPassword",ze(w,m))})).apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ri(w,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:update",ze(w,m))})).apply(this,arguments)}function Ur(w,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithPassword",ze(w,m))})).apply(this,arguments)}function $o(w,m){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:sendOobCode",ze(w,m))})).apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(w,m){return $o(w,m)})).apply(this,arguments)}function vi(w,m){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(w,m){return $o(w,m)})).apply(this,arguments)}function kn(w,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(w,m){return $o(w,m)})).apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(w,m){return $o(w,m)})).apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithEmailLink",ze(w,m))})).apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithEmailLink",ze(w,m))})).apply(this,arguments)}class ho extends cs{constructor(m,_,E,B=null){super("password",E),this._email=m,this._password=_,this._tenantId=B}static _fromEmailAndPassword(m,_){return new ho(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new ho(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return Ar(m,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ur);case"emailLink":return function tr(w,m){return hs.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:k(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return Ar(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ri);case"emailLink":return function Ri(w,m){return Wo.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:k(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function yn(w,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithIdp",ze(w,m))})).apply(this,arguments)}class jr extends cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new jr(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):k("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:B}=_,ue=(0,U._T)(_,["providerId","signInMethod"]);if(!E||!B)return null;const Se=new jr(E,B);return Se.idToken=ue.idToken||void 0,Se.accessToken=ue.accessToken||void 0,Se.secret=ue.secret,Se.nonce=ue.nonce,Se.pendingToken=ue.pendingToken||null,Se}_getIdTokenResponse(m){return yn(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,yn(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,yn(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,D.xO)(_)}return m}}function Na(){return(Na=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:sendVerificationCode",ze(w,m))})).apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithPhoneNumber",ze(w,m))})).apply(this,arguments)}function Su(){return(Su=(0,a.Z)(function*(w,m){const _=yield Ye(w,"POST","/v1/accounts:signInWithPhoneNumber",ze(w,m));if(_.temporaryProof)throw Dn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Vs={USER_NOT_FOUND:"user-not-found"};function fs(){return(fs=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithPhoneNumber",ze(w,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Vs)})).apply(this,arguments)}class Zo extends cs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Zo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Zo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Ls(w,m){return fo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Cc(w,m){return Su.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Bs(w,m){return fs.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:B}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:B}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:B,temporaryProof:ue}=m;return E||_||B||ue?new Zo({verificationId:_,verificationCode:E,phoneNumber:B,temporaryProof:ue}):null}}class la{constructor(m){var _,E,B,ue,Se,et;const yt=(0,D.zd)((0,D.pd)(m)),$t=null!==(_=yt.apiKey)&&void 0!==_?_:null,tn=null!==(E=yt.oobCode)&&void 0!==E?E:null,nn=function Kn(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=yt.mode)&&void 0!==B?B:null);fe($t&&tn&&nn,"argument-error"),this.apiKey=$t,this.operation=nn,this.code=tn,this.continueUrl=null!==(ue=yt.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Se=yt.languageCode)&&void 0!==Se?Se:null,this.tenantId=null!==(et=yt.tenantId)&&void 0!==et?et:null}static parseLink(m){const _=function mp(w){const m=(0,D.zd)((0,D.pd)(w)).link,_=m?(0,D.zd)((0,D.pd)(m)).deep_link_id:null,E=(0,D.zd)((0,D.pd)(w)).deep_link_id;return(E?(0,D.zd)((0,D.pd)(E)).link:null)||E||_||m||w}(m);try{return new la(_)}catch{return null}}}let po=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,E){return ho._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const B=la.parseLink(E);return fe(B,"argument-error"),ho._fromEmailAndCode(_,B.code,B.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class mo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class go extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Xr extends go{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return fe("providerId"in _&&"signInMethod"in _,"argument-error"),jr._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return fe(m.idToken||m.accessToken,"argument-error"),jr._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Xr.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Xr.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:B,pendingToken:ue,nonce:Se,providerId:et}=m;if(!E&&!B&&!_&&!ue||!et)return null;try{return new Xr(et)._credential({idToken:_,accessToken:E,nonce:Se,pendingToken:ue})}catch{return null}}}let zi=(()=>{class w extends go{constructor(){super("facebook.com")}static credential(_){return jr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),th=(()=>{class w extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return jr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:B}=_;if(!E&&!B)return null;try{return w.credential(E,B)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),yr=(()=>{class w extends go{constructor(){super("github.com")}static credential(_){return jr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Us extends cs{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return yn(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,yn(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,yn(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:B,pendingToken:ue}=_;return E&&B&&ue&&E===B?new Us(E,ue):null}static _create(m,_){return new Us(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fa extends mo{constructor(m){fe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Fa.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Fa.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Us.fromJSON(m);return fe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return Us._create(E,_)}catch{return null}}}let _o=(()=>{class w extends go{constructor(){super("twitter.com")}static credential(_,E){return jr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:B}=_;if(!E||!B)return null;try{return w.credential(E,B)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function El(w,m){return xl.apply(this,arguments)}function xl(){return(xl=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signUp",ze(w,m))})).apply(this,arguments)}class Sr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,B=!1){return(0,a.Z)(function*(){const ue=yield gt._fromIdTokenResponse(m,E,B),Se=y_(E);return new Sr({user:ue,providerId:Se,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,a.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const B=y_(E);return new Sr({user:m,providerId:B,_tokenResponse:E,operationType:_})})()}}function y_(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ru(){return(Ru=(0,a.Z)(function*(w){var m;const _=Xt(w);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Sr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield El(_,{returnSecureToken:!0}),B=yield Sr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(B.user),B})).apply(this,arguments)}class Il extends D.ZR{constructor(m,_,E,B){var ue;super(_.code,_.message),this.operationType=E,this.user=B,Object.setPrototypeOf(this,Il.prototype),this.customData={appName:m.name,tenantId:null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,B){return new Il(m,_,E,B)}}function gp(w,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Il._fromErrorAndOperation(w,ue,m,E):ue})}function Tl(w){return new Set(w.map(({providerId:m})=>m).filter(m=>!!m))}function Cl(){return Cl=(0,a.Z)(function*(w,m){const _=(0,D.m9)(w);yield ua(!0,_,m);const{providerUserInfo:E}=yield function Qt(w,m){return jt.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),B=Tl(E||[]);return _.providerData=_.providerData.filter(ue=>B.has(ue.providerId)),B.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Cl.apply(this,arguments)}function js(w,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(w,m,_=!1){const E=yield Ft(w,m._linkToIdToken(w.auth,yield w.getIdToken()),_);return Sr._forOperation(w,"link",E)})).apply(this,arguments)}function ua(w,m,_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.Z)(function*(w,m,_){yield ln(m);const B=!1===w?"provider-already-linked":"no-such-provider";fe(Tl(m.providerData).has(_)===w,m.auth,B)})).apply(this,arguments)}function _p(w,m){return vp.apply(this,arguments)}function vp(){return(vp=(0,a.Z)(function*(w,m,_=!1){const{auth:E}=w,B="reauthenticate";try{const ue=yield Ft(w,gp(E,B,m,w),_);fe(ue.idToken,E,"internal-error");const Se=bt(ue.idToken);fe(Se,E,"internal-error");const{sub:et}=Se;return fe(w.uid===et,E,"user-mismatch"),Sr._forOperation(w,B,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&k(E,"user-mismatch"),ue}})).apply(this,arguments)}function yp(w,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,a.Z)(function*(w,m,_=!1){const E="signIn",B=yield gp(w,E,m),ue=yield Sr._fromIdTokenResponse(w,E,B);return _||(yield w._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Al(w,m){return bp.apply(this,arguments)}function bp(){return(bp=(0,a.Z)(function*(w,m){return yp(Xt(w),m)})).apply(this,arguments)}function nh(w,m){return ih.apply(this,arguments)}function ih(){return(ih=(0,a.Z)(function*(w,m){const _=(0,D.m9)(w);return yield ua(!1,_,m.providerId),js(_,m)})).apply(this,arguments)}function Hs(w,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,a.Z)(function*(w,m){return _p((0,D.m9)(w),m)})).apply(this,arguments)}function rh(){return(rh=(0,a.Z)(function*(w,m){return Ye(w,"POST","/v1/accounts:signInWithCustomToken",ze(w,m))})).apply(this,arguments)}function ms(){return ms=(0,a.Z)(function*(w,m){const _=Xt(w),E=yield function Sl(w,m){return rh.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),B=yield Sr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(B.user),B}),ms.apply(this,arguments)}class wr{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Pu._fromServerResponse(m,_):"totpInfo"in _?da._fromServerResponse(m,_):k(m,"internal-error")}}class Pu extends wr{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Pu(_)}}class da extends wr{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new da(_)}}function La(w,m,_){var E;fe((null===(E=_.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),fe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(fe(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(fe(_.android.packageName.length>0,w,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function ha(w){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(w){const m=Xt(w);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(w,m,_){const E=Xt(w),B={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};_&&La(E,B,_),yield Ar(E,B,"getOobCode",vi)})).apply(this,arguments)}function Ml(){return Ml=(0,a.Z)(function*(w,m,_){yield ls((0,D.m9)(w),{oobCode:m,newPassword:_}).catch(function(){var E=(0,a.Z)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&ha(w),B});return function(B){return E.apply(this,arguments)}}())}),Ml.apply(this,arguments)}function zs(){return zs=(0,a.Z)(function*(w,m){yield function vr(w,m){return us.apply(this,arguments)}((0,D.m9)(w),{oobCode:m})}),zs.apply(this,arguments)}function Ac(w,m){return fa.apply(this,arguments)}function fa(){return(fa=(0,a.Z)(function*(w,m){const _=(0,D.m9)(w),E=yield ls(_,{oobCode:m}),B=E.requestType;switch(fe(B,_,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(E.mfaInfo,_,"internal-error");default:fe(E.email,_,"internal-error")}let ue=null;return E.mfaInfo&&(ue=wr._fromServerResponse(Xt(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ue},operation:B}})).apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(w,m){const{data:_}=yield Ac((0,D.m9)(w),m);return _.email})).apply(this,arguments)}function sh(){return(sh=(0,a.Z)(function*(w,m,_){const E=Xt(w),Se=yield Ar(E,{returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",El).catch(yt=>{throw"auth/password-does-not-meet-requirements"===yt.code&&ha(w),yt}),et=yield Sr._fromIdTokenResponse(E,"signIn",Se);return yield E._updateCurrentUser(et.user),et})).apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(w,m,_){const E=Xt(w),B={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function ue(Se,et){fe(et.handleCodeInApp,E,"argument-error"),et&&La(E,Se,et)})(B,_),yield Ar(E,B,"getOobCode",kn)})).apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w),B=po.credentialWithLink(m,_||Be());return fe(B._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Al(E,B)})).apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:createAuthUri",ze(w,m))})).apply(this,arguments)}function Rc(){return Rc=(0,a.Z)(function*(w,m){const E={identifier:m,continueUri:vt()?Be():"http://localhost"},{signinMethods:B}=yield function b_(w,m){return $s.apply(this,arguments)}((0,D.m9)(w),E);return B||[]}),Rc.apply(this,arguments)}function C(){return C=(0,a.Z)(function*(w,m){const _=(0,D.m9)(w),B={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};m&&La(_.auth,B,m);const{email:ue}=yield function Tc(w,m){return wl.apply(this,arguments)}(_.auth,B);ue!==w.email&&(yield w.reload())}),C.apply(this,arguments)}function N(){return N=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:m};_&&La(E.auth,ue,_);const{email:Se}=yield function Qr(w,m){return ds.apply(this,arguments)}(E.auth,ue);Se!==w.email&&(yield w.reload())}),N.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(w,m){return qe(w,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Et(){return Et=(0,a.Z)(function*(w,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,D.m9)(w),ue={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Se=yield Ft(E,function X(w,m){return Ie.apply(this,arguments)}(E.auth,ue));E.displayName=Se.displayName||null,E.photoURL=Se.photoUrl||null;const et=E.providerData.find(({providerId:yt})=>"password"===yt);et&&(et.displayName=E.displayName,et.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Se)}),Et.apply(this,arguments)}function Di(w,m,_){return li.apply(this,arguments)}function li(){return li=(0,a.Z)(function*(w,m,_){const{auth:E}=w,ue={idToken:yield w.getIdToken(),returnSecureToken:!0};m&&(ue.email=m),_&&(ue.password=_);const Se=yield Ft(w,function Du(w,m){return Ic.apply(this,arguments)}(E,ue));yield w._updateTokensIfNecessary(Se,!0)}),li.apply(this,arguments)}class wi{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class Ei extends wi{constructor(m,_,E,B){super(m,_,E),this.username=B}}class qi extends wi{constructor(m,_){super(m,"facebook.com",_)}}class nr extends Ei{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Yo extends wi{constructor(m,_){super(m,"google.com",_)}}class Ko extends Ei{constructor(m,_,E){super(m,"twitter.com",_,E)}}function yo(w){const{user:m,_tokenResponse:_}=w;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function qn(w){var m,_;if(!w)return null;const{providerId:E}=w,B=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ue=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const Se=null===(_=null===(m=bt(w.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Se)return new wi(ue,"anonymous"!==Se&&"custom"!==Se?Se:null)}if(!E)return null;switch(E){case"facebook.com":return new qi(ue,B);case"github.com":return new nr(ue,B);case"google.com":return new Yo(ue,B);case"twitter.com":return new Ko(ue,B,w.screenName||null);case"custom":case"anonymous":return new wi(ue,null);default:return new wi(ue,E,B)}}(_)}class Pc{constructor(m,_,E){this.type=m,this.credential=_,this.user=E}static _fromIdtoken(m,_){return new Pc("enroll",m,_)}static _fromMfaPendingCredential(m){return new Pc("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Pc._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return Pc._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Tp{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=Xt(m),B=_.customData._serverResponse,ue=(B.mfaInfo||[]).map(et=>wr._fromServerResponse(E,et));fe(B.mfaPendingCredential,E,"internal-error");const Se=Pc._fromMfaPendingCredential(B.mfaPendingCredential);return new Tp(Se,ue,function(){var et=(0,a.Z)(function*(yt){const $t=yield yt._process(E,Se);delete B.mfaInfo,delete B.mfaPendingCredential;const tn=Object.assign(Object.assign({},B),{idToken:$t.idToken,refreshToken:$t.refreshToken});switch(_.operationType){case"signIn":const nn=yield Sr._fromIdTokenResponse(E,_.operationType,tn);return yield E._updateCurrentUser(nn.user),nn;case"reauthenticate":return fe(_.user,E,"internal-error"),Sr._forOperation(_.user,_.operationType,tn);default:k(E,"internal-error")}});return function(yt){return et.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,a.Z)(function*(){return _.signInResolver(m)})()}}class Pl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>wr._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new Pl(m)}getSession(){var m=this;return(0,a.Z)(function*(){return Pc._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,_){var E=this;return(0,a.Z)(function*(){const B=m,ue=yield E.getSession(),Se=yield Ft(E.user,B._process(E.user.auth,ue,_));return yield E.user._updateTokensIfNecessary(Se),E.user.reload()})()}unenroll(m){var _=this;return(0,a.Z)(function*(){const E="string"==typeof m?m:m.uid,B=yield _.user.getIdToken();try{const ue=yield Ft(_.user,function Cp(w,m){return qe(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(w,m))}(_.user.auth,{idToken:B,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Se})=>Se!==E),yield _.user._updateTokensIfNecessary(ue),yield _.user.reload()}catch(ue){throw ue}})()}}const In=new WeakMap,Dp="__sak";class I_{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const lh=(()=>{class w extends I_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bb(){const w=(0,D.z$)();return Ln(w)||ke(w)}()&&function Xe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const B=this.storage.getItem(E),ue=this.localCache[E];B!==ue&&_(E,ue,B)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((et,yt,$t)=>{this.notifyListeners(et,$t)});const B=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(B);if(_.newValue!==et)null!==_.newValue?this.storage.setItem(B,_.newValue):this.storage.removeItem(B);else if(this.localCache[B]===_.newValue&&!E)return}const ue=()=>{const et=this.storage.getItem(B);!E&&this.localCache[B]===et||this.notifyListeners(B,et)},Se=this.storage.getItem(B);!function Yt(){return(0,D.w1)()&&10===document.documentMode}()||Se===_.newValue||_.newValue===_.oldValue?ue():setTimeout(ue,10)}notifyListeners(_,E){this.localCache[_]=E;const B=this.listeners[_];if(B)for(const ue of Array.from(B))ue(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var B=()=>super._set,ue=this;return(0,a.Z)(function*(){yield B().call(ue,_,E),ue.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,B=this;return(0,a.Z)(function*(){const ue=yield E().call(B,_);return B.localCache[_]=JSON.stringify(ue),ue})()}_remove(_){var E=()=>super._remove,B=this;return(0,a.Z)(function*(){yield E().call(B,_),delete B.localCache[_]})()}}return w.type="LOCAL",w})(),ga=(()=>{class w extends I_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return w.type="SESSION",w})();let uh=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(ue=>ue.isListeningto(_));if(E)return E;const B=new w(_);return this.receivers.push(B),B}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,a.Z)(function*(){const B=_,{eventId:ue,eventType:Se,data:et}=B.data,yt=E.handlersMap[Se];if(!yt?.size)return;B.ports[0].postMessage({status:"ack",eventId:ue,eventType:Se});const $t=Array.from(yt).map(function(){var nn=(0,a.Z)(function*(Ni){return Ni(B.origin,et)});return function(Ni){return nn.apply(this,arguments)}}()),tn=yield function jb(w){return Promise.all(w.map(function(){var m=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}($t);B.ports[0].postMessage({status:"done",eventId:ue,eventType:Se,response:tn})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function It(w="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return w+_}class Jn{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var B=this;return(0,a.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Se,et;return new Promise((yt,$t)=>{const tn=It("",20);ue.port1.start();const nn=setTimeout(()=>{$t(new Error("unsupported_event"))},E);et={messageChannel:ue,onMessage(Ni){const Xs=Ni;if(Xs.data.eventId===tn)switch(Xs.data.status){case"ack":clearTimeout(nn),Se=setTimeout(()=>{$t(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),yt(Xs.data.response);break;default:clearTimeout(nn),clearTimeout(Se),$t(new Error("invalid_response"))}}},B.handlers.add(et),ue.port1.addEventListener("message",et.onMessage),B.target.postMessage({eventType:m,eventId:tn,data:_},[ue.port2])}).finally(()=>{et&&B.removeMessageHandler(et)})})()}}function Yi(){return window}function ur(){return typeof Yi().WorkerGlobalScope<"u"&&"function"==typeof Yi().importScripts}function _a(){return(_a=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lu="firebaseLocalStorageDb",Ap="firebaseLocalStorage",Sp="fbase_key";class dr{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jr(w,m){return w.transaction([Ap],m?"readwrite":"readonly").objectStore(Ap)}function Ha(){const w=indexedDB.open(Lu,1);return new Promise((m,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ap,{keyPath:Sp})}catch(B){_(B)}}),w.addEventListener("success",(0,a.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ap)?m(E):(E.close(),yield function A_(){const w=indexedDB.deleteDatabase(Lu);return new dr(w).toPromise()}(),m(yield Ha()))}))})}function Zs(w,m,_){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,a.Z)(function*(w,m,_){const E=Jr(w,!0).put({[Sp]:m,value:_});return new dr(E).toPromise()})).apply(this,arguments)}function Rp(){return(Rp=(0,a.Z)(function*(w,m){const _=Jr(w,!1).get(m),E=yield new dr(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function kp(w,m){const _=Jr(w,!0).delete(m);return new dr(_).toPromise()}const za=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield Ha()),_.db})()}_withRetries(_){var E=this;return(0,a.Z)(function*(){let B=0;for(;;)try{const ue=yield E._openDb();return yield _(ue)}catch(ue){if(B++>3)throw ue;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return ur()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=uh._getInstance(function Fu(){return ur()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(B,ue){return{keyProcessed:(yield _._poll()).includes(ue.key)}});return function(B,ue){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(B,ue){return["keyChanged"]});return function(B,ue){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var E,B;if(_.activeServiceWorker=yield function D_(){return _a.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Jn(_.activeServiceWorker);const ue=yield _.sender._send("ping",{},800);ue&&null!==(E=ue[0])&&void 0!==E&&E.fulfilled&&null!==(B=ue[0])&&void 0!==B&&B.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ws(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Ha();return yield Zs(_,Dp,"1"),yield kp(_,Dp),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var B=this;return(0,a.Z)(function*(){return B._withPendingWrite((0,a.Z)(function*(){return yield B._withRetries(ue=>Zs(ue,_,E)),B.localCache[_]=E,B.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,a.Z)(function*(){const B=yield E._withRetries(ue=>function S_(w,m){return Rp.apply(this,arguments)}(ue,_));return E.localCache[_]=B,B})()}_remove(_){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(B=>kp(B,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const E=yield _._withRetries(Se=>{const et=Jr(Se,!1).getAll();return new dr(et).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const B=[],ue=new Set;if(0!==E.length)for(const{fbase_key:Se,value:et}of E)ue.add(Se),JSON.stringify(_.localCache[Se])!==JSON.stringify(et)&&(_.notifyListeners(Se,et),B.push(Se));for(const Se of Object.keys(_.localCache))_.localCache[Se]&&!ue.has(Se)&&(_.notifyListeners(Se,null),B.push(Se));return B})()}notifyListeners(_,E){this.localCache[_]=E;const B=this.listeners[_];if(B)for(const ue of Array.from(B))ue(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Ol=1e12;class hh{constructor(m){this.auth=m,this.counter=Ol,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new Ga(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||Ol;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Ol))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,a.Z)(function*(){var E;return null===(E=_._widgets.get(m||Ol))||void 0===E||E.execute(),""})()}}class Ga{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof m?document.getElementById(m):m;fe(B,"argument-error",{appName:_}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Op(w){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Np=Hn("rcb"),eo=new hn(3e4,6e4);class Oi{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Yi().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return fe(function Fp(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&An(Yi().grecaptcha)?Promise.resolve(Yi().grecaptcha):new Promise((E,B)=>{const ue=Yi().setTimeout(()=>{B(W(m,"network-request-failed"))},eo.get());Yi()[Np]=()=>{Yi().clearTimeout(ue),delete Yi()[Np];const et=Yi().grecaptcha;if(!et||!An(et))return void B(W(m,"internal-error"));const yt=et.render;et.render=($t,tn)=>{const nn=yt($t,tn);return this.counter++,nn},this.hostLanguage=_,E(et)},Xn(`https://www.google.com/recaptcha/api.js??${(0,D.xO)({onload:Np,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ue),B(W(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Yi().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class N_{load(m){return(0,a.Z)(function*(){return new hh(m)})()}clearedOneInstance(){}}const Lp="recaptcha",Gb={theme:"light",type:"image"};class F_{constructor(m,_,E=Object.assign({},Gb)){this.parameters=E,this.type=Lp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xt(m),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof _?document.getElementById(_):_;fe(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new N_:new Oi,this.validateStartingState()}verify(){var m=this;return(0,a.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise(ue=>{const Se=et=>{et&&(m.tokenChangeListeners.delete(Se),ue(et))};m.tokenChangeListeners.add(Se),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=Yi()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,a.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,a.Z)(function*(){fe(vt()&&!ur(),m.auth,"internal-error"),yield function L_(){let w=null;return new Promise(m=>{"complete"!==document.readyState?(w=()=>m(),window.addEventListener("load",w)):m()}).catch(m=>{throw w&&window.removeEventListener("load",w),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function G(w){return Ee.apply(this,arguments)}(m.auth);fe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class va{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Zo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Vp(){return(Vp=(0,a.Z)(function*(w,m,_){const E=Xt(w),B=yield Bu(E,m,(0,D.m9)(_));return new va(B,ue=>Al(E,ue))})).apply(this,arguments)}function Oc(){return(Oc=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w);yield ua(!1,E,"phone");const B=yield Bu(E.auth,m,(0,D.m9)(_));return new va(B,ue=>nh(E,ue))})).apply(this,arguments)}function Vu(){return(Vu=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w),B=yield Bu(E.auth,m,(0,D.m9)(_));return new va(B,ue=>Hs(E,ue))})).apply(this,arguments)}function Bu(w,m,_){return ph.apply(this,arguments)}function ph(){return ph=(0,a.Z)(function*(w,m,_){var E;const B=yield _.verify();try{let ue;if(fe("string"==typeof B,w,"argument-error"),fe(_.type===Lp,w,"argument-error"),ue="string"==typeof m?{phoneNumber:m}:m,"session"in ue){const Se=ue.session;if("phoneNumber"in ue)return fe("enroll"===Se.type,w,"internal-error"),(yield function w_(w,m){return qe(w,"POST","/v2/accounts/mfaEnrollment:start",ze(w,m))}(w,{idToken:Se.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{fe("signin"===Se.type,w,"internal-error");const et=(null===(E=ue.multiFactorHint)||void 0===E?void 0:E.uid)||ue.multiFactorUid;return fe(et,w,"missing-multi-factor-info"),(yield function zb(w,m){return qe(w,"POST","/v2/accounts/mfaSignIn:start",ze(w,m))}(w,{mfaPendingCredential:Se.credential,mfaEnrollmentId:et,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Se}=yield function Zi(w,m){return Na.apply(this,arguments)}(w,{phoneNumber:ue.phoneNumber,recaptchaToken:B});return Se}}finally{_._reset()}}),ph.apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(w,m){yield js((0,D.m9)(w),m)})).apply(this,arguments)}let qs=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Xt(_)}verifyPhoneNumber(_,E){return Bu(this.auth,_,(0,D.m9)(E))}static credential(_,E){return Zo._fromVerification(_,E)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:B}=_;return E&&B?Zo._fromTokenResponse(E,B):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ys(w,m){return m?ve(m):(fe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Bp extends cs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return yn(m,this._buildIdpRequest())}_linkToIdToken(m,_){return yn(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return yn(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Up(w){return yp(w.auth,new Bp(w),w.bypassAuthState)}function $b(w){const{auth:m,user:_}=w;return fe(_,m,"internal-error"),_p(_,new Bp(w),w.bypassAuthState)}function tI(w){return V_.apply(this,arguments)}function V_(){return(V_=(0,a.Z)(function*(w){const{auth:m,user:_}=w;return fe(_,m,"internal-error"),js(_,new Bp(w),w.bypassAuthState)})).apply(this,arguments)}class Wb{constructor(m,_,E,B,ue=!1){this.auth=m,this.resolver=E,this.user=B,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,a.Z)(function*(E,B){m.pendingPromise={resolve:E,reject:B};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ue){m.reject(ue)}});return function(E,B){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:B,postBody:ue,tenantId:Se,error:et,type:yt}=m;if(et)return void _.reject(et);const $t={auth:_.auth,requestUri:E,sessionId:B,tenantId:Se||void 0,postBody:ue||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(yt)($t))}catch(tn){_.reject(tn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Up;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return $b;default:k(this.auth,"internal-error")}}resolve(m){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B_=new hn(2e3,1e4);function Nl(){return(Nl=(0,a.Z)(function*(w,m,_){const E=Xt(w);J(w,m,mo);const B=Ys(E,_);return new Zb(E,"signInViaPopup",m,B).executeNotNull()})).apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w);J(E.auth,m,mo);const B=Ys(E.auth,_);return new Zb(E.auth,"reauthViaPopup",m,B,E).executeNotNull()})).apply(this,arguments)}function Uu(){return(Uu=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w);J(E.auth,m,mo);const B=Ys(E.auth,_);return new Zb(E.auth,"linkViaPopup",m,B,E).executeNotNull()})).apply(this,arguments)}let Zb=(()=>{class w extends Wb{constructor(_,E,B,ue,Se){super(_,E,ue,Se),this.provider=B,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const E=yield _.execute();return fe(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,a.Z)(function*(){Pe(1===_.filter.length,"Popup operations only handle one event");const E=It();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(B=>{_.reject(B)}),_.resolver._isIframeWebStorageSupported(_.auth,B=>{B||_.reject(W(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(W(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,B;this.pollId=null!==(B=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(W(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,B_.get())};_()}}return w.currentPopupAction=null,w})();const qb="pendingRedirect",Nc=new Map;class j_ extends Wb{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,a.Z)(function*(){let E=Nc.get(_.auth._key());if(!E){try{const ue=(yield function Qo(w,m){return Hp.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve(ue)}catch(B){E=()=>Promise.reject(B)}Nc.set(_.auth._key(),E)}return _.bypassAuthState||Nc.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const B=yield E.auth._redirectUserForId(m.eventId);if(B)return E.user=B,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Hp(){return(Hp=(0,a.Z)(function*(w,m){const _=Yb(m),E=Gp(w);if(!(yield E._isAvailable()))return!1;const B="true"===(yield E._get(_));return yield E._remove(_),B})).apply(this,arguments)}function Fl(w,m){return gh.apply(this,arguments)}function gh(){return(gh=(0,a.Z)(function*(w,m){return Gp(w)._set(Yb(m),"true")})).apply(this,arguments)}function Ll(w,m){Nc.set(w._key(),m)}function Gp(w){return ve(w._redirectPersistence)}function Yb(w){return Ve(qb,w.config.apiKey,w.name)}function Kb(w,m,_){return function H_(w,m,_){return $p.apply(this,arguments)}(w,m,_)}function $p(){return($p=(0,a.Z)(function*(w,m,_){const E=Xt(w);J(w,m,mo),yield E._initializationPromise;const B=Ys(E,_);return yield Fl(B,E),B._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Wp(w,m,_){return function Qb(w,m,_){return Vl.apply(this,arguments)}(w,m,_)}function Vl(){return(Vl=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w);J(E.auth,m,mo),yield E.auth._initializationPromise;const B=Ys(E.auth,_);yield Fl(B,E.auth);const ue=yield G_(E);return B._openRedirect(E.auth,m,"reauthViaRedirect",ue)})).apply(this,arguments)}function Ya(w,m,_){return function Xb(w,m,_){return _h.apply(this,arguments)}(w,m,_)}function _h(){return(_h=(0,a.Z)(function*(w,m,_){const E=(0,D.m9)(w);J(E.auth,m,mo),yield E.auth._initializationPromise;const B=Ys(E.auth,_);yield ua(!1,E,m.providerId),yield Fl(B,E.auth);const ue=yield G_(E);return B._openRedirect(E.auth,m,"linkViaRedirect",ue)})).apply(this,arguments)}function Fc(){return(Fc=(0,a.Z)(function*(w,m){return yield Xt(w)._initializationPromise,vh(w,m,!1)})).apply(this,arguments)}function vh(w,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(w,m,_=!1){const E=Xt(w),B=Ys(E,m),Se=yield new j_(E,B,_).execute();return Se&&!_&&(delete Se.user._redirectEventId,yield E._persistUserIfCurrent(Se.user),yield E._setRedirectUser(null,m)),Se})).apply(this,arguments)}function G_(w){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,a.Z)(function*(w){const m=It(`${w.uid}:::`);return w._redirectEventId=m,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),m})).apply(this,arguments)}class Jb{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ju(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qp(w);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!qp(m)){const B=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(W(this.auth,B))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(m))}saveEventToCache(m){this.cachedEventUids.add(W_(m)),this.lastProcessedEventTime=Date.now()}}function W_(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(m=>m).join("-")}function qp({type:w,error:m}){return"unknown"===w&&"auth/no-auth-event"===m?.code}function Mo(w){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(w,m={}){return qe(w,"GET","/v1/projects",m)})).apply(this,arguments)}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yp=/^https?/;function Kp(){return(Kp=(0,a.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:m}=yield Mo(w);for(const _ of m)try{if(e0(_))return}catch{}k(w,"unauthorized-domain")})).apply(this,arguments)}function e0(w){const m=Be(),{protocol:_,hostname:E}=new URL(m);if(w.startsWith("chrome-extension://")){const Se=new URL(w);return""===Se.hostname&&""===E?"chrome-extension:"===_&&w.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Se.hostname===E}if(!Yp.test(_))return!1;if(on.test(w))return E===w;const B=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(E)}const t0=new hn(3e4,6e4);function Qp(){const w=Yi().___jsl;if(w?.H)for(const m of Object.keys(w.H))if(w.H[m].r=w.H[m].r||[],w.H[m].L=w.H[m].L||[],w.H[m].r=[...w.H[m].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let Bl=null;const nM=new hn(5e3,15e3),Ul="__/auth/iframe",n0="emulator/auth/iframe",r0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z_(w){const m=w.config;fe(m.authDomain,w,"auth-domain-config-required");const _=m.emulator?tt(m,n0):`https://${w.config.authDomain}/${Ul}`,E={apiKey:m.apiKey,appName:w.name,v:P.SDK_VERSION},B=hr.get(w.config.apiHost);B&&(E.eid=B);const ue=w._getFrameworks();return ue.length&&(E.fw=ue.join(",")),`${_}?${(0,D.xO)(E).slice(1)}`}function Ks(){return Ks=(0,a.Z)(function*(w){const m=yield function ya(w){return Bl=Bl||function Xp(w){return new Promise((m,_)=>{var E,B,ue;function Se(){Qp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Qp(),_(W(w,"network-request-failed"))},timeout:t0.get()})}if(null!==(B=null===(E=Yi().gapi)||void 0===E?void 0:E.iframes)&&void 0!==B&&B.Iframe)m(gapi.iframes.getContext());else{if(null===(ue=Yi().gapi)||void 0===ue||!ue.load){const et=Hn("iframefcb");return Yi()[et]=()=>{gapi.load?Se():_(W(w,"network-request-failed"))},Xn(`https://apis.google.com/js/api.js?onload=${et}`).catch(yt=>_(yt))}Se()}}).catch(m=>{throw Bl=null,m})}(w),Bl}(w),_=Yi().gapi;return fe(_,w,"internal-error"),m.open({where:document.body,url:Z_(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r0,dontclear:!0},E=>new Promise(function(){var B=(0,a.Z)(function*(ue,Se){yield E.restyle({setHideOnLeave:!1});const et=W(w,"network-request-failed"),yt=Yi().setTimeout(()=>{Se(et)},nM.get());function $t(){Yi().clearTimeout(yt),ue(E)}E.ping($t).then($t,()=>{Se(et)})});return function(ue,Se){return B.apply(this,arguments)}}()))}),Ks.apply(this,arguments)}const vs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jp{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gu="__/auth/handler",io="emulator/auth/handler",$u=encodeURIComponent("fac");function Ro(w,m,_,E,B,ue){return em.apply(this,arguments)}function em(){return(em=(0,a.Z)(function*(w,m,_,E,B,ue){fe(w.config.authDomain,w,"auth-domain-config-required"),fe(w.config.apiKey,w,"invalid-api-key");const Se={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:E,v:P.SDK_VERSION,eventId:B};if(m instanceof mo){m.setDefaultLanguage(w.languageCode),Se.providerId=m.providerId||"",(0,D.xb)(m.getCustomParameters())||(Se.customParameters=JSON.stringify(m.getCustomParameters()));for(const[tn,nn]of Object.entries(ue||{}))Se[tn]=nn}if(m instanceof go){const tn=m.getScopes().filter(nn=>""!==nn);tn.length>0&&(Se.scopes=tn.join(","))}w.tenantId&&(Se.tid=w.tenantId);const et=Se;for(const tn of Object.keys(et))void 0===et[tn]&&delete et[tn];const yt=yield w._getAppCheckToken(),$t=yt?`#${$u}=${encodeURIComponent(yt)}`:"";return`${function yh({config:w}){return w.emulator?tt(w,io):`https://${w.authDomain}/${Gu}`}(w)}?${(0,D.xO)(et).slice(1)}${$t}`})).apply(this,arguments)}const zl="webStorageSupport",Y_=class iI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=vh,this._overrideRedirectResult=Ll}_openPopup(m,_,E,B){var ue=this;return(0,a.Z)(function*(){var Se;Pe(null===(Se=ue.eventManagers[m._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const et=yield Ro(m,_,E,Be(),B);return function nI(w,m,_,E=500,B=600){const ue=Math.max((window.screen.availHeight-B)/2,0).toString(),Se=Math.max((window.screen.availWidth-E)/2,0).toString();let et="";const yt=Object.assign(Object.assign({},vs),{width:E.toString(),height:B.toString(),top:ue,left:Se}),$t=(0,D.z$)().toLowerCase();_&&(et=Zn($t)?"_blank":_),en($t)&&(m=m||"http://localhost",yt.scrollbars="yes");const tn=Object.entries(yt).reduce((Ni,[Xs,fm])=>`${Ni}${Xs}=${fm},`,"");if(function Je(w=(0,D.z$)()){var m;return ke(w)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}($t)&&"_self"!==et)return function zu(w,m){const _=document.createElement("a");_.href=w,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",et),new Jp(null);const nn=window.open(m||"",et,tn);fe(nn,w,"popup-blocked");try{nn.focus()}catch{}return new Jp(nn)}(m,et,It())})()}_openRedirect(m,_,E,B){var ue=this;return(0,a.Z)(function*(){return yield ue._originValidation(m),function C_(w){Yi().location.href=w}(yield Ro(m,_,E,Be(),B)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:B,promise:ue}=this.eventManagers[_];return B?Promise.resolve(B):(Pe(ue,"If manager is not set, promise should be"),ue)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,a.Z)(function*(){const E=yield function Ka(w){return Ks.apply(this,arguments)}(m),B=new Jb(m);return E.register("authEvent",ue=>(fe(ue?.authEvent,m,"invalid-auth-event"),{status:B.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:B},_.iframes[m._key()]=E,B})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(zl,{type:zl},B=>{var ue;const Se=null===(ue=B?.[0])||void 0===ue?void 0:ue[zl];void 0!==Se&&_(!!Se),k(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Lc(w){return Kp.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return zt()||Ln()||ke()}};class rI{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return Ce("unexpected MultiFactorSessionType")}}}class bh extends rI{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new bh(m)}_finalizeEnroll(m,_,E){return function Vb(w,m){return qe(w,"POST","/v2/accounts/mfaEnrollment:finalize",ze(w,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function k_(w,m){return qe(w,"POST","/v2/accounts/mfaSignIn:finalize",ze(w,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oI=(()=>{class w{constructor(){}static assertion(_){return bh._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var K_="@firebase/auth";class qu{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{m(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qs(){return window}(0,D.Pz)("authIdTokenMaxAge"),function rm(w){(0,P._registerComponent)(new S.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),B=m.getProvider("heartbeat"),ue=m.getProvider("app-check-internal"),{apiKey:Se,authDomain:et}=E.options;fe(Se&&!Se.includes(":"),"invalid-api-key",{appName:E.name});const yt={apiKey:Se,authDomain:et,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xt(w)},$t=new Vn(E,B,ue,yt);return function Br(w,m){const _=m?.persistence||[],E=(Array.isArray(_)?_:[_]).map(ve);m?.errorMap&&w._updateErrorMap(m.errorMap),w._initializeWithPersistence(E,m?.popupRedirectResolver)}($t,_),$t},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new S.wA("auth-internal",m=>{const _=Xt(m.getProvider("auth").getImmediate());return new qu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(K_,"1.5.1",function im(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(K_,"1.5.1","esm2017")}("Browser");function Eh(){return Eh=(0,a.Z)(function*(w,m,_){var E;const{BuildInfo:B}=Qs();Pe(m.sessionId,"AuthEvent did not contain a session ID");const ue=yield function xh(w){return sm.apply(this,arguments)}(m.sessionId),Se={};return ke()?Se.ibi=B.packageName:He()?Se.apn=B.packageName:k(w,"operation-not-supported-in-this-environment"),B.displayName&&(Se.appDisplayName=B.displayName),Se.sessionId=ue,Ro(w,_,m.type,void 0,null!==(E=m.eventId)&&void 0!==E?E:void 0,Se)}),Eh.apply(this,arguments)}function X_(){return(X_=(0,a.Z)(function*(w){const{BuildInfo:m}=Qs(),_={};ke()?_.iosBundleId=m.packageName:He()?_.androidPackageName=m.packageName:k(w,"operation-not-supported-in-this-environment"),yield Mo(w,_)})).apply(this,arguments)}function om(){return(om=(0,a.Z)(function*(w,m,_){const{cordova:E}=Qs();let B=()=>{};try{yield new Promise((ue,Se)=>{let et=null;function yt(){var nn;ue();const Ni=null===(nn=E.plugins.browsertab)||void 0===nn?void 0:nn.close;"function"==typeof Ni&&Ni(),"function"==typeof _?.close&&_.close()}function $t(){et||(et=window.setTimeout(()=>{Se(W(w,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&$t()}m.addPassiveListener(yt),document.addEventListener("resume",$t,!1),He()&&document.addEventListener("visibilitychange",tn,!1),B=()=>{m.removePassiveListener(yt),document.removeEventListener("resume",$t,!1),document.removeEventListener("visibilitychange",tn,!1),et&&window.clearTimeout(et)}})}finally{B()}})).apply(this,arguments)}function sm(){return(sm=(0,a.Z)(function*(w){const m=function am(w){if(Pe(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const m=new ArrayBuffer(w.length),_=new Uint8Array(m);for(let E=0;E<w.length;E++)_[E]=w.charCodeAt(E);return _}(w),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(B=>B.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class cm extends Jb{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,a.Z)(function*(){yield m.initPromise})()}}function J_(w){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,a.Z)(function*(w){const m=yield Qu()._get(u0(w));return m&&(yield Qu()._remove(u0(w))),m})).apply(this,arguments)}function Gl(){const w=[];for(let _=0;_<20;_++){const E=Math.floor(62*Math.random());w.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return w.join("")}function Qu(){return ve(lh)}function u0(w){return Ve("authEvent",w.config.apiKey,w.name)}function ev(w){if(!w?.includes("?"))return{};const[m,..._]=w.split("?");return(0,D.zd)(_.join("?"))}const lm=class hI{constructor(){this._redirectPersistence=ga,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vh,this._overrideRedirectResult=Ll}_initialize(m){var _=this;return(0,a.Z)(function*(){const E=m._key();let B=_.eventManagers.get(E);return B||(B=new cm(m),_.eventManagers.set(E,B),_.attachCallbackListeners(m,B)),B})()}_openPopup(m){k(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,E,B){var ue=this;return(0,a.Z)(function*(){!function Ku(w){var m,_,E,B,ue,Se,et,yt,$t,tn;const nn=Qs();fe("function"==typeof(null===(m=nn?.universalLinks)||void 0===m?void 0:m.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof(null===(_=nn?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe("function"==typeof(null===(ue=null===(B=null===(E=nn?.cordova)||void 0===E?void 0:E.plugins)||void 0===B?void 0:B.browsertab)||void 0===ue?void 0:ue.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(yt=null===(et=null===(Se=nn?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===et?void 0:et.browsertab)||void 0===yt?void 0:yt.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(tn=null===($t=nn?.cordova)||void 0===$t?void 0:$t.InAppBrowser)||void 0===tn?void 0:tn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Se=yield ue._initialize(m);yield Se.initialized(),Se.resetRedirect(),function zp(){Nc.clear()}(),yield ue._originValidation(m);const et=function c0(w,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Gl(),postBody:null,tenantId:w.tenantId,error:W(w,"no-auth-event")}}(m,E,B);yield function l0(w,m){return Qu()._set(u0(w),m)}(m,et);const yt=yield function cI(w,m,_){return Eh.apply(this,arguments)}(m,et,_),$t=yield function lI(w){const{cordova:m}=Qs();return new Promise(_=>{m.plugins.browsertab.isAvailable(E=>{let B=null;E?m.plugins.browsertab.openUrl(w):B=m.InAppBrowser.open(w,function Oe(w=(0,D.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),_(B)})})}(yt);return function a0(w,m,_){return om.apply(this,arguments)}(m,Se,$t)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Q_(w){return X_.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:E,handleOpenURL:B,BuildInfo:ue}=Qs(),Se=setTimeout((0,a.Z)(function*(){yield J_(m),_.onEvent(Th())}),500),et=function(){var tn=(0,a.Z)(function*(nn){clearTimeout(Se);const Ni=yield J_(m);let Xs=null;Ni&&nn?.url&&(Xs=function Bc(w,m){var _,E;const B=function dI(w){const m=ev(w),_=m.link?decodeURIComponent(m.link):void 0,E=ev(_).link,B=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ev(B).link||B||E||_||w}(m);if(B.includes("/__/auth/callback")){const ue=ev(B),Se=ue.firebaseError?function d0(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(ue.firebaseError)):null,et=null===(E=null===(_=Se?.code)||void 0===_?void 0:_.split("auth/"))||void 0===E?void 0:E[1],yt=et?W(et):null;return yt?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:yt,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:B,postBody:null}}return null}(Ni,nn.url)),_.onEvent(Xs||Th())});return function(Ni){return tn.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,et);const yt=B,$t=`${ue.packageName.toLowerCase()}://`;Qs().handleOpenURL=function(){var tn=(0,a.Z)(function*(nn){if(nn.toLowerCase().startsWith($t)&&et({url:nn}),"function"==typeof yt)try{yt(nn)}catch(Ni){console.error(Ni)}});return function(nn){return tn.apply(this,arguments)}}()}};function Th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:W("no-auth-event")}}function $l(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function Xu(w=(0,D.z$)()){return!("file:"!==$l()&&"ionic:"!==$l()&&"capacitor:"!==$l()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ju(){try{const w=self.localStorage,m=It();if(w)return w.setItem(m,"1"),w.removeItem(m),!function p0(w=(0,D.z$)()){return function Dh(){return(0,D.w1)()&&11===document?.documentMode}()||function fI(w=(0,D.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,D.hl)()}catch{return Ah()&&(0,D.hl)()}return!1}function Ah(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wa(){return(function nv(){return"http:"===$l()||"https:"===$l()}()||(0,D.ru)()||Xu())&&!function Ch(){return(0,D.b$)()||(0,D.UG)()}()&&Ju()&&!Ah()}function um(){return Xu()&&typeof document<"u"}function Sh(){return(Sh=(0,a.Z)(function*(){return!!um()&&new Promise(w=>{const m=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),w(!0)})})})).apply(this,arguments)}const fr={LOCAL:"local",NONE:"none",SESSION:"session"},Qa=fe,ro="persistence";function Uc(w){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.Z)(function*(w){yield w._initializationPromise;const m=Zl(),_=Ve(ro,w.config.apiKey,w.name);m&&m.setItem(_,w._getPersistence())})).apply(this,arguments)}function Zl(){var w;try{return(null===(w=function dm(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const rv=fe;class Ea{constructor(){this.browserResolver=ve(Y_),this.cordovaResolver=ve(lm),this.underlyingResolver=null,this._redirectPersistence=ga,this._completeRedirectFn=vh,this._overrideRedirectResult=Ll}_initialize(m){var _=this;return(0,a.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,E,B){var ue=this;return(0,a.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(m,_,E,B)})()}_openRedirect(m,_,E,B){var ue=this;return(0,a.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(m,_,E,B)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return um()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,a.Z)(function*(){if(m.underlyingResolver)return;const _=yield function m0(){return Sh.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function ov(w){return w.unwrap()}function g0(w){return av(w)}function av(w){const{_tokenResponse:m}=w instanceof D.ZR?w.customData:w;if(!m)return null;if(!(w instanceof D.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return qs.credentialFromResult(w);const _=m.providerId;if(!_||_===j.PASSWORD)return null;let E;switch(_){case j.GOOGLE:E=th;break;case j.FACEBOOK:E=zi;break;case j.GITHUB:E=yr;break;case j.TWITTER:E=_o;break;default:const{oauthIdToken:B,oauthAccessToken:ue,oauthTokenSecret:Se,pendingToken:et,nonce:yt}=m;return ue||Se||B||et?et?_.startsWith("saml.")?Us._create(_,et):jr._fromParams({providerId:_,signInMethod:_,pendingToken:et,idToken:B,accessToken:ue}):new Xr(_).credential({idToken:B,accessToken:ue,rawNonce:yt}):null}return w instanceof D.ZR?E.credentialFromError(w):E.credentialFromResult(w)}function oo(w,m){return m.catch(_=>{throw _ instanceof D.ZR&&function sv(w,m){var _;const E=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new bs(w,function ja(w,m){var _;const E=(0,D.m9)(w),B=m;return fe(m.customData.operationType,E,"argument-error"),fe(null===(_=B.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Tp._fromError(E,B)}(w,m));else if(E){const B=av(m),ue=m;B&&(ue.credential=B,ue.tenantId=E.tenantId||void 0,ue.email=E.email||void 0,ue.phoneNumber=E.phoneNumber||void 0)}}(w,_),_}).then(_=>{const B=_.user;return{operationType:_.operationType,credential:g0(_),additionalUserInfo:yo(_),user:ko.getOrCreate(B)}})}function ys(w,m){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(w,m){const _=yield m;return{verificationId:_.verificationId,confirm:E=>oo(w,_.confirm(E))}})).apply(this,arguments)}class bs{constructor(m,_){this.resolver=_,this.auth=function hm(w){return w.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return oo(ov(this.auth),this.resolver.resolveSignIn(m))}}class ko{constructor(m){this._delegate=m,this.multiFactor=function x_(w){const m=(0,D.m9)(w);return In.has(m)||In.set(m,Pl._fromUser(m)),In.get(m)}(m)}static getOrCreate(m){return ko.USER_MAP.has(m)||ko.USER_MAP.set(m,new ko(m)),ko.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,a.Z)(function*(){return oo(_.auth,nh(_._delegate,m))})()}linkWithPhoneNumber(m,_){var E=this;return(0,a.Z)(function*(){return ys(E.auth,function Za(w,m,_){return Oc.apply(this,arguments)}(E._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,a.Z)(function*(){return oo(_.auth,function jp(w,m,_){return Uu.apply(this,arguments)}(_._delegate,m,Ea))})()}linkWithRedirect(m){var _=this;return(0,a.Z)(function*(){return yield Uc(Xt(_.auth)),Ya(_._delegate,m,Ea)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,a.Z)(function*(){return oo(_.auth,Hs(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return ys(this.auth,function fh(w,m,_){return Vu.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return oo(this.auth,function U_(w,m,_){return no.apply(this,arguments)}(this._delegate,m,Ea))}reauthenticateWithRedirect(m){var _=this;return(0,a.Z)(function*(){return yield Uc(Xt(_.auth)),Wp(_._delegate,m,Ea)})()}sendEmailVerification(m){return function ch(w,m){return C.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,a.Z)(function*(){return yield function pi(w,m){return Cl.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function un(w,m){return Di((0,D.m9)(w),m,null)}(this._delegate,m)}updatePassword(m){return function Ci(w,m){return Di((0,D.m9)(w),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function to(w,m){return qa.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function st(w,m){return Et.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function re(w,m,_){return N.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ko.USER_MAP=new WeakMap;const ed=fe;let Xa=(()=>{class w{constructor(_,E){if(this.app=_,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:B}=_.options;ed(B,"invalid-api-key",{appName:_.name}),ed(B,"invalid-api-key",{appName:_.name});const ue=typeof window<"u"?Ea:void 0;this._delegate=E.initialize({options:{persistence:cv(B,_.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,E){!function zo(w,m,_){const E=Xt(w);fe(E._canInitEmulator,E,"emulator-config-failed"),fe(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const B=!!_?.disableWarnings,ue=as(m),{host:Se,port:et}=function Go(w){const m=as(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(E);if(B){const ue=B[1];return{host:ue,port:So(E.substr(ue.length+1))}}{const[ue,Se]=E.split(":");return{host:ue,port:So(Se)}}}(m);E.config.emulator={url:`${ue}//${Se}${null===et?"":`:${et}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Se,port:et,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Cu(){function w(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,_,E)}applyActionCode(_){return function wp(w,m){return zs.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ac(this._delegate,_)}confirmPasswordReset(_,E){return function Ou(w,m,_){return Ml.apply(this,arguments)}(this._delegate,_,E)}createUserWithEmailAndPassword(_,E){var B=this;return(0,a.Z)(function*(){return oo(B._delegate,function oh(w,m,_){return sh.apply(this,arguments)}(B._delegate,_,E))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Fb(w,m){return Rc.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Nb(w,m){const _=la.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,a.Z)(function*(){ed(wa(),_._delegate,"operation-not-supported-in-this-environment");const E=yield function z_(w,m){return Fc.apply(this,arguments)}(_._delegate,Ea);return E?oo(_._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function h0(w,m){Xt(w)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,E,B){const{next:ue,error:Se,complete:et}=td(_,E,B);return this._delegate.onAuthStateChanged(ue,Se,et)}onIdTokenChanged(_,E,B){const{next:ue,error:Se,complete:et}=td(_,E,B);return this._delegate.onIdTokenChanged(ue,Se,et)}sendSignInLinkToEmail(_,E){return function ah(w,m,_){return Rl.apply(this,arguments)}(this._delegate,_,E)}sendPasswordResetEmail(_,E){return function gs(w,m,_){return _s.apply(this,arguments)}(this._delegate,_,E||void 0)}setPersistence(_){var E=this;return(0,a.Z)(function*(){let B;switch(function iv(w,m){Qa(Object.values(fr).includes(m),w,"invalid-persistence-type"),(0,D.b$)()?Qa(m!==fr.SESSION,w,"unsupported-persistence-type"):(0,D.UG)()?Qa(m===fr.NONE,w,"unsupported-persistence-type"):Ah()?Qa(m===fr.NONE||m===fr.LOCAL&&(0,D.hl)(),w,"unsupported-persistence-type"):Qa(m===fr.NONE||Ju(),w,"unsupported-persistence-type")}(E._delegate,_),_){case fr.SESSION:B=ga;break;case fr.LOCAL:B=(yield ve(za)._isAvailable())?za:lh;break;case fr.NONE:B=xe;break;default:return k("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(B)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return oo(this._delegate,function Mu(w){return Ru.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return oo(this._delegate,Al(this._delegate,_))}signInWithCustomToken(_){return oo(this._delegate,function ar(w,m){return ms.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,E){return oo(this._delegate,function Ep(w,m,_){return Al((0,D.m9)(w),po.credential(m,_)).catch(function(){var E=(0,a.Z)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&ha(w),B});return function(B){return E.apply(this,arguments)}}())}(this._delegate,_,E))}signInWithEmailLink(_,E){return oo(this._delegate,function kl(w,m,_){return Mc.apply(this,arguments)}(this._delegate,_,E))}signInWithPhoneNumber(_,E){return ys(this._delegate,function Wa(w,m,_){return Vp.apply(this,arguments)}(this._delegate,_,E))}signInWithPopup(_){var E=this;return(0,a.Z)(function*(){return ed(wa(),E._delegate,"operation-not-supported-in-this-environment"),oo(E._delegate,function mh(w,m,_){return Nl.apply(this,arguments)}(E._delegate,_,Ea))})()}signInWithRedirect(_){var E=this;return(0,a.Z)(function*(){return ed(wa(),E._delegate,"operation-not-supported-in-this-environment"),yield Uc(E._delegate),Kb(E._delegate,_,Ea)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Gs(w,m){return Sc.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=fr,w})();function td(w,m,_){let E=w;"function"!=typeof w&&({next:E,error:m,complete:_}=w);const B=E;return{next:Se=>B(Se&&ko.getOrCreate(Se)),error:m,complete:_}}function cv(w,m){const _=function zr(w,m){const _=Zl();if(!_)return[];const E=Ve(ro,w,m);switch(_.getItem(E)){case fr.NONE:return[xe];case fr.LOCAL:return[za,ga];case fr.SESSION:return[ga];default:return[]}}(w,m);if(typeof self<"u"&&!_.includes(za)&&_.push(za),typeof window<"u")for(const E of[lh,ga])_.includes(E)||_.push(E);return _.includes(xe)||_.push(xe),_}class Mh{constructor(){this.providerId="phone",this._delegate=new qs(ov(I.Z.auth()))}static credential(m,_){return qs.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Mh.PHONE_SIGN_IN_METHOD=qs.PHONE_SIGN_IN_METHOD,Mh.PROVIDER_ID=qs.PROVIDER_ID;const _0=fe;class lv{constructor(m,_,E=I.Z.app()){var B;_0(null===(B=E.options)||void 0===B?void 0:B.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new F_(E.auth(),m,_),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jc(w){w.INTERNAL.registerComponent(new S.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),E=m.getProvider("auth");return new Xa(_,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:po,FacebookAuthProvider:zi,GithubAuthProvider:yr,GoogleAuthProvider:th,OAuthProvider:Xr,SAMLAuthProvider:Fa,PhoneAuthProvider:Mh,PhoneMultiFactorGenerator:oI,RecaptchaVerifier:lv,TwitterAuthProvider:_o,Auth:Xa,AuthCredential:cs,Error:D.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.5.1")}(I.Z)},5861:(ae,se,y)=>{"use strict";function a(D,P,L,U,S,F,j){try{var O=D[F](j),$=O.value}catch(Q){return void L(Q)}O.done?P($):Promise.resolve($).then(U,S)}function I(D){return function(){var P=this,L=arguments;return new Promise(function(U,S){var F=D.apply(P,L);function j($){a(F,U,S,j,O,"next",$)}function O($){a(F,U,S,j,O,"throw",$)}j(void 0)})}}y.d(se,{Z:()=>I})},7582:(ae,se,y)=>{"use strict";function P(tt,Ke){var $e={};for(var at in tt)Object.prototype.hasOwnProperty.call(tt,at)&&Ke.indexOf(at)<0&&($e[at]=tt[at]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(at=Object.getOwnPropertySymbols(tt);ze<at.length;ze++)Ke.indexOf(at[ze])<0&&Object.prototype.propertyIsEnumerable.call(tt,at[ze])&&($e[at[ze]]=tt[at[ze]])}return $e}function Q(tt,Ke,$e,at){return new($e||($e=Promise))(function(qe,Ct){function le(Fe){try{Ye(at.next(Fe))}catch(Ut){Ct(Ut)}}function he(Fe){try{Ye(at.throw(Fe))}catch(Ut){Ct(Ut)}}function Ye(Fe){Fe.done?qe(Fe.value):function ze(qe){return qe instanceof $e?qe:new $e(function(Ct){Ct(qe)})}(Fe.value).then(le,he)}Ye((at=at.apply(tt,Ke||[])).next())})}function M(tt){return this instanceof M?(this.v=tt,this):new M(tt)}function k(tt,Ke,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,at=$e.apply(tt,Ke||[]),qe=[];return ze={},Ct("next"),Ct("throw"),Ct("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function Ct(_n){at[_n]&&(ze[_n]=function(fn){return new Promise(function(Dn,An){qe.push([_n,fn,Dn,An])>1||le(_n,fn)})})}function le(_n,fn){try{!function he(_n){_n.value instanceof M?Promise.resolve(_n.value.v).then(Ye,Fe):Ut(qe[0][2],_n)}(at[_n](fn))}catch(Dn){Ut(qe[0][3],Dn)}}function Ye(_n){le("next",_n)}function Fe(_n){le("throw",_n)}function Ut(_n,fn){_n(fn),qe.shift(),qe.length&&le(qe[0][0],qe[0][1])}}function be(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ke=tt[Symbol.asyncIterator];return Ke?Ke.call(tt):(tt=function ne(tt){var Ke="function"==typeof Symbol&&Symbol.iterator,$e=Ke&&tt[Ke],at=0;if($e)return $e.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&at>=tt.length&&(tt=void 0),{value:tt&&tt[at++],done:!tt}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),$e={},at("next"),at("throw"),at("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function at(qe){$e[qe]=tt[qe]&&function(Ct){return new Promise(function(le,he){!function ze(qe,Ct,le,he){Promise.resolve(he).then(function(Ye){qe({value:Ye,done:le})},Ct)}(le,he,(Ct=tt[qe](Ct)).done,Ct.value)})}}}y.d(se,{FC:()=>k,KL:()=>be,_T:()=>P,mG:()=>Q,qq:()=>M}),"function"==typeof SuppressedError&&SuppressedError}},ae=>{ae(ae.s=821)}]);